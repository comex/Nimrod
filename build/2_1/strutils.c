/* Generated by Nimrod Compiler v0.8.9 */
/*   (c) 2010 Andreas Rumpf */

typedef long int NI;
typedef unsigned long int NU;
#include "nimbase.h"

#include <pthread.h>
typedef struct NimStringDesc NimStringDesc;
typedef struct TGenericSeq TGenericSeq;
typedef struct TY440 TY440;
typedef struct TNimType TNimType;
typedef struct TNimNode TNimNode;
typedef struct TY416 TY416;
typedef struct E_Base E_Base;
typedef struct TNimObject TNimObject;
typedef struct TY10802 TY10802;
typedef struct TY11190 TY11190;
typedef struct TY10818 TY10818;
typedef struct TY10814 TY10814;
typedef struct TY10810 TY10810;
typedef struct TY11188 TY11188;
typedef NU8 TY21402[32];
struct TGenericSeq {
NI len;
NI space;
};
typedef NIM_CHAR TY239[100000001];
struct NimStringDesc {
  TGenericSeq Sup;
TY239 data;
};
struct TNimType {
NI size;
NU8 kind;
NU8 flags;
TNimType* base;
TNimNode* node;
void* finalizer;
};
struct TNimNode {
NU8 kind;
NI offset;
TNimType* typ;
NCSTRING name;
NI len;
TNimNode** sons;
};
struct TNimObject {
TNimType* m_type;
};
struct E_Base {
  TNimObject Sup;
E_Base* parent;
NCSTRING name;
NimStringDesc* message;
};
struct TY416 {
  E_Base Sup;
};
struct TY440 {
  TY416 Sup;
};
struct TY10802 {
NI Refcount;
TNimType* Typ;
};
struct TY10818 {
NI Len;
NI Cap;
TY10802** D;
};
struct TY10814 {
NI Counter;
NI Max;
TY10810* Head;
TY10810** Data;
};
struct TY11188 {
NI Stackscans;
NI Cyclecollections;
NI Maxthreshold;
NI Maxstacksize;
NI Maxstackcells;
NI Cycletablesize;
};
struct TY11190 {
TY10818 Zct;
TY10818 Decstack;
TY10814 Cycleroots;
TY10818 Tempstack;
NI Cyclerootslock;
NI Zctlock;
TY11188 Stat;
};
typedef NimStringDesc* TY46867[1];
typedef NI TY25135[256];
typedef NI TY8814[16];
struct TY10810 {
TY10810* Next;
NI Key;
TY8814 Bits;
};
N_NOINLINE(void, raiseOverflow)(void);
N_NIMCALL(NimStringDesc*, nimIntToStr)(NI X_18203);
static N_INLINE(NI, subInt)(NI A_6003, NI B_6004);
static N_INLINE(void, appendChar)(NimStringDesc* Dest_17609, NIM_CHAR C_17610);
static N_INLINE(void, appendString)(NimStringDesc* Dest_17592, NimStringDesc* Src_17593);
N_NIMCALL(NimStringDesc*, rawNewString)(NI Space_17487);
static N_INLINE(NI, addInt)(NI A_5803, NI B_5804);
N_NIMCALL(NIM_CHAR, nsuToLowerChar)(NIM_CHAR C_23417);
N_NOINLINE(void, raiseIndexError)(void);
N_NIMCALL(NimStringDesc*, mnewString)(NI Len_1349);
N_NIMCALL(NimStringDesc*, copyString)(NimStringDesc* Src_17508);
N_NIMCALL(void, nsuAddf)(NimStringDesc** S_23741, NimStringDesc* Formatstr_23742, NimStringDesc** A_23744, NI A_23744Len0);
N_NIMCALL(NimStringDesc*, resizeString)(NimStringDesc* Dest_17582, NI Addlen_17583);
N_NIMCALL(NimStringDesc*, addChar)(NimStringDesc* S_1603, NIM_CHAR C_1604);
N_NIMCALL(NI, mulInt)(NI A_6803, NI B_6804);
N_NIMCALL(NI, Findnormalized_23714)(NimStringDesc* X_23716, NimStringDesc** Inarray_23718, NI Inarray_23718Len0);
N_NIMCALL(NI, nsuCmpIgnoreStyle)(NimStringDesc* A_23638, NimStringDesc* B_23639);
N_NIMCALL(NimStringDesc*, copyStrLast)(NimStringDesc* S_1928, NI First_1929, NI Last_1930);
N_NIMCALL(void*, newObj)(TNimType* Typ_12507, NI Size_12508);
static N_INLINE(void, asgnRefNoCycle)(void** Dest_12018, void* Src_12019);
static N_INLINE(TY10802*, Usrtocell_11236)(void* Usr_11238);
static N_INLINE(NI, Atomicinc_3001)(NI* Memloc_3004, NI X_3005);
static N_INLINE(NI, Atomicdec_3006)(NI* Memloc_3009, NI X_3010);
static N_INLINE(void, Rtladdzct_11858)(TY10802* C_11860);
N_NOINLINE(void, Addzct_11225)(TY10818* S_11228, TY10802* C_11229);
N_NIMCALL(void, raiseException)(E_Base* E_5204, NCSTRING Ename_5205);
N_NIMCALL(NimStringDesc*, nsuFormatOpenArray)(NimStringDesc* Formatstr_23965, NimStringDesc** A_23967, NI A_23967Len0);
static N_INLINE(NI64, addInt64)(NI64 A_5729, NI64 B_5730);
N_NIMCALL(NI, nsuFindCharSet)(NimStringDesc* S_25251, TY21402 Chars_25253, NI Start_25254);
N_NIMCALL(NimStringDesc*, setLengthStr)(NimStringDesc* S_17625, NI Newlen_17626);
N_NIMCALL(void, Preprocesssub_25136)(NimStringDesc* Sub_25138, NI* A_25140);
N_NIMCALL(NI, Findaux_25171)(NimStringDesc* S_25173, NimStringDesc* Sub_25174, NI Start_25175, TY25135 A_25176);
N_NIMCALL(NI, npuParseInt)(NimStringDesc* S_21856, NI* Number_21858, NI Start_21859);
N_NIMCALL(NI, npuParseFloat)(NimStringDesc* S_22234, NF* Number_22236, NI Start_22237);
N_NIMCALL(NI, npuParseBiggestInt)(NimStringDesc* S_21849, NI64* Number_21851, NI Start_21852);
N_NIMCALL(void, internalAssert)(NCSTRING File_5254, NI Line_5255, NIM_BOOL Cond_5256);
N_NIMCALL(NI64, chckRange64)(NI64 I_5523, NI64 A_5524, NI64 B_5525);
N_NIMCALL(NimStringDesc*, copyStr)(NimStringDesc* S_1924, NI First_1925);
static N_INLINE(NI, modInt)(NI A_6603, NI B_6604);
N_NOINLINE(void, raiseDivByZero)(void);
static N_INLINE(NI, divInt)(NI A_6403, NI B_6404);
NIM_CONST TY21402 Whitespace_23403 = {
0x00, 0x3E, 0x00, 0x00, 0x01, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00}
;
NIM_CONST TY21402 Letters_23405 = {
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0xFE, 0xFF, 0xFF, 0x07, 0xFE, 0xFF, 0xFF, 0x07,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00}
;
NIM_CONST TY21402 Digits_23407 = {
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xFF, 0x03,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00}
;
NIM_CONST TY21402 Hexdigits_23409 = {
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xFF, 0x03,
0x7E, 0x00, 0x00, 0x00, 0x7E, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00}
;
NIM_CONST TY21402 Identchars_23411 = {
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xFF, 0x03,
0xFE, 0xFF, 0xFF, 0x87, 0xFE, 0xFF, 0xFF, 0x07,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00}
;
NIM_CONST TY21402 Identstartchars_23413 = {
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0xFE, 0xFF, 0xFF, 0x87, 0xFE, 0xFF, 0xFF, 0x07,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00}
;
STRING_LITERAL(TMP46869, "", 0);
NIM_CONST TY21402 Patternchars_23745 = {
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xFF, 0x03,
0xFE, 0xFF, 0xFF, 0x87, 0xFE, 0xFF, 0xFF, 0x07,
0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF,
0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF}
;
STRING_LITERAL(TMP46870, "invalid format string", 21);
STRING_LITERAL(TMP58585, "0123456789ABCDEF", 16);
static NIM_CONST TY21402 TMP67630 = {
0x00, 0x02, 0x00, 0x00, 0x01, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00}
;STRING_LITERAL(TMP68643, "invalid integer: ", 17);
STRING_LITERAL(TMP76279, "invalid float: ", 15);
NIM_CONST TY21402 Chars_23985 = {
0x00, 0x3E, 0x00, 0x00, 0x01, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00}
;
extern TNimType* NTI44278; /* ref EInvalidValue */
extern TNimType* NTI440; /* EInvalidValue */
extern TY11190 Gch_11210;
static N_INLINE(NI, subInt)(NI A_6003, NI B_6004) {
NI Result_6005;
NIM_BOOL LOC2;
Result_6005 = 0;
Result_6005 = (NI32)((NU32)(A_6003) - (NU32)(B_6004));
LOC2 = (0 <= (NI32)(Result_6005 ^ A_6003));
if (LOC2) goto LA3;
LOC2 = (0 <= (NI32)(Result_6005 ^ (NI32)((NU32) ~(B_6004))));
LA3: ;
if (!LOC2) goto LA4;
goto BeforeRet;
LA4: ;
raiseOverflow();
BeforeRet: ;
return Result_6005;
}
static N_INLINE(void, appendChar)(NimStringDesc* Dest_17609, NIM_CHAR C_17610) {
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "appendChar";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/system/sysstr.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
F.line = 154;F.filename = "sysstr.nim";
(*Dest_17609).data[((*Dest_17609).Sup.len)-0] = C_17610;
F.line = 155;F.filename = "sysstr.nim";
(*Dest_17609).data[((NI32)((*Dest_17609).Sup.len + 1))-0] = 0;
F.line = 156;F.filename = "sysstr.nim";
(*Dest_17609).Sup.len += 1;
framePtr = framePtr->prev;
}
static N_INLINE(void, appendString)(NimStringDesc* Dest_17592, NimStringDesc* Src_17593) {
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "appendString";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/system/sysstr.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
F.line = 150;F.filename = "sysstr.nim";
memcpy(((NCSTRING) (&(*Dest_17592).data[((*Dest_17592).Sup.len)-0])), ((NCSTRING) ((*Src_17593).data)), ((int) ((NI32)((NI32)((*Src_17593).Sup.len + 1) * 1))));
F.line = 151;F.filename = "sysstr.nim";
(*Dest_17592).Sup.len += (*Src_17593).Sup.len;
framePtr = framePtr->prev;
}
static N_INLINE(NI, addInt)(NI A_5803, NI B_5804) {
NI Result_5805;
NIM_BOOL LOC2;
Result_5805 = 0;
Result_5805 = (NI32)((NU32)(A_5803) + (NU32)(B_5804));
LOC2 = (0 <= (NI32)(Result_5805 ^ A_5803));
if (LOC2) goto LA3;
LOC2 = (0 <= (NI32)(Result_5805 ^ B_5804));
LA3: ;
if (!LOC2) goto LA4;
goto BeforeRet;
LA4: ;
raiseOverflow();
BeforeRet: ;
return Result_5805;
}
N_NIMCALL(NimStringDesc*, nsuIntToStr)(NI X_24471, NI Minchars_24472) {
NimStringDesc* Result_24473;
NI I_24485;
NI HEX3Atmp_24497;
NI Res_24499;
NimStringDesc* LOC2;
NimStringDesc* LOC6;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "intToStr";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/pure/strutils.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_24473 = 0;
F.line = 395;F.filename = "strutils.nim";
if (X_24471 == (-2147483647 -1)) raiseOverflow();
Result_24473 = nimIntToStr((NI32)abs(X_24471));
I_24485 = 0;
HEX3Atmp_24497 = 0;
F.line = 396;F.filename = "strutils.nim";
HEX3Atmp_24497 = subInt(Minchars_24472, Result_24473->Sup.len);
Res_24499 = 0;
F.line = 1021;F.filename = "system.nim";
Res_24499 = 1;
F.line = 1022;F.filename = "system.nim";
while (1) {
if (!(Res_24499 <= HEX3Atmp_24497)) goto LA1;
F.line = 1021;F.filename = "system.nim";
I_24485 = Res_24499;
F.line = 397;F.filename = "strutils.nim";
LOC2 = 0;
LOC2 = rawNewString(Result_24473->Sup.len + 1);
appendChar(LOC2, 48);
appendString(LOC2, Result_24473);
Result_24473 = LOC2;
F.line = 1024;F.filename = "system.nim";
Res_24499 = addInt(Res_24499, 1);
} LA1: ;
F.line = 398;F.filename = "strutils.nim";
if (!(X_24471 < 0)) goto LA4;
F.line = 399;F.filename = "strutils.nim";
LOC6 = 0;
LOC6 = rawNewString(Result_24473->Sup.len + 1);
appendChar(LOC6, 45);
appendString(LOC6, Result_24473);
Result_24473 = LOC6;
LA4: ;
framePtr = framePtr->prev;
return Result_24473;
}
N_NIMCALL(NIM_CHAR, nsuToLowerChar)(NIM_CHAR C_23417) {
NIM_CHAR Result_23418;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "toLower";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/pure/strutils.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_23418 = 0;
F.line = 50;F.filename = "strutils.nim";
if (!(((NU8)(C_23417)) >= ((NU8)(65)) && ((NU8)(C_23417)) <= ((NU8)(90)))) goto LA2;
F.line = 51;F.filename = "strutils.nim";
Result_23418 = ((NIM_CHAR) (((NI) (addInt(((NU8)(C_23417)), 32)))));
goto LA1;
LA2: ;
F.line = 53;F.filename = "strutils.nim";
Result_23418 = C_23417;
LA1: ;
framePtr = framePtr->prev;
return Result_23418;
}
N_NIMCALL(NI, nsuCmpIgnoreCase)(NimStringDesc* A_23595, NimStringDesc* B_23596) {
NI Result_23597;
NI I_23598;
NIM_BOOL LOC2;
NIM_CHAR LOC4;
NIM_CHAR LOC5;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "cmpIgnoreCase";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/pure/strutils.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_23597 = 0;
I_23598 = 0;
F.line = 104;F.filename = "strutils.nim";
I_23598 = 0;
F.line = 105;F.filename = "strutils.nim";
while (1) {
LOC2 = (I_23598 < A_23595->Sup.len);
if (!(LOC2)) goto LA3;
LOC2 = (I_23598 < B_23596->Sup.len);
LA3: ;
if (!LOC2) goto LA1;
F.line = 106;F.filename = "strutils.nim";
if ((NU)(I_23598) > (NU)(A_23595->Sup.len)) raiseIndexError();
LOC4 = nsuToLowerChar(A_23595->data[I_23598]);
if ((NU)(I_23598) > (NU)(B_23596->Sup.len)) raiseIndexError();
LOC5 = nsuToLowerChar(B_23596->data[I_23598]);
Result_23597 = subInt(((NU8)(LOC4)), ((NU8)(LOC5)));
F.line = 107;F.filename = "strutils.nim";
if (!!((Result_23597 == 0))) goto LA7;
F.line = 107;F.filename = "strutils.nim";
goto BeforeRet;
LA7: ;
F.line = 108;F.filename = "strutils.nim";
I_23598 = addInt(I_23598, 1);
} LA1: ;
F.line = 109;F.filename = "strutils.nim";
Result_23597 = subInt(A_23595->Sup.len, B_23596->Sup.len);
BeforeRet: ;
framePtr = framePtr->prev;
return Result_23597;
}
N_NIMCALL(NI, nsuCmpIgnoreStyle)(NimStringDesc* A_23638, NimStringDesc* B_23639) {
NI Result_23640;
NI I_23641;
NI J_23642;
NIM_CHAR Aa_23671;
NIM_CHAR Bb_23672;
NIM_BOOL LOC5;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "cmpIgnoreStyle";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/pure/strutils.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_23640 = 0;
I_23641 = 0;
I_23641 = 0;
J_23642 = 0;
J_23642 = 0;
while (1) {
while (1) {
if (!((NU8)(A_23638->data[I_23641]) == (NU8)(95))) goto LA2;
I_23641 += 1;
} LA2: ;
while (1) {
if (!((NU8)(B_23639->data[J_23642]) == (NU8)(95))) goto LA3;
J_23642 += 1;
} LA3: ;
Aa_23671 = 0;
Aa_23671 = nsuToLowerChar(A_23638->data[I_23641]);
Bb_23672 = 0;
Bb_23672 = nsuToLowerChar(B_23639->data[J_23642]);
Result_23640 = (NI32)(((NU8)(Aa_23671)) - ((NU8)(Bb_23672)));
LOC5 = !((Result_23640 == 0));
if (LOC5) goto LA6;
LOC5 = ((NU8)(Aa_23671) == (NU8)(0));
LA6: ;
if (!LOC5) goto LA7;
goto LA1;
LA7: ;
I_23641 += 1;
J_23642 += 1;
} LA1: ;
framePtr = framePtr->prev;
return Result_23640;
}
N_NIMCALL(NIM_BOOL, nsuStartsWith)(NimStringDesc* S_24769, NimStringDesc* Prefix_24770) {
NIM_BOOL Result_24771;
NI I_24772;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "startsWith";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/pure/strutils.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_24771 = 0;
I_24772 = 0;
F.line = 459;F.filename = "strutils.nim";
I_24772 = 0;
F.line = 460;F.filename = "strutils.nim";
while (1) {
F.line = 461;F.filename = "strutils.nim";
if ((NU)(I_24772) > (NU)(Prefix_24770->Sup.len)) raiseIndexError();
if (!((NU8)(Prefix_24770->data[I_24772]) == (NU8)(0))) goto LA3;
F.line = 461;F.filename = "strutils.nim";
F.line = 461;F.filename = "strutils.nim";
Result_24771 = NIM_TRUE;
goto BeforeRet;
LA3: ;
F.line = 462;F.filename = "strutils.nim";
if ((NU)(I_24772) > (NU)(S_24769->Sup.len)) raiseIndexError();
if ((NU)(I_24772) > (NU)(Prefix_24770->Sup.len)) raiseIndexError();
if (!!(((NU8)(S_24769->data[I_24772]) == (NU8)(Prefix_24770->data[I_24772])))) goto LA6;
F.line = 462;F.filename = "strutils.nim";
F.line = 462;F.filename = "strutils.nim";
Result_24771 = NIM_FALSE;
goto BeforeRet;
LA6: ;
F.line = 463;F.filename = "strutils.nim";
I_24772 = addInt(I_24772, 1);
}
BeforeRet: ;
framePtr = framePtr->prev;
return Result_24771;
}
N_NIMCALL(NI, nsuFindChar)(NimStringDesc* S_25227, NIM_CHAR Sub_25228, NI Start_25229) {
NI Result_25230;
NI I_25240;
NI HEX3Atmp_25244;
NI Res_25246;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "find";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/pure/strutils.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_25230 = 0;
I_25240 = 0;
HEX3Atmp_25244 = 0;
F.line = 580;F.filename = "strutils.nim";
HEX3Atmp_25244 = subInt(S_25227->Sup.len, 1);
Res_25246 = 0;
F.line = 1021;F.filename = "system.nim";
Res_25246 = Start_25229;
F.line = 1022;F.filename = "system.nim";
while (1) {
if (!(Res_25246 <= HEX3Atmp_25244)) goto LA1;
F.line = 1021;F.filename = "system.nim";
I_25240 = Res_25246;
F.line = 581;F.filename = "strutils.nim";
if ((NU)(I_25240) > (NU)(S_25227->Sup.len)) raiseIndexError();
if (!((NU8)(Sub_25228) == (NU8)(S_25227->data[I_25240]))) goto LA3;
F.line = 581;F.filename = "strutils.nim";
F.line = 581;F.filename = "strutils.nim";
Result_25230 = I_25240;
goto BeforeRet;
LA3: ;
F.line = 1024;F.filename = "system.nim";
Res_25246 = addInt(Res_25246, 1);
} LA1: ;
F.line = 582;F.filename = "strutils.nim";
F.line = 582;F.filename = "strutils.nim";
Result_25230 = -1;
goto BeforeRet;
BeforeRet: ;
framePtr = framePtr->prev;
return Result_25230;
}
N_NIMCALL(NimStringDesc*, nsuToLowerStr)(NimStringDesc* S_23448) {
NimStringDesc* Result_23449;
NI I_23476;
NI HEX3Atmp_23478;
NI Res_23480;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "toLower";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/pure/strutils.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_23449 = 0;
F.line = 59;F.filename = "strutils.nim";
Result_23449 = mnewString(S_23448->Sup.len);
I_23476 = 0;
HEX3Atmp_23478 = 0;
F.line = 60;F.filename = "strutils.nim";
HEX3Atmp_23478 = subInt(S_23448->Sup.len, 1);
Res_23480 = 0;
F.line = 1021;F.filename = "system.nim";
Res_23480 = 0;
F.line = 1022;F.filename = "system.nim";
while (1) {
if (!(Res_23480 <= HEX3Atmp_23478)) goto LA1;
F.line = 1021;F.filename = "system.nim";
I_23476 = Res_23480;
F.line = 61;F.filename = "strutils.nim";
if ((NU)(I_23476) > (NU)(Result_23449->Sup.len)) raiseIndexError();
if ((NU)(I_23476) > (NU)(S_23448->Sup.len)) raiseIndexError();
Result_23449->data[I_23476] = nsuToLowerChar(S_23448->data[I_23476]);
F.line = 1024;F.filename = "system.nim";
Res_23480 = addInt(Res_23480, 1);
} LA1: ;
framePtr = framePtr->prev;
return Result_23449;
}
N_NIMCALL(NI, Findnormalized_23714)(NimStringDesc* X_23716, NimStringDesc** Inarray_23718, NI Inarray_23718Len0) {
NI Result_23719;
NI I_23720;
NI LOC3;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "findNormalized";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/pure/strutils.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_23719 = 0;
I_23720 = 0;
F.line = 137;F.filename = "strutils.nim";
I_23720 = 0;
F.line = 138;F.filename = "strutils.nim";
while (1) {
if (!(I_23720 < (Inarray_23718Len0-1))) goto LA1;
F.line = 139;F.filename = "strutils.nim";
if ((NU)(I_23720) >= (NU)(Inarray_23718Len0)) raiseIndexError();
LOC3 = nsuCmpIgnoreStyle(X_23716, Inarray_23718[I_23720]);
if (!(LOC3 == 0)) goto LA4;
F.line = 139;F.filename = "strutils.nim";
F.line = 139;F.filename = "strutils.nim";
Result_23719 = I_23720;
goto BeforeRet;
LA4: ;
F.line = 140;F.filename = "strutils.nim";
I_23720 = addInt(I_23720, 2);
} LA1: ;
F.line = 142;F.filename = "strutils.nim";
F.line = 142;F.filename = "strutils.nim";
Result_23719 = -1;
goto BeforeRet;
BeforeRet: ;
framePtr = framePtr->prev;
return Result_23719;
}
static N_INLINE(TY10802*, Usrtocell_11236)(void* Usr_11238) {
TY10802* Result_11239;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "usrToCell";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/system/gc.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_11239 = 0;
F.line = 100;F.filename = "gc.nim";
Result_11239 = ((TY10802*) ((NI32)((NU32)(((NI) (Usr_11238))) - (NU32)(((NI) (((NI)sizeof(TY10802))))))));
framePtr = framePtr->prev;
return Result_11239;
}
static N_INLINE(NI, Atomicinc_3001)(NI* Memloc_3004, NI X_3005) {
NI Result_7408;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "atomicInc";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/system/systhread.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_7408 = 0;
F.line = 29;F.filename = "systhread.nim";
Result_7408 = __sync_add_and_fetch(Memloc_3004, X_3005);
framePtr = framePtr->prev;
return Result_7408;
}
static N_INLINE(NI, Atomicdec_3006)(NI* Memloc_3009, NI X_3010) {
NI Result_7606;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "atomicDec";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/system/systhread.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_7606 = 0;
F.line = 37;F.filename = "systhread.nim";
Result_7606 = __sync_sub_and_fetch(Memloc_3009, X_3010);
framePtr = framePtr->prev;
return Result_7606;
}
static N_INLINE(void, Rtladdzct_11858)(TY10802* C_11860) {
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "rtlAddZCT";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/system/gc.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
F.line = 211;F.filename = "gc.nim";
if (!NIM_TRUE) goto LA2;
F.line = 211;F.filename = "gc.nim";
pthread_mutex_lock(&Gch_11210.Zctlock);
LA2: ;
F.line = 212;F.filename = "gc.nim";
Addzct_11225(&Gch_11210.Zct, C_11860);
F.line = 213;F.filename = "gc.nim";
if (!NIM_TRUE) goto LA5;
F.line = 213;F.filename = "gc.nim";
pthread_mutex_unlock(&Gch_11210.Zctlock);
LA5: ;
framePtr = framePtr->prev;
}
static N_INLINE(void, asgnRefNoCycle)(void** Dest_12018, void* Src_12019) {
TY10802* C_12020;
NI LOC4;
TY10802* C_12022;
NI LOC9;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "asgnRefNoCycle";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/system/gc.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
F.line = 244;F.filename = "gc.nim";
if (!!((Src_12019 == NIM_NIL))) goto LA2;
C_12020 = 0;
F.line = 245;F.filename = "gc.nim";
C_12020 = Usrtocell_11236(Src_12019);
F.line = 246;F.filename = "gc.nim";
LOC4 = Atomicinc_3001(&(*C_12020).Refcount, 8);
LA2: ;
F.line = 247;F.filename = "gc.nim";
if (!!(((*Dest_12018) == NIM_NIL))) goto LA6;
C_12022 = 0;
F.line = 248;F.filename = "gc.nim";
C_12022 = Usrtocell_11236((*Dest_12018));
F.line = 249;F.filename = "gc.nim";
LOC9 = Atomicdec_3006(&(*C_12022).Refcount, 8);
if (!((NU32)(LOC9) < (NU32)(8))) goto LA10;
F.line = 250;F.filename = "gc.nim";
Rtladdzct_11858(C_12022);
LA10: ;
LA6: ;
F.line = 251;F.filename = "gc.nim";
(*Dest_12018) = Src_12019;
framePtr = framePtr->prev;
}
N_NIMCALL(void, nsuAddf)(NimStringDesc** S_23741, NimStringDesc* Formatstr_23742, NimStringDesc** A_23744, NI A_23744Len0) {
NI I_23747;
NI Num_23748;
NI J_23791;
NI J_23837;
NI X_23862;
NimStringDesc* LOC7;
NIM_BOOL LOC9;
TY440* E_23868;
NI J_23884;
NI X_23908;
NimStringDesc* LOC15;
NIM_BOOL LOC17;
TY440* E_23914;
TY440* E_23931;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "addf";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/pure/strutils.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
I_23747 = 0;
F.line = 148;F.filename = "strutils.nim";
I_23747 = 0;
Num_23748 = 0;
F.line = 149;F.filename = "strutils.nim";
Num_23748 = 0;
F.line = 150;F.filename = "strutils.nim";
while (1) {
if (!(I_23747 < Formatstr_23742->Sup.len)) goto LA1;
F.line = 151;F.filename = "strutils.nim";
if ((NU)(I_23747) > (NU)(Formatstr_23742->Sup.len)) raiseIndexError();
if (!((NU8)(Formatstr_23742->data[I_23747]) == (NU8)(36))) goto LA3;
F.line = 152;F.filename = "strutils.nim";
if ((NU)(addInt(I_23747, 1)) > (NU)(Formatstr_23742->Sup.len)) raiseIndexError();
switch (((NU8)(Formatstr_23742->data[addInt(I_23747, 1)]))) {
case 35:
F.line = 155;F.filename = "strutils.nim";
if ((NU)(Num_23748) >= (NU)(A_23744Len0)) raiseIndexError();
(*S_23741) = resizeString((*S_23741), A_23744[Num_23748]->Sup.len + 0);
appendString((*S_23741), A_23744[Num_23748]);
F.line = 156;F.filename = "strutils.nim";
I_23747 = addInt(I_23747, 2);
F.line = 157;F.filename = "strutils.nim";
Num_23748 = addInt(Num_23748, 1);
break;
case 36:
F.line = 159;F.filename = "strutils.nim";
(*S_23741) = addChar((*S_23741), 36);
F.line = 160;F.filename = "strutils.nim";
I_23747 = addInt(I_23747, 2);
break;
case 49 ... 57:
J_23791 = 0;
F.line = 162;F.filename = "strutils.nim";
J_23791 = 0;
F.line = 163;F.filename = "strutils.nim";
I_23747 = addInt(I_23747, 1);
F.line = 164;F.filename = "strutils.nim";
while (1) {
if ((NU)(I_23747) > (NU)(Formatstr_23742->Sup.len)) raiseIndexError();
if (!(((NU8)(Formatstr_23742->data[I_23747])) >= ((NU8)(48)) && ((NU8)(Formatstr_23742->data[I_23747])) <= ((NU8)(57)))) goto LA5;
F.line = 165;F.filename = "strutils.nim";
if ((NU)(I_23747) > (NU)(Formatstr_23742->Sup.len)) raiseIndexError();
J_23791 = subInt(addInt(mulInt(J_23791, 10), ((NU8)(Formatstr_23742->data[I_23747]))), 48);
F.line = 166;F.filename = "strutils.nim";
I_23747 = addInt(I_23747, 1);
} LA5: ;
F.line = 167;F.filename = "strutils.nim";
Num_23748 = J_23791;
F.line = 168;F.filename = "strutils.nim";
if ((NU)(subInt(J_23791, 1)) >= (NU)(A_23744Len0)) raiseIndexError();
(*S_23741) = resizeString((*S_23741), A_23744[subInt(J_23791, 1)]->Sup.len + 0);
appendString((*S_23741), A_23744[subInt(J_23791, 1)]);
break;
case 123:
J_23837 = 0;
F.line = 170;F.filename = "strutils.nim";
J_23837 = addInt(I_23747, 1);
F.line = 171;F.filename = "strutils.nim";
while (1) {
if ((NU)(J_23837) > (NU)(Formatstr_23742->Sup.len)) raiseIndexError();
if (!!((((NU8)(Formatstr_23742->data[J_23837])) == ((NU8)(0)) || ((NU8)(Formatstr_23742->data[J_23837])) == ((NU8)(125))))) goto LA6;
F.line = 171;F.filename = "strutils.nim";
J_23837 = addInt(J_23837, 1);
} LA6: ;
X_23862 = 0;
F.line = 172;F.filename = "strutils.nim";
LOC7 = 0;
LOC7 = copyStrLast(Formatstr_23742, addInt(I_23747, 2), subInt(J_23837, 1));
X_23862 = Findnormalized_23714(LOC7, A_23744, A_23744Len0);
F.line = 173;F.filename = "strutils.nim";
LOC9 = (0 <= X_23862);
if (!(LOC9)) goto LA10;
LOC9 = (X_23862 < (A_23744Len0-1));
LA10: ;
if (!LOC9) goto LA11;
F.line = 173;F.filename = "strutils.nim";
if ((NU)(addInt(X_23862, 1)) >= (NU)(A_23744Len0)) raiseIndexError();
(*S_23741) = resizeString((*S_23741), A_23744[addInt(X_23862, 1)]->Sup.len + 0);
appendString((*S_23741), A_23744[addInt(X_23862, 1)]);
goto LA8;
LA11: ;
E_23868 = 0;
F.line = 1280;F.filename = "system.nim";
E_23868 = (TY440*) newObj(NTI44278, sizeof(TY440));
(*E_23868).Sup.Sup.Sup.m_type = NTI440;
F.line = 1281;F.filename = "system.nim";
asgnRefNoCycle((void**) &(*E_23868).Sup.Sup.message, copyString(((NimStringDesc*) &TMP46870)));
F.line = 174;F.filename = "strutils.nim";
raiseException((E_Base*)E_23868, "EInvalidValue");
LA8: ;
F.line = 175;F.filename = "strutils.nim";
I_23747 = addInt(J_23837, 1);
break;
case 97 ... 122:
case 65 ... 90:
case 128 ... 255:
case 95:
J_23884 = 0;
F.line = 177;F.filename = "strutils.nim";
J_23884 = addInt(I_23747, 1);
F.line = 178;F.filename = "strutils.nim";
while (1) {
if ((NU)(J_23884) > (NU)(Formatstr_23742->Sup.len)) raiseIndexError();
if (!(((NU8)(Formatstr_23742->data[J_23884])) >= ((NU8)(97)) && ((NU8)(Formatstr_23742->data[J_23884])) <= ((NU8)(122)) || ((NU8)(Formatstr_23742->data[J_23884])) >= ((NU8)(65)) && ((NU8)(Formatstr_23742->data[J_23884])) <= ((NU8)(90)) || ((NU8)(Formatstr_23742->data[J_23884])) >= ((NU8)(48)) && ((NU8)(Formatstr_23742->data[J_23884])) <= ((NU8)(57)) || ((NU8)(Formatstr_23742->data[J_23884])) >= ((NU8)(128)) && ((NU8)(Formatstr_23742->data[J_23884])) <= ((NU8)(255)) || ((NU8)(Formatstr_23742->data[J_23884])) == ((NU8)(95)))) goto LA14;
F.line = 178;F.filename = "strutils.nim";
J_23884 = addInt(J_23884, 1);
} LA14: ;
X_23908 = 0;
F.line = 179;F.filename = "strutils.nim";
LOC15 = 0;
LOC15 = copyStrLast(Formatstr_23742, addInt(I_23747, 1), subInt(J_23884, 1));
X_23908 = Findnormalized_23714(LOC15, A_23744, A_23744Len0);
F.line = 180;F.filename = "strutils.nim";
LOC17 = (0 <= X_23908);
if (!(LOC17)) goto LA18;
LOC17 = (X_23908 < (A_23744Len0-1));
LA18: ;
if (!LOC17) goto LA19;
F.line = 180;F.filename = "strutils.nim";
if ((NU)(addInt(X_23908, 1)) >= (NU)(A_23744Len0)) raiseIndexError();
(*S_23741) = resizeString((*S_23741), A_23744[addInt(X_23908, 1)]->Sup.len + 0);
appendString((*S_23741), A_23744[addInt(X_23908, 1)]);
goto LA16;
LA19: ;
E_23914 = 0;
F.line = 1280;F.filename = "system.nim";
E_23914 = (TY440*) newObj(NTI44278, sizeof(TY440));
(*E_23914).Sup.Sup.Sup.m_type = NTI440;
F.line = 1281;F.filename = "system.nim";
asgnRefNoCycle((void**) &(*E_23914).Sup.Sup.message, copyString(((NimStringDesc*) &TMP46870)));
F.line = 181;F.filename = "strutils.nim";
raiseException((E_Base*)E_23914, "EInvalidValue");
LA16: ;
F.line = 182;F.filename = "strutils.nim";
I_23747 = J_23884;
break;
default:
E_23931 = 0;
F.line = 1280;F.filename = "system.nim";
E_23931 = (TY440*) newObj(NTI44278, sizeof(TY440));
(*E_23931).Sup.Sup.Sup.m_type = NTI440;
F.line = 1281;F.filename = "system.nim";
asgnRefNoCycle((void**) &(*E_23931).Sup.Sup.message, copyString(((NimStringDesc*) &TMP46870)));
F.line = 183;F.filename = "strutils.nim";
raiseException((E_Base*)E_23931, "EInvalidValue");
break;
}
goto LA2;
LA3: ;
F.line = 185;F.filename = "strutils.nim";
if ((NU)(I_23747) > (NU)(Formatstr_23742->Sup.len)) raiseIndexError();
(*S_23741) = addChar((*S_23741), Formatstr_23742->data[I_23747]);
F.line = 186;F.filename = "strutils.nim";
I_23747 = addInt(I_23747, 1);
LA2: ;
} LA1: ;
framePtr = framePtr->prev;
}
N_NIMCALL(NimStringDesc*, nsuFormatOpenArray)(NimStringDesc* Formatstr_23965, NimStringDesc** A_23967, NI A_23967Len0) {
NimStringDesc* Result_23968;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "%";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/pure/strutils.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_23968 = 0;
F.line = 226;F.filename = "strutils.nim";
Result_23968 = copyString(((NimStringDesc*) &TMP46869));
F.line = 227;F.filename = "strutils.nim";
nsuAddf(&Result_23968, Formatstr_23965, A_23967, A_23967Len0);
framePtr = framePtr->prev;
return Result_23968;
}
N_NIMCALL(NimStringDesc*, nsuFormatSingleElem)(NimStringDesc* Formatstr_23972, NimStringDesc* A_23973) {
NimStringDesc* Result_23974;
TY46867 LOC1;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "%";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/pure/strutils.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_23974 = 0;
F.line = 232;F.filename = "strutils.nim";
F.line = 232;F.filename = "strutils.nim";
memset((void*)&LOC1, 0, sizeof(LOC1));
LOC1[0] = copyString(A_23973);
Result_23974 = nsuFormatOpenArray(Formatstr_23972, LOC1, 1);
goto BeforeRet;
BeforeRet: ;
framePtr = framePtr->prev;
return Result_23974;
}
N_NIMCALL(NimStringDesc*, nsuRepeatChar)(NI Count_24750, NIM_CHAR C_24751) {
NimStringDesc* Result_24752;
NI I_24760;
NI HEX3Atmp_24762;
NI Res_24764;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "repeatChar";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/pure/strutils.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_24752 = 0;
F.line = 451;F.filename = "strutils.nim";
Result_24752 = mnewString(Count_24750);
I_24760 = 0;
HEX3Atmp_24762 = 0;
F.line = 452;F.filename = "strutils.nim";
HEX3Atmp_24762 = subInt(Count_24750, 1);
Res_24764 = 0;
F.line = 1021;F.filename = "system.nim";
Res_24764 = 0;
F.line = 1022;F.filename = "system.nim";
while (1) {
if (!(Res_24764 <= HEX3Atmp_24762)) goto LA1;
F.line = 1021;F.filename = "system.nim";
I_24760 = Res_24764;
F.line = 453;F.filename = "strutils.nim";
if ((NU)(I_24760) > (NU)(Result_24752->Sup.len)) raiseIndexError();
Result_24752->data[I_24760] = C_24751;
F.line = 1024;F.filename = "system.nim";
Res_24764 = addInt(Res_24764, 1);
} LA1: ;
framePtr = framePtr->prev;
return Result_24752;
}
static N_INLINE(NI64, addInt64)(NI64 A_5729, NI64 B_5730) {
NI64 Result_5731;
NIM_BOOL LOC2;
Result_5731 = 0;
Result_5731 = (NI64)((NU64)(A_5729) + (NU64)(B_5730));
LOC2 = (0 <= (Result_5731 ^ A_5729));
if (LOC2) goto LA3;
LOC2 = (0 <= (Result_5731 ^ B_5730));
LA3: ;
if (!LOC2) goto LA4;
goto BeforeRet;
LA4: ;
raiseOverflow();
BeforeRet: ;
return Result_5731;
}
N_NIMCALL(NimStringDesc*, nsuToHex)(NI64 X_24450, NI Len_24451) {
NimStringDesc* Result_24452;
NI64 Shift_24454;
NI J_24462;
NI HEX3Atmp_24464;
NI Res_24466;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "toHex";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/pure/strutils.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_24452 = 0;
Shift_24454 = 0;
F.line = 385;F.filename = "strutils.nim";
Result_24452 = mnewString(Len_24451);
J_24462 = 0;
HEX3Atmp_24464 = 0;
F.line = 386;F.filename = "strutils.nim";
HEX3Atmp_24464 = subInt(Len_24451, 1);
Res_24466 = 0;
F.line = 1012;F.filename = "system.nim";
Res_24466 = HEX3Atmp_24464;
F.line = 1013;F.filename = "system.nim";
while (1) {
if (!(0 <= Res_24466)) goto LA1;
F.line = 1012;F.filename = "system.nim";
J_24462 = Res_24466;
F.line = 387;F.filename = "strutils.nim";
if ((NU)(J_24462) > (NU)(Result_24452->Sup.len)) raiseIndexError();
if ((NU)((NI32)(((NI32)(NU32)(NU64)((NI64)((NU64)(X_24450) >> (NU64)(Shift_24454)))) & ((NI32) 15))) > (NU)(((NimStringDesc*) &TMP58585)->Sup.len)) raiseIndexError();
Result_24452->data[J_24462] = ((NimStringDesc*) &TMP58585)->data[(NI32)(((NI32)(NU32)(NU64)((NI64)((NU64)(X_24450) >> (NU64)(Shift_24454)))) & ((NI32) 15))];
F.line = 388;F.filename = "strutils.nim";
Shift_24454 = addInt64(Shift_24454, 4);
F.line = 1015;F.filename = "system.nim";
Res_24466 = subInt(Res_24466, 1);
} LA1: ;
framePtr = framePtr->prev;
return Result_24452;
}
N_NIMCALL(NimStringDesc*, nsuNormalize)(NimStringDesc* S_23546) {
NimStringDesc* Result_23547;
NI I_23557;
NI HEX3Atmp_23588;
NI Res_23590;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "normalize";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/pure/strutils.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_23547 = 0;
F.line = 90;F.filename = "strutils.nim";
Result_23547 = copyString(((NimStringDesc*) &TMP46869));
I_23557 = 0;
HEX3Atmp_23588 = 0;
F.line = 91;F.filename = "strutils.nim";
HEX3Atmp_23588 = subInt(S_23546->Sup.len, 1);
Res_23590 = 0;
F.line = 1021;F.filename = "system.nim";
Res_23590 = 0;
F.line = 1022;F.filename = "system.nim";
while (1) {
if (!(Res_23590 <= HEX3Atmp_23588)) goto LA1;
F.line = 1021;F.filename = "system.nim";
I_23557 = Res_23590;
F.line = 92;F.filename = "strutils.nim";
if ((NU)(I_23557) > (NU)(S_23546->Sup.len)) raiseIndexError();
if (!(((NU8)(S_23546->data[I_23557])) >= ((NU8)(65)) && ((NU8)(S_23546->data[I_23557])) <= ((NU8)(90)))) goto LA3;
F.line = 93;F.filename = "strutils.nim";
if ((NU)(I_23557) > (NU)(S_23546->Sup.len)) raiseIndexError();
Result_23547 = addChar(Result_23547, ((NIM_CHAR) (((NI) (addInt(((NU8)(S_23546->data[I_23557])), 32))))));
goto LA2;
LA3: ;
if ((NU)(I_23557) > (NU)(S_23546->Sup.len)) raiseIndexError();
if (!!(((NU8)(S_23546->data[I_23557]) == (NU8)(95)))) goto LA5;
F.line = 95;F.filename = "strutils.nim";
if ((NU)(I_23557) > (NU)(S_23546->Sup.len)) raiseIndexError();
Result_23547 = addChar(Result_23547, S_23546->data[I_23557]);
goto LA2;
LA5: ;
LA2: ;
F.line = 1024;F.filename = "system.nim";
Res_23590 = addInt(Res_23590, 1);
} LA1: ;
framePtr = framePtr->prev;
return Result_23547;
}
N_NIMCALL(NI, nsuFindCharSet)(NimStringDesc* S_25251, TY21402 Chars_25253, NI Start_25254) {
NI Result_25255;
NI I_25265;
NI HEX3Atmp_25278;
NI Res_25280;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "find";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/pure/strutils.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_25255 = 0;
I_25265 = 0;
HEX3Atmp_25278 = 0;
F.line = 588;F.filename = "strutils.nim";
HEX3Atmp_25278 = subInt(S_25251->Sup.len, 1);
Res_25280 = 0;
F.line = 1021;F.filename = "system.nim";
Res_25280 = Start_25254;
F.line = 1022;F.filename = "system.nim";
while (1) {
if (!(Res_25280 <= HEX3Atmp_25278)) goto LA1;
F.line = 1021;F.filename = "system.nim";
I_25265 = Res_25280;
F.line = 589;F.filename = "strutils.nim";
if ((NU)(I_25265) > (NU)(S_25251->Sup.len)) raiseIndexError();
if (!((Chars_25253[((NU8)(S_25251->data[I_25265]))/8] &(1<<(((NU8)(S_25251->data[I_25265]))%8)))!=0)) goto LA3;
F.line = 589;F.filename = "strutils.nim";
F.line = 589;F.filename = "strutils.nim";
Result_25255 = I_25265;
goto BeforeRet;
LA3: ;
F.line = 1024;F.filename = "system.nim";
Res_25280 = addInt(Res_25280, 1);
} LA1: ;
F.line = 590;F.filename = "strutils.nim";
F.line = 590;F.filename = "strutils.nim";
Result_25255 = -1;
goto BeforeRet;
BeforeRet: ;
framePtr = framePtr->prev;
return Result_25255;
}
N_NIMCALL(NimStringDesc*, Quoteifcontainswhite_25283)(NimStringDesc* S_25285) {
NimStringDesc* Result_25286;
NIM_BOOL LOC2;
NI LOC3;
NimStringDesc* LOC7;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "quoteIfContainsWhite";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/pure/strutils.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_25286 = 0;
F.line = 595;F.filename = "strutils.nim";
LOC3 = nsuFindCharSet(S_25285, TMP67630, 0);
LOC2 = (0 <= LOC3);
if (!(LOC2)) goto LA4;
if ((NU)(0) > (NU)(S_25285->Sup.len)) raiseIndexError();
LOC2 = !(((NU8)(S_25285->data[0]) == (NU8)(34)));
LA4: ;
if (!LOC2) goto LA5;
F.line = 596;F.filename = "strutils.nim";
LOC7 = 0;
LOC7 = rawNewString(S_25285->Sup.len + 2);
appendChar(LOC7, 34);
appendString(LOC7, S_25285);
appendChar(LOC7, 34);
Result_25286 = LOC7;
goto LA1;
LA5: ;
F.line = 598;F.filename = "strutils.nim";
Result_25286 = copyString(S_25285);
LA1: ;
framePtr = framePtr->prev;
return Result_25286;
}
N_NIMCALL(NimStringDesc*, nsuJoinSep)(NimStringDesc** A_25004, NI A_25004Len0, NimStringDesc* Sep_25005) {
NimStringDesc* Result_25006;
NI L_25031;
NI I_25039;
NI HEX3Atmp_25063;
NI Res_25065;
NI I_25061;
NI HEX3Atmp_25069;
NI Res_25071;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "join";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/pure/strutils.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_25006 = 0;
F.line = 521;F.filename = "strutils.nim";
if (!(0 < A_25004Len0)) goto LA2;
L_25031 = 0;
F.line = 522;F.filename = "strutils.nim";
L_25031 = mulInt(Sep_25005->Sup.len, subInt(A_25004Len0, 1));
I_25039 = 0;
HEX3Atmp_25063 = 0;
F.line = 523;F.filename = "strutils.nim";
HEX3Atmp_25063 = (A_25004Len0-1);
Res_25065 = 0;
F.line = 1021;F.filename = "system.nim";
Res_25065 = 0;
F.line = 1022;F.filename = "system.nim";
while (1) {
if (!(Res_25065 <= HEX3Atmp_25063)) goto LA4;
F.line = 1021;F.filename = "system.nim";
I_25039 = Res_25065;
F.line = 523;F.filename = "strutils.nim";
if ((NU)(I_25039) >= (NU)(A_25004Len0)) raiseIndexError();
L_25031 = addInt(L_25031, A_25004[I_25039]->Sup.len);
F.line = 1024;F.filename = "system.nim";
Res_25065 = addInt(Res_25065, 1);
} LA4: ;
F.line = 524;F.filename = "strutils.nim";
Result_25006 = mnewString(L_25031);
F.line = 525;F.filename = "strutils.nim";
Result_25006 = setLengthStr(Result_25006, 0);
F.line = 526;F.filename = "strutils.nim";
if ((NU)(0) >= (NU)(A_25004Len0)) raiseIndexError();
Result_25006 = resizeString(Result_25006, A_25004[0]->Sup.len + 0);
appendString(Result_25006, A_25004[0]);
I_25061 = 0;
HEX3Atmp_25069 = 0;
F.line = 527;F.filename = "strutils.nim";
HEX3Atmp_25069 = (A_25004Len0-1);
Res_25071 = 0;
F.line = 1021;F.filename = "system.nim";
Res_25071 = 1;
F.line = 1022;F.filename = "system.nim";
while (1) {
if (!(Res_25071 <= HEX3Atmp_25069)) goto LA5;
F.line = 1021;F.filename = "system.nim";
I_25061 = Res_25071;
F.line = 528;F.filename = "strutils.nim";
Result_25006 = resizeString(Result_25006, Sep_25005->Sup.len + 0);
appendString(Result_25006, Sep_25005);
F.line = 529;F.filename = "strutils.nim";
if ((NU)(I_25061) >= (NU)(A_25004Len0)) raiseIndexError();
Result_25006 = resizeString(Result_25006, A_25004[I_25061]->Sup.len + 0);
appendString(Result_25006, A_25004[I_25061]);
F.line = 1024;F.filename = "system.nim";
Res_25071 = addInt(Res_25071, 1);
} LA5: ;
goto LA1;
LA2: ;
F.line = 531;F.filename = "strutils.nim";
Result_25006 = copyString(((NimStringDesc*) &TMP46869));
LA1: ;
framePtr = framePtr->prev;
return Result_25006;
}
N_NIMCALL(void, Preprocesssub_25136)(NimStringDesc* Sub_25138, NI* A_25140) {
NI M_25143;
NI I_25151;
NI Res_25162;
NI I_25159;
NI HEX3Atmp_25166;
NI Res_25168;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "preprocessSub";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/pure/strutils.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
M_25143 = 0;
F.line = 549;F.filename = "strutils.nim";
M_25143 = Sub_25138->Sup.len;
I_25151 = 0;
Res_25162 = 0;
F.line = 1021;F.filename = "system.nim";
Res_25162 = 0;
F.line = 1022;F.filename = "system.nim";
while (1) {
if (!(Res_25162 <= 255)) goto LA1;
F.line = 1021;F.filename = "system.nim";
I_25151 = Res_25162;
F.line = 550;F.filename = "strutils.nim";
A_25140[(((NU8)(((NIM_CHAR) (((NI) (I_25151)))))))-0] = addInt(M_25143, 1);
F.line = 1024;F.filename = "system.nim";
Res_25162 = addInt(Res_25162, 1);
} LA1: ;
I_25159 = 0;
HEX3Atmp_25166 = 0;
F.line = 551;F.filename = "strutils.nim";
HEX3Atmp_25166 = subInt(M_25143, 1);
Res_25168 = 0;
F.line = 1021;F.filename = "system.nim";
Res_25168 = 0;
F.line = 1022;F.filename = "system.nim";
while (1) {
if (!(Res_25168 <= HEX3Atmp_25166)) goto LA2;
F.line = 1021;F.filename = "system.nim";
I_25159 = Res_25168;
F.line = 551;F.filename = "strutils.nim";
if ((NU)(I_25159) > (NU)(Sub_25138->Sup.len)) raiseIndexError();
A_25140[(((NU8)(Sub_25138->data[I_25159])))-0] = subInt(M_25143, I_25159);
F.line = 1024;F.filename = "system.nim";
Res_25168 = addInt(Res_25168, 1);
} LA2: ;
framePtr = framePtr->prev;
}
N_NIMCALL(NI, Findaux_25171)(NimStringDesc* S_25173, NimStringDesc* Sub_25174, NI Start_25175, TY25135 A_25176) {
NI Result_25177;
NI M_25180;
NI N_25183;
NI J_25184;
NI K_25195;
NI HEX3Atmp_25211;
NI Res_25213;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "findAux";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/pure/strutils.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_25177 = 0;
M_25180 = 0;
F.line = 556;F.filename = "strutils.nim";
M_25180 = Sub_25174->Sup.len;
N_25183 = 0;
F.line = 557;F.filename = "strutils.nim";
N_25183 = S_25173->Sup.len;
J_25184 = 0;
F.line = 559;F.filename = "strutils.nim";
J_25184 = Start_25175;
F.line = 560;F.filename = "strutils.nim";
while (1) {
if (!(J_25184 <= subInt(N_25183, M_25180))) goto LA1;
K_25195 = 0;
HEX3Atmp_25211 = 0;
F.line = 562;F.filename = "strutils.nim";
HEX3Atmp_25211 = subInt(M_25180, 1);
Res_25213 = 0;
F.line = 1021;F.filename = "system.nim";
Res_25213 = 0;
F.line = 1022;F.filename = "system.nim";
while (1) {
if (!(Res_25213 <= HEX3Atmp_25211)) goto LA3;
F.line = 1021;F.filename = "system.nim";
K_25195 = Res_25213;
F.line = 563;F.filename = "strutils.nim";
if ((NU)(K_25195) > (NU)(Sub_25174->Sup.len)) raiseIndexError();
if ((NU)(addInt(K_25195, J_25184)) > (NU)(S_25173->Sup.len)) raiseIndexError();
if (!!(((NU8)(Sub_25174->data[K_25195]) == (NU8)(S_25173->data[addInt(K_25195, J_25184)])))) goto LA5;
F.line = 563;F.filename = "strutils.nim";
goto LA2;
LA5: ;
F.line = 1024;F.filename = "system.nim";
Res_25213 = addInt(Res_25213, 1);
} LA3: ;
F.line = 564;F.filename = "strutils.nim";
F.line = 564;F.filename = "strutils.nim";
Result_25177 = J_25184;
goto BeforeRet;
LA2: ;
F.line = 565;F.filename = "strutils.nim";
if ((NU)(addInt(J_25184, M_25180)) > (NU)(S_25173->Sup.len)) raiseIndexError();
J_25184 = addInt(J_25184, A_25176[(((NU8)(S_25173->data[addInt(J_25184, M_25180)])))-0]);
} LA1: ;
F.line = 566;F.filename = "strutils.nim";
F.line = 566;F.filename = "strutils.nim";
Result_25177 = -1;
goto BeforeRet;
BeforeRet: ;
framePtr = framePtr->prev;
return Result_25177;
}
N_NIMCALL(NI, nsuFindStr)(NimStringDesc* S_25219, NimStringDesc* Sub_25220, NI Start_25221) {
NI Result_25222;
TY25135 A_25223;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "find";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/pure/strutils.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_25222 = 0;
memset((void*)&A_25223, 0, sizeof(A_25223));
F.line = 573;F.filename = "strutils.nim";
Preprocesssub_25136(Sub_25220, A_25223);
F.line = 574;F.filename = "strutils.nim";
Result_25222 = Findaux_25171(S_25219, Sub_25220, Start_25221, A_25223);
framePtr = framePtr->prev;
return Result_25222;
}
N_NIMCALL(NI, nsuParseInt)(NimStringDesc* S_24504) {
NI Result_24505;
NI L_24507;
TY440* E_24513;
NimStringDesc* LOC5;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "ParseInt";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/pure/strutils.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_24505 = 0;
L_24507 = 0;
F.line = 405;F.filename = "strutils.nim";
L_24507 = npuParseInt(S_24504, &Result_24505, 0);
F.line = 406;F.filename = "strutils.nim";
if (!!((L_24507 == S_24504->Sup.len))) goto LA2;
E_24513 = 0;
F.line = 1280;F.filename = "system.nim";
E_24513 = (TY440*) newObj(NTI44278, sizeof(TY440));
(*E_24513).Sup.Sup.Sup.m_type = NTI440;
F.line = 1281;F.filename = "system.nim";
LOC5 = 0;
LOC5 = rawNewString(S_24504->Sup.len + 17);
appendString(LOC5, ((NimStringDesc*) &TMP68643));
appendString(LOC5, S_24504);
asgnRefNoCycle((void**) &(*E_24513).Sup.Sup.message, LOC5);
F.line = 406;F.filename = "strutils.nim";
raiseException((E_Base*)E_24513, "EInvalidValue");
LA2: ;
framePtr = framePtr->prev;
return Result_24505;
}
N_NIMCALL(NF, nsuParseFloat)(NimStringDesc* S_24574) {
NF Result_24575;
NI L_24577;
TY440* E_24583;
NimStringDesc* LOC5;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "ParseFloat";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/pure/strutils.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_24575 = 0;
L_24577 = 0;
F.line = 420;F.filename = "strutils.nim";
L_24577 = npuParseFloat(S_24574, &Result_24575, 0);
F.line = 421;F.filename = "strutils.nim";
if (!!((L_24577 == S_24574->Sup.len))) goto LA2;
E_24583 = 0;
F.line = 1280;F.filename = "system.nim";
E_24583 = (TY440*) newObj(NTI44278, sizeof(TY440));
(*E_24583).Sup.Sup.Sup.m_type = NTI440;
F.line = 1281;F.filename = "system.nim";
LOC5 = 0;
LOC5 = rawNewString(S_24574->Sup.len + 15);
appendString(LOC5, ((NimStringDesc*) &TMP76279));
appendString(LOC5, S_24574);
asgnRefNoCycle((void**) &(*E_24583).Sup.Sup.message, LOC5);
F.line = 421;F.filename = "strutils.nim";
raiseException((E_Base*)E_24583, "EInvalidValue");
LA2: ;
framePtr = framePtr->prev;
return Result_24575;
}
N_NIMCALL(NI64, nsuParseBiggestInt)(NimStringDesc* S_24539) {
NI64 Result_24540;
NI L_24542;
TY440* E_24548;
NimStringDesc* LOC5;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "ParseBiggestInt";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/pure/strutils.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_24540 = 0;
L_24542 = 0;
F.line = 412;F.filename = "strutils.nim";
L_24542 = npuParseBiggestInt(S_24539, &Result_24540, 0);
F.line = 413;F.filename = "strutils.nim";
if (!!((L_24542 == S_24539->Sup.len))) goto LA2;
E_24548 = 0;
F.line = 1280;F.filename = "system.nim";
E_24548 = (TY440*) newObj(NTI44278, sizeof(TY440));
(*E_24548).Sup.Sup.Sup.m_type = NTI440;
F.line = 1281;F.filename = "system.nim";
LOC5 = 0;
LOC5 = rawNewString(S_24539->Sup.len + 17);
appendString(LOC5, ((NimStringDesc*) &TMP68643));
appendString(LOC5, S_24539);
asgnRefNoCycle((void**) &(*E_24548).Sup.Sup.message, LOC5);
F.line = 413;F.filename = "strutils.nim";
raiseException((E_Base*)E_24548, "EInvalidValue");
LA2: ;
framePtr = framePtr->prev;
return Result_24540;
}
N_NIMCALL(NimStringDesc*, nsuToBin)(NI64 X_25516, NI Len_25517) {
NimStringDesc* Result_25518;
NI64 Mask_25519;
NI64 Shift_25520;
NI J_25530;
NI HEX3Atmp_25537;
NI Res_25539;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "toBin";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/pure/strutils.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_25518 = 0;
Mask_25519 = 0;
F.line = 687;F.filename = "strutils.nim";
Mask_25519 = 1;
Shift_25520 = 0;
F.line = 688;F.filename = "strutils.nim";
Shift_25520 = 0;
F.line = 689;F.filename = "strutils.nim";
internalAssert("/home/andreas/projects/nimrod/lib/pure/strutils.nim", 689, (0 < Len_25517));
F.line = 690;F.filename = "strutils.nim";
Result_25518 = mnewString(Len_25517);
J_25530 = 0;
HEX3Atmp_25537 = 0;
F.line = 691;F.filename = "strutils.nim";
HEX3Atmp_25537 = subInt(Len_25517, 1);
Res_25539 = 0;
F.line = 1012;F.filename = "system.nim";
Res_25539 = HEX3Atmp_25537;
F.line = 1013;F.filename = "system.nim";
while (1) {
if (!(0 <= Res_25539)) goto LA1;
F.line = 1012;F.filename = "system.nim";
J_25530 = Res_25539;
F.line = 692;F.filename = "strutils.nim";
if ((NU)(J_25530) > (NU)(Result_25518->Sup.len)) raiseIndexError();
Result_25518->data[J_25530] = ((NIM_CHAR) (((NI) (addInt(((NI)chckRange64((NI64)((NU64)((X_25516 & Mask_25519)) >> (NU64)(Shift_25520)), (-2147483647 -1), 2147483647)), 48)))));
F.line = 693;F.filename = "strutils.nim";
Shift_25520 = addInt64(Shift_25520, 1);
F.line = 694;F.filename = "strutils.nim";
Mask_25519 = (NI64)((NU64)(Mask_25519) << (NU64)(1));
F.line = 1015;F.filename = "system.nim";
Res_25539 = subInt(Res_25539, 1);
} LA1: ;
framePtr = framePtr->prev;
return Result_25518;
}
N_NIMCALL(NimStringDesc*, nsuToOct)(NI64 X_25488, NI Len_25489) {
NimStringDesc* Result_25490;
NI64 Mask_25491;
NI64 Shift_25492;
NI J_25502;
NI HEX3Atmp_25509;
NI Res_25511;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "toOct";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/pure/strutils.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_25490 = 0;
Mask_25491 = 0;
F.line = 673;F.filename = "strutils.nim";
Mask_25491 = 7;
Shift_25492 = 0;
F.line = 674;F.filename = "strutils.nim";
Shift_25492 = 0;
F.line = 675;F.filename = "strutils.nim";
internalAssert("/home/andreas/projects/nimrod/lib/pure/strutils.nim", 675, (0 < Len_25489));
F.line = 676;F.filename = "strutils.nim";
Result_25490 = mnewString(Len_25489);
J_25502 = 0;
HEX3Atmp_25509 = 0;
F.line = 677;F.filename = "strutils.nim";
HEX3Atmp_25509 = subInt(Len_25489, 1);
Res_25511 = 0;
F.line = 1012;F.filename = "system.nim";
Res_25511 = HEX3Atmp_25509;
F.line = 1013;F.filename = "system.nim";
while (1) {
if (!(0 <= Res_25511)) goto LA1;
F.line = 1012;F.filename = "system.nim";
J_25502 = Res_25511;
F.line = 678;F.filename = "strutils.nim";
if ((NU)(J_25502) > (NU)(Result_25490->Sup.len)) raiseIndexError();
Result_25490->data[J_25502] = ((NIM_CHAR) (((NI) (addInt(((NI)chckRange64((NI64)((NU64)((X_25488 & Mask_25491)) >> (NU64)(Shift_25492)), (-2147483647 -1), 2147483647)), 48)))));
F.line = 679;F.filename = "strutils.nim";
Shift_25492 = addInt64(Shift_25492, 3);
F.line = 680;F.filename = "strutils.nim";
Mask_25491 = (NI64)((NU64)(Mask_25491) << (NU64)(3));
F.line = 1015;F.filename = "system.nim";
Res_25511 = subInt(Res_25511, 1);
} LA1: ;
framePtr = framePtr->prev;
return Result_25490;
}
N_NIMCALL(NimStringDesc*, nsuReplaceStr)(NimStringDesc* S_25324, NimStringDesc* Sub_25325, NimStringDesc* By_25326) {
NimStringDesc* Result_25327;
TY25135 A_25328;
NI I_25330;
NI J_25331;
NimStringDesc* LOC5;
NimStringDesc* LOC6;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "replace";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/pure/strutils.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_25327 = 0;
memset((void*)&A_25328, 0, sizeof(A_25328));
F.line = 616;F.filename = "strutils.nim";
Result_25327 = copyString(((NimStringDesc*) &TMP46869));
F.line = 617;F.filename = "strutils.nim";
Preprocesssub_25136(Sub_25325, A_25328);
I_25330 = 0;
F.line = 618;F.filename = "strutils.nim";
I_25330 = 0;
F.line = 619;F.filename = "strutils.nim";
while (1) {
J_25331 = 0;
F.line = 620;F.filename = "strutils.nim";
J_25331 = Findaux_25171(S_25324, Sub_25325, I_25330, A_25328);
F.line = 621;F.filename = "strutils.nim";
if (!(J_25331 < 0)) goto LA3;
F.line = 621;F.filename = "strutils.nim";
goto LA1;
LA3: ;
F.line = 622;F.filename = "strutils.nim";
LOC5 = 0;
LOC5 = copyStrLast(S_25324, I_25330, subInt(J_25331, 1));
Result_25327 = resizeString(Result_25327, LOC5->Sup.len + 0);
appendString(Result_25327, LOC5);
F.line = 623;F.filename = "strutils.nim";
Result_25327 = resizeString(Result_25327, By_25326->Sup.len + 0);
appendString(Result_25327, By_25326);
F.line = 624;F.filename = "strutils.nim";
I_25330 = addInt(J_25331, Sub_25325->Sup.len);
} LA1: ;
F.line = 626;F.filename = "strutils.nim";
LOC6 = 0;
LOC6 = copyStr(S_25324, I_25330);
Result_25327 = resizeString(Result_25327, LOC6->Sup.len + 0);
appendString(Result_25327, LOC6);
framePtr = framePtr->prev;
return Result_25327;
}
N_NIMCALL(NimStringDesc*, nsuStrip)(NimStringDesc* S_23981, NIM_BOOL Leading_23982, NIM_BOOL Trailing_23983) {
NimStringDesc* Result_23984;
NI First_23987;
NI Last_23990;
NIM_BOOL LOC9;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "strip";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/pure/strutils.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_23984 = 0;
First_23987 = 0;
F.line = 242;F.filename = "strutils.nim";
First_23987 = 0;
Last_23990 = 0;
F.line = 243;F.filename = "strutils.nim";
Last_23990 = subInt(S_23981->Sup.len, 1);
F.line = 244;F.filename = "strutils.nim";
if (!Leading_23982) goto LA2;
F.line = 245;F.filename = "strutils.nim";
while (1) {
if ((NU)(First_23987) > (NU)(S_23981->Sup.len)) raiseIndexError();
if (!(((NU8)(S_23981->data[First_23987])) == ((NU8)(32)) || ((NU8)(S_23981->data[First_23987])) == ((NU8)(9)) || ((NU8)(S_23981->data[First_23987])) == ((NU8)(11)) || ((NU8)(S_23981->data[First_23987])) == ((NU8)(13)) || ((NU8)(S_23981->data[First_23987])) == ((NU8)(10)) || ((NU8)(S_23981->data[First_23987])) == ((NU8)(12)))) goto LA4;
F.line = 245;F.filename = "strutils.nim";
First_23987 = addInt(First_23987, 1);
} LA4: ;
LA2: ;
F.line = 246;F.filename = "strutils.nim";
if (!Trailing_23983) goto LA6;
F.line = 247;F.filename = "strutils.nim";
while (1) {
LOC9 = (0 <= Last_23990);
if (!(LOC9)) goto LA10;
if ((NU)(Last_23990) > (NU)(S_23981->Sup.len)) raiseIndexError();
LOC9 = (((NU8)(S_23981->data[Last_23990])) == ((NU8)(32)) || ((NU8)(S_23981->data[Last_23990])) == ((NU8)(9)) || ((NU8)(S_23981->data[Last_23990])) == ((NU8)(11)) || ((NU8)(S_23981->data[Last_23990])) == ((NU8)(13)) || ((NU8)(S_23981->data[Last_23990])) == ((NU8)(10)) || ((NU8)(S_23981->data[Last_23990])) == ((NU8)(12)));
LA10: ;
if (!LOC9) goto LA8;
F.line = 247;F.filename = "strutils.nim";
Last_23990 = subInt(Last_23990, 1);
} LA8: ;
LA6: ;
F.line = 248;F.filename = "strutils.nim";
Result_23984 = copyStrLast(S_23981, First_23987, Last_23990);
framePtr = framePtr->prev;
return Result_23984;
}
N_NIMCALL(NIM_BOOL, Allcharsinset_24830)(NimStringDesc* S_24832, TY21402 Theset_24833) {
NIM_BOOL Result_24834;
NIM_CHAR C_24837;
NI I_24851;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "allCharsInSet";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/pure/strutils.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_24834 = 0;
C_24837 = 0;
I_24851 = 0;
F.line = 1079;F.filename = "system.nim";
I_24851 = 0;
F.line = 1080;F.filename = "system.nim";
while (1) {
if (!(I_24851 < S_24832->Sup.len)) goto LA1;
F.line = 1081;F.filename = "system.nim";
if ((NU)(I_24851) > (NU)(S_24832->Sup.len)) raiseIndexError();
C_24837 = S_24832->data[I_24851];
F.line = 499;F.filename = "strutils.nim";
if (!!(((Theset_24833[((NU8)(C_24837))/8] &(1<<(((NU8)(C_24837))%8)))!=0))) goto LA3;
F.line = 499;F.filename = "strutils.nim";
F.line = 499;F.filename = "strutils.nim";
Result_24834 = NIM_FALSE;
goto BeforeRet;
LA3: ;
F.line = 1082;F.filename = "system.nim";
I_24851 = addInt(I_24851, 1);
} LA1: ;
F.line = 500;F.filename = "strutils.nim";
F.line = 500;F.filename = "strutils.nim";
Result_24834 = NIM_TRUE;
goto BeforeRet;
BeforeRet: ;
framePtr = framePtr->prev;
return Result_24834;
}
static N_INLINE(NI, modInt)(NI A_6603, NI B_6604) {
NI Result_6605;
Result_6605 = 0;
if (!(B_6604 == 0)) goto LA2;
raiseDivByZero();
LA2: ;
Result_6605 = (NI32)(A_6603 % B_6604);
goto BeforeRet;
BeforeRet: ;
return Result_6605;
}
static N_INLINE(NI, divInt)(NI A_6403, NI B_6404) {
NI Result_6405;
NIM_BOOL LOC5;
Result_6405 = 0;
if (!(B_6404 == 0)) goto LA2;
raiseDivByZero();
LA2: ;
LOC5 = (A_6403 == (-2147483647 -1));
if (!(LOC5)) goto LA6;
LOC5 = (B_6404 == -1);
LA6: ;
if (!LOC5) goto LA7;
raiseOverflow();
LA7: ;
Result_6405 = (NI32)(A_6403 / B_6404);
goto BeforeRet;
BeforeRet: ;
return Result_6405;
}
N_NIMCALL(NimStringDesc*, nsuToOctal)(NIM_CHAR C_24043) {
NimStringDesc* Result_24044;
NI Val_24050;
NI I_24073;
NI Res_24081;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "toOctal";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/pure/strutils.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_24044 = 0;
F.line = 253;F.filename = "strutils.nim";
Result_24044 = mnewString(3);
Val_24050 = 0;
F.line = 254;F.filename = "strutils.nim";
Val_24050 = ((NU8)(C_24043));
I_24073 = 0;
Res_24081 = 0;
F.line = 1012;F.filename = "system.nim";
Res_24081 = 2;
F.line = 1013;F.filename = "system.nim";
while (1) {
if (!(0 <= Res_24081)) goto LA1;
F.line = 1012;F.filename = "system.nim";
I_24073 = Res_24081;
F.line = 256;F.filename = "strutils.nim";
if ((NU)(I_24073) > (NU)(Result_24044->Sup.len)) raiseIndexError();
Result_24044->data[I_24073] = ((NIM_CHAR) (((NI) (addInt(modInt(Val_24050, 8), 48)))));
F.line = 257;F.filename = "strutils.nim";
Val_24050 = divInt(Val_24050, 8);
F.line = 1015;F.filename = "system.nim";
Res_24081 = subInt(Res_24081, 1);
} LA1: ;
framePtr = framePtr->prev;
return Result_24044;
}
N_NOINLINE(void, strutilsInit)(void) {
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "strutils";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/pure/strutils.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
framePtr = framePtr->prev;
}

