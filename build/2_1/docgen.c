/* Generated by Nimrod Compiler v0.8.9 */
/*   (c) 2010 Andreas Rumpf */

typedef long int NI;
typedef unsigned long int NU;
#include "nimbase.h"

#include <pthread.h>
typedef struct NimStringDesc NimStringDesc;
typedef struct TGenericSeq TGenericSeq;
typedef struct TY10802 TY10802;
typedef struct TNimType TNimType;
typedef struct TY11190 TY11190;
typedef struct TY10818 TY10818;
typedef struct TY10814 TY10814;
typedef struct TY10810 TY10810;
typedef struct TY11188 TY11188;
typedef struct TY146077 TY146077;
typedef struct TY146075 TY146075;
typedef struct TY154017 TY154017;
typedef struct TY51008 TY51008;
typedef struct TY154034 TY154034;
typedef struct TY154011 TY154011;
typedef struct TNimNode TNimNode;
typedef struct TY54525 TY54525;
typedef struct TY54551 TY54551;
typedef struct TY46532 TY46532;
typedef struct TY54547 TY54547;
typedef struct TY53011 TY53011;
typedef struct TY54519 TY54519;
typedef struct TY53005 TY53005;
typedef struct TNimObject TNimObject;
typedef struct TY54529 TY54529;
typedef struct TY54527 TY54527;
typedef struct TY54539 TY54539;
typedef struct TY54543 TY54543;
typedef struct TY83016 TY83016;
typedef struct TY83014 TY83014;
typedef struct TY83012 TY83012;
typedef struct TY151007 TY151007;
typedef struct TY54549 TY54549;
typedef struct TY42013 TY42013;
struct TGenericSeq {
NI len;
NI space;
};
typedef NIM_CHAR TY239[100000001];
struct NimStringDesc {
  TGenericSeq Sup;
TY239 data;
};
struct TY10802 {
NI Refcount;
TNimType* Typ;
};
struct TY10818 {
NI Len;
NI Cap;
TY10802** D;
};
struct TY10814 {
NI Counter;
NI Max;
TY10810* Head;
TY10810** Data;
};
struct TY11188 {
NI Stackscans;
NI Cyclecollections;
NI Maxthreshold;
NI Maxstacksize;
NI Maxstackcells;
NI Cycletablesize;
};
struct TY11190 {
TY10818 Zct;
TY10818 Decstack;
TY10814 Cycleroots;
TY10818 Tempstack;
NI Cyclerootslock;
NI Zctlock;
TY11188 Stat;
};
struct TY146077 {
NU8 Kind;
NimStringDesc* Text;
NI Level;
TY146075* Sons;
};
struct TY154011 {
TY146077* N;
TY51008* Refname;
TY51008* Header;
};
typedef TY51008* TY154013[21];
typedef TY51008* TY154044[5];
struct TY154017 {
NimStringDesc* Filename;
NimStringDesc* Basedir;
TY51008* Moddesc;
TY51008* Dependson;
NI Id;
NI Splitafter;
TY154034* Tocpart;
NIM_BOOL Hastoc;
TY154013 Toc;
TY154013 Section;
TY146077* Indexfile;
TY146077* Theindex;
NimStringDesc* Indexvalfilename;
NI Indent;
NI Verbatim;
TY154044 Meta;
};
struct TNimType {
NI size;
NU8 kind;
NU8 flags;
TNimType* base;
TNimNode* node;
void* finalizer;
};
struct TNimNode {
NU8 kind;
NI offset;
TNimType* typ;
NCSTRING name;
NI len;
TNimNode** sons;
};
typedef TY51008* TY51451[1];
typedef TY51008* TY58695[2];
struct TY46532 {
NI16 Line;
NI16 Col;
int Fileindex;
};
struct TY54525 {
TY54551* Typ;
NimStringDesc* Comment;
TY46532 Info;
NU8 Flags;
NU8 Kind;
union {
struct {NI64 Intval;
} S1;
struct {NF64 Floatval;
} S2;
struct {NimStringDesc* Strval;
} S3;
struct {TY54547* Sym;
} S4;
struct {TY53011* Ident;
} S5;
struct {TY54519* Sons;
} S6;
} KindU;
};
typedef NU8 TY54999[16];
struct TNimObject {
TNimType* m_type;
};
struct TY53005 {
  TNimObject Sup;
NI Id;
};
struct TY53011 {
  TY53005 Sup;
NimStringDesc* S;
TY53011* Next;
NI H;
};
struct TY54529 {
TNimType* m_type;
NI Counter;
TY54527* Data;
};
struct TY54539 {
NU8 K;
NU8 S;
NU8 Flags;
TY54551* T;
TY51008* R;
NI A;
};
struct TY54547 {
  TY53005 Sup;
NU8 Kind;
NU8 Magic;
TY54551* Typ;
TY53011* Name;
TY46532 Info;
TY54547* Owner;
NU32 Flags;
TY54529 Tab;
TY54525* Ast;
NU32 Options;
NI Position;
NI Offset;
TY54539 Loc;
TY54543* Annex;
};
struct TY83012 {
NU8 Kind;
NI16 Length;
};
struct TY83016 {
NI Indent;
NI Linelen;
NI Pos;
NI Idx;
TY83014* Tokens;
NimStringDesc* Buf;
NI Pendingnl;
TY54519* Comstack;
NU8 Flags;
};
typedef NimStringDesc* TY75146[109];
typedef NimStringDesc* TY45253[4];
typedef TY51008* TY59870[4];
typedef NIM_CHAR TY155413[9];
typedef TY51008* TY58637[3];
struct TY151007 {
  TNimObject Sup;
NU8 Kind;
NI Start;
NI Length;
NCSTRING Buf;
NI Pos;
NU8 State;
};
typedef NimStringDesc* TY151060[33];
typedef NimStringDesc* TY46867[1];
typedef NimStringDesc* TY156803[6];
typedef TY51008* TY156805[6];
typedef NimStringDesc* TY156822[8];
typedef TY51008* TY156824[8];
typedef NI TY8814[16];
struct TY10810 {
TY10810* Next;
NI Key;
TY8814 Bits;
};
struct TY51008 {
  TNimObject Sup;
TY51008* Left;
TY51008* Right;
NI Length;
NimStringDesc* Data;
};
struct TY54551 {
  TY53005 Sup;
NU8 Kind;
TY54549* Sons;
TY54525* N;
NU8 Flags;
NU8 Callconv;
TY54547* Owner;
TY54547* Sym;
NI64 Size;
NI Align;
NI Containerid;
TY54539 Loc;
};
struct TY42013 {
  TNimObject Sup;
TY42013* Prev;
TY42013* Next;
};
struct TY54543 {
  TY42013 Sup;
NU8 Kind;
NIM_BOOL Generated;
TY51008* Name;
TY54525* Path;
};
struct TY146075 {
  TGenericSeq Sup;
  TY146077* data[SEQ_DECL_SIZE];
};
struct TY154034 {
  TGenericSeq Sup;
  TY154011 data[SEQ_DECL_SIZE];
};
struct TY54519 {
  TGenericSeq Sup;
  TY54525* data[SEQ_DECL_SIZE];
};
struct TY54527 {
  TGenericSeq Sup;
  TY54547* data[SEQ_DECL_SIZE];
};
struct TY83014 {
  TGenericSeq Sup;
  TY83012 data[SEQ_DECL_SIZE];
};
struct TY54549 {
  TGenericSeq Sup;
  TY54551* data[SEQ_DECL_SIZE];
};
static N_INLINE(void, asgnRefNoCycle)(void** Dest_12018, void* Src_12019);
static N_INLINE(TY10802*, Usrtocell_11236)(void* Usr_11238);
static N_INLINE(NI, Atomicinc_3001)(NI* Memloc_3004, NI X_3005);
static N_INLINE(NI, Atomicdec_3006)(NI* Memloc_3009, NI X_3010);
static N_INLINE(void, Rtladdzct_11858)(TY10802* C_11860);
N_NOINLINE(void, Addzct_11225)(TY10818* S_11228, TY10802* C_11229);
N_NIMCALL(NimStringDesc*, copyString)(NimStringDesc* Src_17508);
N_NIMCALL(TY146077*, Findindexnode_154048)(TY146077* N_154050);
N_NOINLINE(void, raiseIndexError)(void);
N_NIMCALL(TY146077*, Newrstnode_146094)(NU8 Kind_146096);
N_NIMCALL(NI, Rsonslen_146091)(TY146077* N_146093);
static N_INLINE(NI, subInt)(NI A_6003, NI B_6004);
N_NOINLINE(void, raiseOverflow)(void);
static N_INLINE(NI, addInt)(NI A_5803, NI B_5804);
N_NIMCALL(void, Initindexfile_154132)(TY154017* D_154134);
N_NIMCALL(NimStringDesc*, nosaddFileExt)(NimStringDesc* Filename_38044, NimStringDesc* Ext_38045);
N_NIMCALL(NimStringDesc*, nosChangeFileExt)(NimStringDesc* Filename_38020, NimStringDesc* Ext_38021);
N_NIMCALL(NimStringDesc*, nosextractFilename)(NimStringDesc* Path_37785);
N_NIMCALL(NIM_BOOL, nosexistsFile)(NimStringDesc* Filename_36003);
N_NIMCALL(TY146077*, Rstparse_146082)(NimStringDesc* Text_146084, NIM_BOOL Skippounds_146085, NimStringDesc* Filename_146086, NI Line_146087, NI Column_146088, NIM_BOOL* Hastoc_146090);
N_NIMCALL(NimStringDesc*, Readfile_3647)(NimStringDesc* Filename_3649);
N_NIMCALL(void, Rawmessage_46553)(NU8 Msg_46555, NimStringDesc* Arg_46556);
N_NIMCALL(void, Clearindex_146126)(TY146077* Index_146128, NimStringDesc* Filename_146129);
N_NIMCALL(void, Addson_146101)(TY146077* Father_146103, TY146077* Son_146104);
N_NIMCALL(TY146077*, Newrstnode_146097)(NU8 Kind_146099, NimStringDesc* S_146100);
N_NIMCALL(TY154017*, Newdocumentor_154165)(NimStringDesc* Filename_154167);
N_NIMCALL(void*, newObj)(TNimType* Typ_12507, NI Size_12508);
N_NIMCALL(void*, newSeq)(TNimType* Typ_13004, NI Len_13005);
N_NIMCALL(NimStringDesc*, Getconfigvar_45132)(NimStringDesc* Key_45134);
N_NIMCALL(NI, nsuParseInt)(NimStringDesc* S_24504);
N_NIMCALL(NI, Getvaridx_154204)(NimStringDesc** Varnames_154207, NI Varnames_154207Len0, NimStringDesc* Id_154208);
N_NIMCALL(NI, nsuCmpIgnoreStyle)(NimStringDesc* A_23638, NimStringDesc* B_23639);
N_NIMCALL(TY51008*, Ropeformatnamedvars_154226)(NimStringDesc* Frmt_154228, NimStringDesc** Varnames_154230, NI Varnames_154230Len0, TY51008** Varvalues_154232, NI Varvalues_154232Len0);
N_NIMCALL(void, App_51031)(TY51008** A_51034, TY51008* B_51035);
N_NIMCALL(void, App_51036)(TY51008** A_51039, NimStringDesc* B_51040);
N_NIMCALL(NI, mulInt)(NI A_6803, NI B_6804);
N_NIMCALL(void, Internalerror_46571)(NimStringDesc* Errmsg_46573);
N_NIMCALL(NimStringDesc*, addChar)(NimStringDesc* S_1603, NIM_CHAR C_1604);
N_NIMCALL(NimStringDesc*, copyStrLast)(NimStringDesc* S_1928, NI First_1929, NI Last_1930);
N_NIMCALL(void, Addxmlchar_154436)(NimStringDesc** Dest_154439, NIM_CHAR C_154440);
static N_INLINE(void, appendString)(NimStringDesc* Dest_17592, NimStringDesc* Src_17593);
N_NIMCALL(NimStringDesc*, resizeString)(NimStringDesc* Dest_17582, NI Addlen_17583);
N_NIMCALL(void, Addrtfchar_154445)(NimStringDesc** Dest_154448, NIM_CHAR C_154449);
N_NIMCALL(void, Addtexchar_154453)(NimStringDesc** Dest_154456, NIM_CHAR C_154457);
N_NIMCALL(void, Escchar_154472)(NimStringDesc** Dest_154475, NIM_CHAR C_154476);
N_NIMCALL(NI, Nextsplitpoint_154486)(NimStringDesc* S_154488, NI Start_154489);
N_NIMCALL(NimStringDesc*, Esc_154536)(NimStringDesc* S_154538, NI Splitafter_154539);
static N_INLINE(NIM_BOOL, eqStrings)(NimStringDesc* A_17447, NimStringDesc* B_17448);
N_NIMCALL(NimStringDesc*, Disp_154597)(NimStringDesc* Xml_154599, NimStringDesc* Tex_154600);
N_NIMCALL(TY51008*, Dispf_154611)(NimStringDesc* Xml_154613, NimStringDesc* Tex_154614, TY51008** Args_154616, NI Args_154616Len0);
N_NIMCALL(TY51008*, Ropef_51069)(NimStringDesc* Frmt_51071, TY51008** Args_51073, NI Args_51073Len0);
N_NIMCALL(void, Dispa_154627)(TY51008** Dest_154630, NimStringDesc* Xml_154631, NimStringDesc* Tex_154632, TY51008** Args_154634, NI Args_154634Len0);
N_NIMCALL(void, Appf_51074)(TY51008** C_51077, NimStringDesc* Frmt_51078, TY51008** Args_51080, NI Args_51080Len0);
N_NIMCALL(TY51008*, Renderaux_154648)(TY154017* D_154650, TY146077* N_154651, NimStringDesc* Outer_154652);
N_NIMCALL(void, Setindexforsourceterm_154673)(TY154017* D_154675, TY146077* Name_154676, NI Id_154677);
N_NIMCALL(NimStringDesc*, nimIntToStr)(NI X_18203);
N_NIMCALL(NimStringDesc*, rawNewString)(NI Space_17487);
N_NIMCALL(void, Setindexpair_146118)(TY146077* Index_146120, TY146077* Key_146121, TY146077* Val_146122);
N_NIMCALL(TY51008*, Renderindexterm_154710)(TY154017* D_154712, TY146077* N_154713);
N_NIMCALL(TY51008*, Torope_51052)(NI64 I_51054);
N_NIMCALL(TY51008*, Gencomment_154754)(TY154017* D_154756, TY54525* N_154757);
N_NIMCALL(NIM_BOOL, nsuStartsWith)(NimStringDesc* S_24769, NimStringDesc* Prefix_24770);
N_NIMCALL(NimStringDesc*, Tofilename_46579)(TY46532 Info_46581);
N_NIMCALL(NI, Tolinenumber_46585)(TY46532 Info_46587);
N_NIMCALL(NI, Tocolumn_46582)(TY46532 Info_46584);
N_NIMCALL(TY51008*, Genreccomment_154762)(TY154017* D_154764, TY54525* N_154765);
N_NIMCALL(NI, Sonslen_54803)(TY54525* N_54805);
N_NOINLINE(void, raiseFieldError)(NimStringDesc* F_5475);
N_NIMCALL(NIM_BOOL, Isvisible_154840)(TY54525* N_154842);
N_NIMCALL(NimStringDesc*, Getname_154972)(TY54525* N_154974, NI Splitafter_154975);
N_NIMCALL(void, Internalerror_46567)(TY46532 Info_46569, NimStringDesc* Errmsg_46570);
N_NIMCALL(TY146077*, Getrstname_155055)(TY54525* N_155057);
N_NIMCALL(void, Genitem_155120)(TY154017* D_155122, TY54525* N_155123, TY54525* Namenode_155124, NU8 K_155125);
N_NIMCALL(TY51008*, Torope_51046)(NimStringDesc* S_51048);
N_NIMCALL(void, Inittokrender_83048)(TY83016* R_83051, TY54525* N_83052, NU8 Renderflags_83055);
N_NIMCALL(void, Getnexttok_83056)(TY83016* R_83059, NU8* Kind_83061, NimStringDesc** Literal_83063);
static N_INLINE(void, appendChar)(NimStringDesc* Dest_17609, NIM_CHAR C_17610);
N_NIMCALL(TY51008*, Renderheadline_155252)(TY154017* D_155254, TY146077* N_155255);
N_NIMCALL(NimStringDesc*, Rstnodetorefname_146105)(TY146077* N_146107);
N_NIMCALL(TGenericSeq*, setLengthSeq)(TGenericSeq* Seq_17803, NI Elemsize_17804, NI Newlen_17805);
N_NIMCALL(TY51008*, Renderoverline_155325)(TY154017* D_155327, TY146077* N_155328);
N_NIMCALL(TY51008*, Renderrstsons_155387)(TY154017* D_155389, TY146077* N_155390);
N_NIMCALL(TY51008*, Renderrsttorst_155383)(TY154017* D_155385, TY146077* N_155386);
N_NIMCALL(NimStringDesc*, nsuRepeatChar)(NI Count_24750, NIM_CHAR C_24751);
N_NIMCALL(NI, Ropelen_51055)(TY51008* A_51057);
N_NIMCALL(NimStringDesc*, reprEnum)(NI E_18579, TNimType* Typ_18580);
N_NIMCALL(TY51008*, Rendertocentry_155764)(TY154017* D_155766, TY154011 E_155767);
N_NIMCALL(TY51008*, Rendertocentries_155775)(TY154017* D_155777, NI* J_155779, NI Lvl_155780);
N_NIMCALL(TY51008*, Fieldaux_155812)(NimStringDesc* S_155814);
N_NIMCALL(NimStringDesc*, nsuStrip)(NimStringDesc* S_23981, NIM_BOOL Leading_23982, NIM_BOOL Trailing_23983);
N_NIMCALL(TY51008*, Renderimage_155816)(TY154017* D_155818, TY146077* N_155819);
N_NIMCALL(NimStringDesc*, Getfieldvalue_146111)(TY146077* N_146113, NimStringDesc* Fieldname_146114);
N_NIMCALL(NimStringDesc*, Getargument_146115)(TY146077* N_146117);
N_NIMCALL(TY51008*, Rendercodeblock_155886)(TY154017* D_155888, TY146077* N_155889);
N_NIMCALL(NU8, Getsourcelanguage_151102)(NimStringDesc* Name_151104);
N_NIMCALL(void, Initgeneraltokenizer_151105)(TY151007* G_151108, NimStringDesc* Buf_151109);
N_NIMCALL(void, Getnexttoken_151114)(TY151007* G_151117, NU8 Lang_151118);
N_NIMCALL(void, Deinitgeneraltokenizer_151110)(TY151007* G_151113);
N_NIMCALL(TY51008*, Rendercontainer_155958)(TY154017* D_155960, TY146077* N_155961);
N_NIMCALL(NimStringDesc*, Texcolumns_155986)(TY146077* N_155988);
N_NIMCALL(TY51008*, Renderfield_156005)(TY154017* D_156007, TY146077* N_156008);
N_NIMCALL(NimStringDesc*, Addnodes_146108)(TY146077* N_146110);
N_NIMCALL(TY51008*, Renderrsttoout_154644)(TY154017* D_154646, TY146077* N_154647);
N_NIMCALL(TY146077*, Lastson_146676)(TY146077* N_146678);
N_NIMCALL(void, Generatedoc_156300)(TY154017* D_156302, TY54525* N_156303);
N_NIMCALL(TY54525*, Lastson_54809)(TY54525* N_54811);
N_NIMCALL(void, Gensection_156639)(TY154017* D_156641, NU8 Kind_156642);
N_NIMCALL(NimStringDesc*, copyStr)(NimStringDesc* S_1924, NI First_1925);
N_NIMCALL(TY51008*, Genoutfile_156710)(TY154017* D_156712);
N_NIMCALL(NimStringDesc*, ntgetDateStr)(void);
N_NIMCALL(NimStringDesc*, ntgetClockStr)(void);
N_NIMCALL(void, Generateindex_156849)(TY154017* D_156851);
N_NIMCALL(void, Sortindex_146123)(TY146077* A_146125);
N_NIMCALL(void, Writerope_51058)(TY51008* Head_51060, NimStringDesc* Filename_51061);
N_NIMCALL(void, Commanddoc_154001)(NimStringDesc* Filename_154003);
N_NIMCALL(TY54525*, Parsefile_90031)(NimStringDesc* Filename_90033);
N_NIMCALL(NimStringDesc*, Getoutfile_45142)(NimStringDesc* Filename_45144, NimStringDesc* Ext_45145);
N_NIMCALL(void, Commandrstaux_156880)(NimStringDesc* Filename_156882, NimStringDesc* Outext_156883);
N_NIMCALL(void, Commandrst2html_154004)(NimStringDesc* Filename_154006);
N_NIMCALL(void, Commandrst2tex_154007)(NimStringDesc* Filename_154009);
STRING_LITERAL(TMP154047, "<wbr />", 7);
STRING_LITERAL(TMP154162, "txt", 3);
STRING_LITERAL(TMP154163, "html", 4);
STRING_LITERAL(TMP154164, "Index", 5);
STRING_LITERAL(TMP154203, "split.item.toc", 14);
STRING_LITERAL(TMP154432, "$", 1);
STRING_LITERAL(TMP154433, "ropeFormatNamedVars", 19);
STRING_LITERAL(TMP154434, "", 0);
STRING_LITERAL(TMP154435, "}", 1);
STRING_LITERAL(TMP154441, "&amp;", 5);
STRING_LITERAL(TMP154442, "&lt;", 4);
STRING_LITERAL(TMP154443, "&gt;", 4);
STRING_LITERAL(TMP154444, "&quot;", 6);
STRING_LITERAL(TMP154450, "\\{", 2);
STRING_LITERAL(TMP154451, "\\}", 2);
STRING_LITERAL(TMP154452, "\\\\", 2);
STRING_LITERAL(TMP154458, "\\_", 2);
STRING_LITERAL(TMP154459, "\\symbol{123}", 12);
STRING_LITERAL(TMP154460, "\\symbol{125}", 12);
STRING_LITERAL(TMP154461, "\\symbol{91}", 11);
STRING_LITERAL(TMP154462, "\\symbol{93}", 11);
STRING_LITERAL(TMP154463, "\\symbol{92}", 11);
STRING_LITERAL(TMP154464, "\\$", 2);
STRING_LITERAL(TMP154465, "\\&", 2);
STRING_LITERAL(TMP154466, "\\#", 2);
STRING_LITERAL(TMP154467, "\\%", 2);
STRING_LITERAL(TMP154468, "\\symbol{126}", 12);
STRING_LITERAL(TMP154469, "\\symbol{64}", 11);
STRING_LITERAL(TMP154470, "\\symbol{94}", 11);
STRING_LITERAL(TMP154471, "\\symbol{96}", 11);
STRING_LITERAL(TMP154596, " ", 1);
STRING_LITERAL(TMP154709, "#", 1);
STRING_LITERAL(TMP154751, "<em id=\"$1\">$2</em>", 19);
STRING_LITERAL(TMP154752, "$2\\label{$1}", 12);
STRING_LITERAL(TMP154753, "$1", 2);
STRING_LITERAL(TMP154761, "##", 2);
static NIM_CONST TY54999 TMP154838 = {
0xEC, 0xFF, 0x01, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00}
;STRING_LITERAL(TMP154839, "sons", 4);
static NIM_CONST TY54999 TMP154968 = {
0x04, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00}
;STRING_LITERAL(TMP154969, "ident", 5);
static NIM_CONST TY54999 TMP154970 = {
0x08, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00}
;STRING_LITERAL(TMP154971, "sym", 3);
STRING_LITERAL(TMP155053, "`", 1);
STRING_LITERAL(TMP155054, "getName()", 9);
STRING_LITERAL(TMP155119, "getRstName()", 12);
STRING_LITERAL(TMP155226, "<span class=\"Comment\">$1</span>", 31);
STRING_LITERAL(TMP155227, "\\spanComment{$1}", 16);
STRING_LITERAL(TMP155228, "<span class=\"Keyword\">$1</span>", 31);
STRING_LITERAL(TMP155229, "\\spanKeyword{$1}", 16);
STRING_LITERAL(TMP155230, "<span class=\"Operator\">$1</span>", 32);
STRING_LITERAL(TMP155231, "\\spanOperator{$1}", 17);
STRING_LITERAL(TMP155232, "<span class=\"StringLit\">$1</span>", 33);
STRING_LITERAL(TMP155233, "\\spanStringLit{$1}", 18);
STRING_LITERAL(TMP155234, "<span class=\"CharLit\">$1</span>", 31);
STRING_LITERAL(TMP155235, "\\spanCharLit{$1}", 16);
STRING_LITERAL(TMP155236, "<span class=\"DecNumber\">$1</span>", 33);
STRING_LITERAL(TMP155237, "\\spanDecNumber{$1}", 18);
STRING_LITERAL(TMP155238, "<span class=\"FloatNumber\">$1</span>", 35);
STRING_LITERAL(TMP155239, "\\spanFloatNumber{$1}", 20);
STRING_LITERAL(TMP155240, "<span class=\"Identifier\">$1</span>", 34);
STRING_LITERAL(TMP155241, "\\spanIdentifier{$1}", 19);
STRING_LITERAL(TMP155242, "<span class=\"Other\">$1</span>", 29);
STRING_LITERAL(TMP155243, "\\spanOther{$1}", 14);
STRING_LITERAL(TMP155244, "docgen.genThing(", 16);
extern NIM_CONST TY75146 Toktypetostr_75145;
STRING_LITERAL(TMP155245, "doc.item", 8);
STRING_LITERAL(TMP155247, "name", 4);
STRING_LITERAL(TMP155248, "header", 6);
STRING_LITERAL(TMP155249, "desc", 4);
STRING_LITERAL(TMP155250, "itemID", 6);
NIM_CONST TY45253 TMP155246 = {((NimStringDesc*) &TMP155247),
((NimStringDesc*) &TMP155248),
((NimStringDesc*) &TMP155249),
((NimStringDesc*) &TMP155250)}
;
STRING_LITERAL(TMP155251, "doc.item.toc", 12);
STRING_LITERAL(TMP155322, "<h$1><a class=\"toc-backref\" id=\"$2\" href=\"#$2_toc\">$3</a></h$1>", 63);
STRING_LITERAL(TMP155323, "\\rsth$4{$3}\\label{$2}$n", 23);
STRING_LITERAL(TMP155324, "<h$1 id=\"$2\">$3</h$1>", 21);
STRING_LITERAL(TMP155381, "<h$1 id=\"$2\"><center>$3</center></h$1>", 38);
STRING_LITERAL(TMP155382, "\\rstov$4{$3}\\label{$2}$n", 24);
NIM_CONST TY155413 Lvltochar_155412 = {33,
61,
45,
126,
96,
60,
42,
124,
43}
;
STRING_LITERAL(TMP155742, "$n$1$2$n$1$3", 12);
extern NIM_CONST TY155413 Lvltochar_155412;
STRING_LITERAL(TMP155743, "$n$1$3$n$1$2$n$1$3", 18);
STRING_LITERAL(TMP155744, "$n$n$1$2$n$n", 12);
STRING_LITERAL(TMP155745, "$n$n$1$2", 8);
STRING_LITERAL(TMP155746, "$n$1* $2", 8);
STRING_LITERAL(TMP155747, "$n$1(#) $2", 10);
STRING_LITERAL(TMP155748, "$n$1  $2", 8);
STRING_LITERAL(TMP155749, "$n$1:$2:$3$4", 12);
STRING_LITERAL(TMP155750, "$n$1| $2", 8);
STRING_LITERAL(TMP155751, "`$1`_", 5);
STRING_LITERAL(TMP155752, "`$1 <$2>`_", 10);
STRING_LITERAL(TMP155753, "`$1`:$2:", 8);
STRING_LITERAL(TMP155754, "`$1`:sub:", 9);
STRING_LITERAL(TMP155755, "`$1`:sup:", 9);
STRING_LITERAL(TMP155756, "`$1`:idx:", 9);
STRING_LITERAL(TMP155757, "*$1*", 4);
STRING_LITERAL(TMP155758, "**$1**", 6);
STRING_LITERAL(TMP155759, "`$1`", 4);
STRING_LITERAL(TMP155760, "``$1``", 6);
STRING_LITERAL(TMP155761, "\\", 1);
STRING_LITERAL(TMP155762, "$n$n$1.. index::$n$2", 20);
STRING_LITERAL(TMP155763, "$n$n$1.. contents::", 19);
STRING_LITERAL(TMP155773, "<li><a class=\"reference\" id=\"$1_toc\" href=\"#$1\">$2</a></li>$n", 61);
STRING_LITERAL(TMP155774, "\\item\\label{$1_toc} $2\\ref{$1}$n", 32);
STRING_LITERAL(TMP155810, "<ul class=\"simple\">$1</ul>", 26);
STRING_LITERAL(TMP155811, "\\begin{enumerate}$1\\end{enumerate}", 34);
STRING_LITERAL(TMP155870, "scale", 5);
STRING_LITERAL(TMP155871, " scale=\"$1\"", 11);
STRING_LITERAL(TMP155872, " scale=$1", 9);
STRING_LITERAL(TMP155873, "height", 6);
STRING_LITERAL(TMP155874, " height=\"$1\"", 12);
STRING_LITERAL(TMP155875, " height=$1", 10);
STRING_LITERAL(TMP155876, "width", 5);
STRING_LITERAL(TMP155877, " width=\"$1\"", 11);
STRING_LITERAL(TMP155878, " width=$1", 9);
STRING_LITERAL(TMP155879, "alt", 3);
STRING_LITERAL(TMP155880, " alt=\"$1\"", 9);
STRING_LITERAL(TMP155881, "align", 5);
STRING_LITERAL(TMP155882, " align=\"$1\"", 11);
STRING_LITERAL(TMP155883, "[$1]", 4);
STRING_LITERAL(TMP155884, "<img src=\"$1\"$2 />", 18);
STRING_LITERAL(TMP155885, "\\includegraphics$2{$1}", 22);
STRING_LITERAL(TMP155949, "renderCodeBlock", 15);
STRING_LITERAL(TMP155954, "<span class=\"$2\">$1</span>", 26);
STRING_LITERAL(TMP155955, "\\span$2{$1}", 11);
extern NIM_CONST TY151060 Tokenclasstostr_151059;
STRING_LITERAL(TMP155956, "<pre>$1</pre>", 13);
STRING_LITERAL(TMP155957, "\\begin{rstpre}$n$1$n\\end{rstpre}$n", 34);
STRING_LITERAL(TMP155983, "<div>$1</div>", 13);
STRING_LITERAL(TMP155984, "<div class=\"$1\">$2</div>", 24);
STRING_LITERAL(TMP155985, "$2", 2);
STRING_LITERAL(TMP156004, "|X", 2);
STRING_LITERAL(TMP156048, "author", 6);
STRING_LITERAL(TMP156049, "version", 7);
STRING_LITERAL(TMP156050, "<tr>$1</tr>$n", 13);
STRING_LITERAL(TMP156243, "<hr />\012", 7);
STRING_LITERAL(TMP156244, "\\hrule\012", 7);
STRING_LITERAL(TMP156245, "<p>$1</p>\012", 10);
STRING_LITERAL(TMP156246, "$1$n$n", 6);
STRING_LITERAL(TMP156247, "<ul class=\"simple\">$1</ul>\012", 27);
STRING_LITERAL(TMP156248, "\\begin{itemize}$1\\end{itemize}\012", 31);
STRING_LITERAL(TMP156249, "<li>$1</li>\012", 12);
STRING_LITERAL(TMP156250, "\\item $1\012", 9);
STRING_LITERAL(TMP156251, "<ol class=\"simple\">$1</ol>\012", 27);
STRING_LITERAL(TMP156252, "\\begin{enumerate}$1\\end{enumerate}\012", 35);
STRING_LITERAL(TMP156253, "<dl class=\"docutils\">$1</dl>\012", 29);
STRING_LITERAL(TMP156254, "\\begin{description}$1\\end{description}\012", 39);
STRING_LITERAL(TMP156255, "<dt>$1</dt>\012", 12);
STRING_LITERAL(TMP156256, "\\item[$1] ", 10);
STRING_LITERAL(TMP156257, "<dd>$1</dd>\012", 12);
STRING_LITERAL(TMP156258, "$1\012", 3);
STRING_LITERAL(TMP156259, "<table class=\"docinfo\" frame=\"void\" rules=\"none\"><col class=\"do"
"cinfo-name\" /><col class=\"docinfo-content\" /><tbody valign=\"top\""
">$1</tbody></table>", 146);
STRING_LITERAL(TMP156260, "<th class=\"docinfo-name\">$1:</th>", 33);
STRING_LITERAL(TMP156261, "\\item[$1:]", 10);
STRING_LITERAL(TMP156262, "<td>$1</td>", 11);
STRING_LITERAL(TMP156263, " $1$n", 5);
STRING_LITERAL(TMP156264, "<table frame=\"void\">$1</table>", 30);
STRING_LITERAL(TMP156265, "\\begin{description}$n$1\\end{description}\012", 41);
STRING_LITERAL(TMP156266, "<th align=\"left\">$1</th>", 24);
STRING_LITERAL(TMP156267, "\\item[$1]", 9);
STRING_LITERAL(TMP156268, "<td align=\"left\">$1</td>$n", 26);
STRING_LITERAL(TMP156269, "renderRstToOut", 14);
STRING_LITERAL(TMP156270, "<pre>$1</pre>$n", 15);
STRING_LITERAL(TMP156271, "<p>$1</p>", 9);
STRING_LITERAL(TMP156272, "$1<br />", 8);
STRING_LITERAL(TMP156273, "$1\\\\$n", 6);
STRING_LITERAL(TMP156274, "<blockquote><p>$1</p></blockquote>$n", 36);
STRING_LITERAL(TMP156275, "\\begin{quote}$1\\end{quote}$n", 28);
STRING_LITERAL(TMP156276, "<table border=\"1\" class=\"docutils\">$1</table>", 45);
STRING_LITERAL(TMP156277, "\\begin{table}\\begin{rsttab}{", 28);
STRING_LITERAL(TMP156278, "|}$n\\hline$n$1\\end{rsttab}\\end{table}", 37);
STRING_LITERAL(TMP156279, " & $1", 5);
STRING_LITERAL(TMP156280, "$1\\\\$n\\hline$n", 14);
STRING_LITERAL(TMP156281, "<th>$1</th>", 11);
STRING_LITERAL(TMP156282, "\\textbf{$1}", 11);
STRING_LITERAL(TMP156283, "<a class=\"reference external\" href=\"#$2\">$1</a>", 47);
STRING_LITERAL(TMP156284, "$1\\ref{$2}", 10);
STRING_LITERAL(TMP156285, "<a class=\"reference external\" href=\"$1\">$1</a>", 46);
STRING_LITERAL(TMP156286, "\\href{$1}{$1}", 13);
STRING_LITERAL(TMP156287, "<a class=\"reference external\" href=\"$2\">$1</a>", 46);
STRING_LITERAL(TMP156288, "\\href{$2}{$1}", 13);
STRING_LITERAL(TMP156289, "|$1|", 4);
STRING_LITERAL(TMP156290, "<sub>$1</sub>", 13);
STRING_LITERAL(TMP156291, "\\rstsub{$1}", 11);
STRING_LITERAL(TMP156292, "<sup>$1</sup>", 13);
STRING_LITERAL(TMP156293, "\\rstsup{$1}", 11);
STRING_LITERAL(TMP156294, "<em>$1</em>", 11);
STRING_LITERAL(TMP156295, "\\emph{$1}", 9);
STRING_LITERAL(TMP156296, "<strong>$1</strong>", 19);
STRING_LITERAL(TMP156297, "<cite>$1</cite>", 15);
STRING_LITERAL(TMP156298, "<tt class=\"docutils literal\"><span class=\"pre\">$1</span></tt>", 61);
STRING_LITERAL(TMP156299, "\\texttt{$1}", 11);
STRING_LITERAL(TMP156703, "doc.section", 11);
STRING_LITERAL(TMP156705, "sectionid", 9);
STRING_LITERAL(TMP156706, "sectionTitle", 12);
STRING_LITERAL(TMP156707, "sectionTitleID", 14);
STRING_LITERAL(TMP156708, "content", 7);
NIM_CONST TY45253 TMP156704 = {((NimStringDesc*) &TMP156705),
((NimStringDesc*) &TMP156706),
((NimStringDesc*) &TMP156707),
((NimStringDesc*) &TMP156708)}
;
STRING_LITERAL(TMP156709, "doc.section.toc", 15);
STRING_LITERAL(TMP156836, "doc.toc", 7);
NIM_CONST TY46867 TMP156837 = {((NimStringDesc*) &TMP156708)}
;
STRING_LITERAL(TMP156838, "Module ", 7);
STRING_LITERAL(TMP156839, "doc.body_toc", 12);
STRING_LITERAL(TMP156840, "doc.body_no_toc", 15);
STRING_LITERAL(TMP156842, "title", 5);
STRING_LITERAL(TMP156843, "tableofcontents", 15);
STRING_LITERAL(TMP156844, "moduledesc", 10);
STRING_LITERAL(TMP156845, "date", 4);
STRING_LITERAL(TMP156846, "time", 4);
NIM_CONST TY156803 TMP156841 = {((NimStringDesc*) &TMP156842),
((NimStringDesc*) &TMP156843),
((NimStringDesc*) &TMP156844),
((NimStringDesc*) &TMP156845),
((NimStringDesc*) &TMP156846),
((NimStringDesc*) &TMP156708)}
;
STRING_LITERAL(TMP156847, "doc.file", 8);
NIM_CONST TY156822 TMP156848 = {((NimStringDesc*) &TMP156842),
((NimStringDesc*) &TMP156843),
((NimStringDesc*) &TMP156844),
((NimStringDesc*) &TMP156845),
((NimStringDesc*) &TMP156846),
((NimStringDesc*) &TMP156708),
((NimStringDesc*) &TMP156048),
((NimStringDesc*) &TMP156049)}
;
STRING_LITERAL(TMP156879, "nim", 3);
STRING_LITERAL(TMP156895, "\\-", 2);
STRING_LITERAL(TMP156896, "tex", 3);
NimStringDesc* Splitter_154046;
extern TY11190 Gch_11210;
extern NimStringDesc* Gindexfile_45081;
extern TNimType* NTI154019; /* PDoc */
extern TNimType* NTI154034; /* seq[TTocEntry] */
extern NU8 Gcmd_45082;
extern TNimType* NTI146008; /* TRstNodeKind */
extern TNimType* NTI151007; /* TGeneralTokenizer */
extern TNimType* NTI54174; /* TSymKind */
extern NU32 Gglobaloptions_45077;
static N_INLINE(TY10802*, Usrtocell_11236)(void* Usr_11238) {
TY10802* Result_11239;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "usrToCell";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/system/gc.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_11239 = 0;
F.line = 100;F.filename = "gc.nim";
Result_11239 = ((TY10802*) ((NI32)((NU32)(((NI) (Usr_11238))) - (NU32)(((NI) (((NI)sizeof(TY10802))))))));
framePtr = framePtr->prev;
return Result_11239;
}
static N_INLINE(NI, Atomicinc_3001)(NI* Memloc_3004, NI X_3005) {
NI Result_7408;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "atomicInc";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/system/systhread.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_7408 = 0;
F.line = 29;F.filename = "systhread.nim";
Result_7408 = __sync_add_and_fetch(Memloc_3004, X_3005);
framePtr = framePtr->prev;
return Result_7408;
}
static N_INLINE(NI, Atomicdec_3006)(NI* Memloc_3009, NI X_3010) {
NI Result_7606;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "atomicDec";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/system/systhread.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_7606 = 0;
F.line = 37;F.filename = "systhread.nim";
Result_7606 = __sync_sub_and_fetch(Memloc_3009, X_3010);
framePtr = framePtr->prev;
return Result_7606;
}
static N_INLINE(void, Rtladdzct_11858)(TY10802* C_11860) {
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "rtlAddZCT";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/system/gc.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
F.line = 211;F.filename = "gc.nim";
if (!NIM_TRUE) goto LA2;
F.line = 211;F.filename = "gc.nim";
pthread_mutex_lock(&Gch_11210.Zctlock);
LA2: ;
F.line = 212;F.filename = "gc.nim";
Addzct_11225(&Gch_11210.Zct, C_11860);
F.line = 213;F.filename = "gc.nim";
if (!NIM_TRUE) goto LA5;
F.line = 213;F.filename = "gc.nim";
pthread_mutex_unlock(&Gch_11210.Zctlock);
LA5: ;
framePtr = framePtr->prev;
}
static N_INLINE(void, asgnRefNoCycle)(void** Dest_12018, void* Src_12019) {
TY10802* C_12020;
NI LOC4;
TY10802* C_12022;
NI LOC9;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "asgnRefNoCycle";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/system/gc.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
F.line = 244;F.filename = "gc.nim";
if (!!((Src_12019 == NIM_NIL))) goto LA2;
C_12020 = 0;
F.line = 245;F.filename = "gc.nim";
C_12020 = Usrtocell_11236(Src_12019);
F.line = 246;F.filename = "gc.nim";
LOC4 = Atomicinc_3001(&(*C_12020).Refcount, 8);
LA2: ;
F.line = 247;F.filename = "gc.nim";
if (!!(((*Dest_12018) == NIM_NIL))) goto LA6;
C_12022 = 0;
F.line = 248;F.filename = "gc.nim";
C_12022 = Usrtocell_11236((*Dest_12018));
F.line = 249;F.filename = "gc.nim";
LOC9 = Atomicdec_3006(&(*C_12022).Refcount, 8);
if (!((NU32)(LOC9) < (NU32)(8))) goto LA10;
F.line = 250;F.filename = "gc.nim";
Rtladdzct_11858(C_12022);
LA10: ;
LA6: ;
F.line = 251;F.filename = "gc.nim";
(*Dest_12018) = Src_12019;
framePtr = framePtr->prev;
}
static N_INLINE(NI, subInt)(NI A_6003, NI B_6004) {
NI Result_6005;
NIM_BOOL LOC2;
Result_6005 = 0;
Result_6005 = (NI32)((NU32)(A_6003) - (NU32)(B_6004));
LOC2 = (0 <= (NI32)(Result_6005 ^ A_6003));
if (LOC2) goto LA3;
LOC2 = (0 <= (NI32)(Result_6005 ^ (NI32)((NU32) ~(B_6004))));
LA3: ;
if (!LOC2) goto LA4;
goto BeforeRet;
LA4: ;
raiseOverflow();
BeforeRet: ;
return Result_6005;
}
static N_INLINE(NI, addInt)(NI A_5803, NI B_5804) {
NI Result_5805;
NIM_BOOL LOC2;
Result_5805 = 0;
Result_5805 = (NI32)((NU32)(A_5803) + (NU32)(B_5804));
LOC2 = (0 <= (NI32)(Result_5805 ^ A_5803));
if (LOC2) goto LA3;
LOC2 = (0 <= (NI32)(Result_5805 ^ B_5804));
LA3: ;
if (!LOC2) goto LA4;
goto BeforeRet;
LA4: ;
raiseOverflow();
BeforeRet: ;
return Result_5805;
}
N_NIMCALL(TY146077*, Findindexnode_154048)(TY146077* N_154050) {
TY146077* Result_154051;
NI I_154114;
NI HEX3Atmp_154127;
NI LOC11;
NI Res_154129;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "findIndexNode";
F.prev = framePtr;
F.filename = "rod/docgen.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_154051 = 0;
F.line = 51;F.filename = "docgen.nim";
if (!(N_154050 == NIM_NIL)) goto LA2;
F.line = 52;F.filename = "docgen.nim";
Result_154051 = NIM_NIL;
goto LA1;
LA2: ;
if (!((*N_154050).Kind == ((NU8) 51))) goto LA4;
F.line = 54;F.filename = "docgen.nim";
if ((NU)(2) >= (NU)((*N_154050).Sons->Sup.len)) raiseIndexError();
Result_154051 = (*N_154050).Sons->data[2];
F.line = 55;F.filename = "docgen.nim";
if (!(Result_154051 == NIM_NIL)) goto LA7;
F.line = 56;F.filename = "docgen.nim";
Result_154051 = Newrstnode_146094(((NU8) 9));
F.line = 57;F.filename = "docgen.nim";
if ((NU)(2) >= (NU)((*N_154050).Sons->Sup.len)) raiseIndexError();
asgnRefNoCycle((void**) &(*N_154050).Sons->data[2], Result_154051);
goto LA6;
LA7: ;
if (!((*Result_154051).Kind == ((NU8) 0))) goto LA9;
F.line = 59;F.filename = "docgen.nim";
if ((NU)(0) >= (NU)((*Result_154051).Sons->Sup.len)) raiseIndexError();
Result_154051 = (*Result_154051).Sons->data[0];
goto LA6;
LA9: ;
LA6: ;
goto LA1;
LA4: ;
F.line = 61;F.filename = "docgen.nim";
Result_154051 = NIM_NIL;
I_154114 = 0;
HEX3Atmp_154127 = 0;
F.line = 62;F.filename = "docgen.nim";
LOC11 = Rsonslen_146091(N_154050);
HEX3Atmp_154127 = subInt(LOC11, 1);
Res_154129 = 0;
F.line = 1021;F.filename = "system.nim";
Res_154129 = 0;
F.line = 1022;F.filename = "system.nim";
while (1) {
if (!(Res_154129 <= HEX3Atmp_154127)) goto LA12;
F.line = 1021;F.filename = "system.nim";
I_154114 = Res_154129;
F.line = 63;F.filename = "docgen.nim";
if ((NU)(I_154114) >= (NU)((*N_154050).Sons->Sup.len)) raiseIndexError();
Result_154051 = Findindexnode_154048((*N_154050).Sons->data[I_154114]);
F.line = 64;F.filename = "docgen.nim";
if (!!((Result_154051 == NIM_NIL))) goto LA14;
F.line = 64;F.filename = "docgen.nim";
goto BeforeRet;
LA14: ;
F.line = 1024;F.filename = "system.nim";
Res_154129 = addInt(Res_154129, 1);
} LA12: ;
LA1: ;
BeforeRet: ;
framePtr = framePtr->prev;
return Result_154051;
}
N_NIMCALL(void, Initindexfile_154132)(TY154017* D_154134) {
TY146077* H_154135;
NIM_BOOL Dummyhastoc_154136;
NimStringDesc* LOC4;
NIM_BOOL LOC6;
NimStringDesc* LOC9;
NIM_BOOL LOC11;
TY146077* LOC15;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "initIndexFile";
F.prev = framePtr;
F.filename = "rod/docgen.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
H_154135 = 0;
Dummyhastoc_154136 = 0;
F.line = 70;F.filename = "docgen.nim";
if (!(Gindexfile_45081->Sup.len == 0)) goto LA2;
F.line = 70;F.filename = "docgen.nim";
goto BeforeRet;
LA2: ;
F.line = 71;F.filename = "docgen.nim";
asgnRefNoCycle((void**) &Gindexfile_45081, nosaddFileExt(Gindexfile_45081, ((NimStringDesc*) &TMP154162)));
F.line = 72;F.filename = "docgen.nim";
LOC4 = 0;
LOC4 = nosextractFilename((*D_154134).Filename);
asgnRefNoCycle((void**) &(*D_154134).Indexvalfilename, nosChangeFileExt(LOC4, ((NimStringDesc*) &TMP154163)));
F.line = 73;F.filename = "docgen.nim";
LOC6 = nosexistsFile(Gindexfile_45081);
if (!LOC6) goto LA7;
F.line = 74;F.filename = "docgen.nim";
LOC9 = 0;
LOC9 = Readfile_3647(Gindexfile_45081);
asgnRefNoCycle((void**) &(*D_154134).Indexfile, Rstparse_146082(LOC9, NIM_FALSE, Gindexfile_45081, 0, 1, &Dummyhastoc_154136));
F.line = 76;F.filename = "docgen.nim";
asgnRefNoCycle((void**) &(*D_154134).Theindex, Findindexnode_154048((*D_154134).Indexfile));
F.line = 77;F.filename = "docgen.nim";
LOC11 = ((*D_154134).Theindex == NIM_NIL);
if (LOC11) goto LA12;
LOC11 = !(((*(*D_154134).Theindex).Kind == ((NU8) 9)));
LA12: ;
if (!LOC11) goto LA13;
F.line = 78;F.filename = "docgen.nim";
Rawmessage_46553(((NU8) 188), Gindexfile_45081);
LA13: ;
F.line = 79;F.filename = "docgen.nim";
Clearindex_146126((*D_154134).Theindex, (*D_154134).Indexvalfilename);
goto LA5;
LA7: ;
F.line = 81;F.filename = "docgen.nim";
asgnRefNoCycle((void**) &(*D_154134).Indexfile, Newrstnode_146094(((NU8) 0)));
F.line = 82;F.filename = "docgen.nim";
H_154135 = Newrstnode_146094(((NU8) 2));
F.line = 83;F.filename = "docgen.nim";
(*H_154135).Level = 1;
F.line = 84;F.filename = "docgen.nim";
LOC15 = 0;
LOC15 = Newrstnode_146097(((NU8) 62), ((NimStringDesc*) &TMP154164));
Addson_146101(H_154135, LOC15);
F.line = 85;F.filename = "docgen.nim";
Addson_146101((*D_154134).Indexfile, H_154135);
F.line = 86;F.filename = "docgen.nim";
H_154135 = Newrstnode_146094(((NU8) 51));
F.line = 87;F.filename = "docgen.nim";
Addson_146101(H_154135, NIM_NIL);
F.line = 88;F.filename = "docgen.nim";
Addson_146101(H_154135, NIM_NIL);
F.line = 89;F.filename = "docgen.nim";
asgnRefNoCycle((void**) &(*D_154134).Theindex, Newrstnode_146094(((NU8) 9)));
F.line = 90;F.filename = "docgen.nim";
Addson_146101(H_154135, (*D_154134).Theindex);
F.line = 91;F.filename = "docgen.nim";
Addson_146101((*D_154134).Indexfile, H_154135);
LA5: ;
BeforeRet: ;
framePtr = framePtr->prev;
}
N_NIMCALL(TY154017*, Newdocumentor_154165)(NimStringDesc* Filename_154167) {
TY154017* Result_154168;
NimStringDesc* S_154200;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "newDocumentor";
F.prev = framePtr;
F.filename = "rod/docgen.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_154168 = 0;
F.line = 94;F.filename = "docgen.nim";
Result_154168 = (TY154017*) newObj(NTI154019, sizeof(TY154017));
F.line = 95;F.filename = "docgen.nim";
asgnRefNoCycle((void**) &(*Result_154168).Tocpart, (TY154034*) newSeq(NTI154034, 0));
F.line = 96;F.filename = "docgen.nim";
asgnRefNoCycle((void**) &(*Result_154168).Filename, copyString(Filename_154167));
F.line = 97;F.filename = "docgen.nim";
(*Result_154168).Id = 100;
F.line = 98;F.filename = "docgen.nim";
(*Result_154168).Splitafter = 20;
S_154200 = 0;
F.line = 99;F.filename = "docgen.nim";
S_154200 = Getconfigvar_45132(((NimStringDesc*) &TMP154203));
F.line = 100;F.filename = "docgen.nim";
if (!!(((S_154200) && (S_154200)->Sup.len == 0))) goto LA2;
F.line = 100;F.filename = "docgen.nim";
(*Result_154168).Splitafter = nsuParseInt(S_154200);
LA2: ;
framePtr = framePtr->prev;
return Result_154168;
}
N_NIMCALL(NI, Getvaridx_154204)(NimStringDesc** Varnames_154207, NI Varnames_154207Len0, NimStringDesc* Id_154208) {
NI Result_154209;
NI I_154217;
NI HEX3Atmp_154221;
NI Res_154223;
NI LOC3;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "getVarIdx";
F.prev = framePtr;
F.filename = "rod/docgen.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_154209 = 0;
I_154217 = 0;
HEX3Atmp_154221 = 0;
F.line = 103;F.filename = "docgen.nim";
HEX3Atmp_154221 = (Varnames_154207Len0-1);
Res_154223 = 0;
F.line = 1021;F.filename = "system.nim";
Res_154223 = 0;
F.line = 1022;F.filename = "system.nim";
while (1) {
if (!(Res_154223 <= HEX3Atmp_154221)) goto LA1;
F.line = 1021;F.filename = "system.nim";
I_154217 = Res_154223;
F.line = 104;F.filename = "docgen.nim";
if ((NU)(I_154217) >= (NU)(Varnames_154207Len0)) raiseIndexError();
LOC3 = nsuCmpIgnoreStyle(Varnames_154207[I_154217], Id_154208);
if (!(LOC3 == 0)) goto LA4;
F.line = 105;F.filename = "docgen.nim";
F.line = 105;F.filename = "docgen.nim";
Result_154209 = I_154217;
goto BeforeRet;
LA4: ;
F.line = 1024;F.filename = "system.nim";
Res_154223 = addInt(Res_154223, 1);
} LA1: ;
F.line = 106;F.filename = "docgen.nim";
Result_154209 = -1;
BeforeRet: ;
framePtr = framePtr->prev;
return Result_154209;
}
N_NIMCALL(TY51008*, Ropeformatnamedvars_154226)(NimStringDesc* Frmt_154228, NimStringDesc** Varnames_154230, NI Varnames_154230Len0, TY51008** Varvalues_154232, NI Varvalues_154232Len0) {
TY51008* Result_154233;
NI I_154234;
NI L_154237;
NI Num_154238;
NI J_154293;
NIM_BOOL LOC7;
NimStringDesc* Id_154333;
NI Idx_154358;
NimStringDesc* Id_154362;
NI Idx_154403;
NI Start_154407;
NimStringDesc* LOC35;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "ropeFormatNamedVars";
F.prev = framePtr;
F.filename = "rod/docgen.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_154233 = 0;
I_154234 = 0;
F.line = 110;F.filename = "docgen.nim";
I_154234 = 0;
L_154237 = 0;
F.line = 111;F.filename = "docgen.nim";
L_154237 = Frmt_154228->Sup.len;
F.line = 112;F.filename = "docgen.nim";
Result_154233 = NIM_NIL;
Num_154238 = 0;
F.line = 113;F.filename = "docgen.nim";
Num_154238 = 0;
F.line = 114;F.filename = "docgen.nim";
while (1) {
if (!(I_154234 < L_154237)) goto LA1;
F.line = 115;F.filename = "docgen.nim";
if ((NU)(I_154234) > (NU)(Frmt_154228->Sup.len)) raiseIndexError();
if (!((NU8)(Frmt_154228->data[I_154234]) == (NU8)(36))) goto LA3;
F.line = 116;F.filename = "docgen.nim";
I_154234 = addInt(I_154234, 1);
F.line = 117;F.filename = "docgen.nim";
if ((NU)(I_154234) > (NU)(Frmt_154228->Sup.len)) raiseIndexError();
switch (((NU8)(Frmt_154228->data[I_154234]))) {
case 35:
F.line = 119;F.filename = "docgen.nim";
if ((NU)(Num_154238) >= (NU)(Varvalues_154232Len0)) raiseIndexError();
App_51031(&Result_154233, Varvalues_154232[Num_154238]);
F.line = 120;F.filename = "docgen.nim";
Num_154238 = addInt(Num_154238, 1);
F.line = 121;F.filename = "docgen.nim";
I_154234 = addInt(I_154234, 1);
break;
case 36:
F.line = 123;F.filename = "docgen.nim";
App_51036(&Result_154233, ((NimStringDesc*) &TMP154432));
F.line = 124;F.filename = "docgen.nim";
I_154234 = addInt(I_154234, 1);
break;
case 48 ... 57:
J_154293 = 0;
F.line = 126;F.filename = "docgen.nim";
J_154293 = 0;
F.line = 127;F.filename = "docgen.nim";
while (1) {
F.line = 128;F.filename = "docgen.nim";
if ((NU)(I_154234) > (NU)(Frmt_154228->Sup.len)) raiseIndexError();
J_154293 = subInt(addInt(mulInt(J_154293, 10), ((NU8)(Frmt_154228->data[I_154234]))), 48);
F.line = 129;F.filename = "docgen.nim";
I_154234 = addInt(I_154234, 1);
F.line = 130;F.filename = "docgen.nim";
LOC7 = (subInt(addInt(L_154237, 0), 1) < I_154234);
if (LOC7) goto LA8;
if ((NU)(I_154234) > (NU)(Frmt_154228->Sup.len)) raiseIndexError();
LOC7 = !((((NU8)(Frmt_154228->data[I_154234])) >= ((NU8)(48)) && ((NU8)(Frmt_154228->data[I_154234])) <= ((NU8)(57))));
LA8: ;
if (!LOC7) goto LA9;
F.line = 130;F.filename = "docgen.nim";
goto LA5;
LA9: ;
} LA5: ;
F.line = 131;F.filename = "docgen.nim";
if (!(addInt((Varvalues_154232Len0-1), 1) < J_154293)) goto LA12;
F.line = 131;F.filename = "docgen.nim";
Internalerror_46571(((NimStringDesc*) &TMP154433));
LA12: ;
F.line = 132;F.filename = "docgen.nim";
Num_154238 = J_154293;
F.line = 133;F.filename = "docgen.nim";
if ((NU)(subInt(J_154293, 1)) >= (NU)(Varvalues_154232Len0)) raiseIndexError();
App_51031(&Result_154233, Varvalues_154232[subInt(J_154293, 1)]);
break;
case 65 ... 90:
case 97 ... 122:
case 128 ... 255:
Id_154333 = 0;
F.line = 135;F.filename = "docgen.nim";
Id_154333 = copyString(((NimStringDesc*) &TMP154434));
F.line = 136;F.filename = "docgen.nim";
while (1) {
F.line = 137;F.filename = "docgen.nim";
if ((NU)(I_154234) > (NU)(Frmt_154228->Sup.len)) raiseIndexError();
Id_154333 = addChar(Id_154333, Frmt_154228->data[I_154234]);
F.line = 138;F.filename = "docgen.nim";
I_154234 = addInt(I_154234, 1);
F.line = 139;F.filename = "docgen.nim";
if ((NU)(I_154234) > (NU)(Frmt_154228->Sup.len)) raiseIndexError();
if (!!((((NU8)(Frmt_154228->data[I_154234])) >= ((NU8)(65)) && ((NU8)(Frmt_154228->data[I_154234])) <= ((NU8)(90)) || ((NU8)(Frmt_154228->data[I_154234])) == ((NU8)(95)) || ((NU8)(Frmt_154228->data[I_154234])) >= ((NU8)(97)) && ((NU8)(Frmt_154228->data[I_154234])) <= ((NU8)(122)) || ((NU8)(Frmt_154228->data[I_154234])) >= ((NU8)(128)) && ((NU8)(Frmt_154228->data[I_154234])) <= ((NU8)(255))))) goto LA16;
F.line = 139;F.filename = "docgen.nim";
goto LA14;
LA16: ;
} LA14: ;
Idx_154358 = 0;
F.line = 140;F.filename = "docgen.nim";
Idx_154358 = Getvaridx_154204(Varnames_154230, Varnames_154230Len0, Id_154333);
F.line = 141;F.filename = "docgen.nim";
if (!(0 <= Idx_154358)) goto LA19;
F.line = 141;F.filename = "docgen.nim";
if ((NU)(Idx_154358) >= (NU)(Varvalues_154232Len0)) raiseIndexError();
App_51031(&Result_154233, Varvalues_154232[Idx_154358]);
goto LA18;
LA19: ;
F.line = 142;F.filename = "docgen.nim";
Rawmessage_46553(((NU8) 148), Id_154333);
LA18: ;
break;
case 123:
Id_154362 = 0;
F.line = 144;F.filename = "docgen.nim";
Id_154362 = copyString(((NimStringDesc*) &TMP154434));
F.line = 145;F.filename = "docgen.nim";
I_154234 = addInt(I_154234, 1);
F.line = 146;F.filename = "docgen.nim";
while (1) {
if ((NU)(I_154234) > (NU)(Frmt_154228->Sup.len)) raiseIndexError();
if (!!(((NU8)(Frmt_154228->data[I_154234]) == (NU8)(125)))) goto LA21;
F.line = 147;F.filename = "docgen.nim";
if ((NU)(I_154234) > (NU)(Frmt_154228->Sup.len)) raiseIndexError();
if (!((NU8)(Frmt_154228->data[I_154234]) == (NU8)(0))) goto LA23;
F.line = 147;F.filename = "docgen.nim";
Rawmessage_46553(((NU8) 21), ((NimStringDesc*) &TMP154435));
LA23: ;
F.line = 148;F.filename = "docgen.nim";
if ((NU)(I_154234) > (NU)(Frmt_154228->Sup.len)) raiseIndexError();
Id_154362 = addChar(Id_154362, Frmt_154228->data[I_154234]);
F.line = 149;F.filename = "docgen.nim";
I_154234 = addInt(I_154234, 1);
} LA21: ;
F.line = 150;F.filename = "docgen.nim";
I_154234 = addInt(I_154234, 1);
Idx_154403 = 0;
F.line = 152;F.filename = "docgen.nim";
Idx_154403 = Getvaridx_154204(Varnames_154230, Varnames_154230Len0, Id_154362);
F.line = 153;F.filename = "docgen.nim";
if (!(0 <= Idx_154403)) goto LA26;
F.line = 153;F.filename = "docgen.nim";
if ((NU)(Idx_154403) >= (NU)(Varvalues_154232Len0)) raiseIndexError();
App_51031(&Result_154233, Varvalues_154232[Idx_154403]);
goto LA25;
LA26: ;
F.line = 154;F.filename = "docgen.nim";
Rawmessage_46553(((NU8) 148), Id_154362);
LA25: ;
break;
default:
F.line = 155;F.filename = "docgen.nim";
Internalerror_46571(((NimStringDesc*) &TMP154433));
break;
}
LA3: ;
Start_154407 = 0;
F.line = 156;F.filename = "docgen.nim";
Start_154407 = I_154234;
F.line = 157;F.filename = "docgen.nim";
while (1) {
if (!(I_154234 < L_154237)) goto LA28;
F.line = 158;F.filename = "docgen.nim";
if ((NU)(I_154234) > (NU)(Frmt_154228->Sup.len)) raiseIndexError();
if (!!(((NU8)(Frmt_154228->data[I_154234]) == (NU8)(36)))) goto LA30;
F.line = 158;F.filename = "docgen.nim";
I_154234 = addInt(I_154234, 1);
goto LA29;
LA30: ;
F.line = 159;F.filename = "docgen.nim";
goto LA28;
LA29: ;
} LA28: ;
F.line = 160;F.filename = "docgen.nim";
if (!(Start_154407 <= subInt(I_154234, 1))) goto LA33;
F.line = 160;F.filename = "docgen.nim";
LOC35 = 0;
LOC35 = copyStrLast(Frmt_154228, Start_154407, subInt(I_154234, 1));
App_51036(&Result_154233, LOC35);
LA33: ;
} LA1: ;
framePtr = framePtr->prev;
return Result_154233;
}
static N_INLINE(void, appendString)(NimStringDesc* Dest_17592, NimStringDesc* Src_17593) {
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "appendString";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/system/sysstr.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
F.line = 150;F.filename = "sysstr.nim";
memcpy(((NCSTRING) (&(*Dest_17592).data[((*Dest_17592).Sup.len)-0])), ((NCSTRING) ((*Src_17593).data)), ((int) ((NI32)((NI32)((*Src_17593).Sup.len + 1) * 1))));
F.line = 151;F.filename = "sysstr.nim";
(*Dest_17592).Sup.len += (*Src_17593).Sup.len;
framePtr = framePtr->prev;
}
N_NIMCALL(void, Addxmlchar_154436)(NimStringDesc** Dest_154439, NIM_CHAR C_154440) {
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "addXmlChar";
F.prev = framePtr;
F.filename = "rod/docgen.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
F.line = 163;F.filename = "docgen.nim";
switch (((NU8)(C_154440))) {
case 38:
F.line = 164;F.filename = "docgen.nim";
(*Dest_154439) = resizeString((*Dest_154439), 5);
appendString((*Dest_154439), ((NimStringDesc*) &TMP154441));
break;
case 60:
F.line = 165;F.filename = "docgen.nim";
(*Dest_154439) = resizeString((*Dest_154439), 4);
appendString((*Dest_154439), ((NimStringDesc*) &TMP154442));
break;
case 62:
F.line = 166;F.filename = "docgen.nim";
(*Dest_154439) = resizeString((*Dest_154439), 4);
appendString((*Dest_154439), ((NimStringDesc*) &TMP154443));
break;
case 34:
F.line = 167;F.filename = "docgen.nim";
(*Dest_154439) = resizeString((*Dest_154439), 6);
appendString((*Dest_154439), ((NimStringDesc*) &TMP154444));
break;
default:
F.line = 168;F.filename = "docgen.nim";
(*Dest_154439) = addChar((*Dest_154439), C_154440);
break;
}
framePtr = framePtr->prev;
}
N_NIMCALL(void, Addrtfchar_154445)(NimStringDesc** Dest_154448, NIM_CHAR C_154449) {
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "addRtfChar";
F.prev = framePtr;
F.filename = "rod/docgen.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
F.line = 171;F.filename = "docgen.nim";
switch (((NU8)(C_154449))) {
case 123:
F.line = 172;F.filename = "docgen.nim";
(*Dest_154448) = resizeString((*Dest_154448), 2);
appendString((*Dest_154448), ((NimStringDesc*) &TMP154450));
break;
case 125:
F.line = 173;F.filename = "docgen.nim";
(*Dest_154448) = resizeString((*Dest_154448), 2);
appendString((*Dest_154448), ((NimStringDesc*) &TMP154451));
break;
case 92:
F.line = 174;F.filename = "docgen.nim";
(*Dest_154448) = resizeString((*Dest_154448), 2);
appendString((*Dest_154448), ((NimStringDesc*) &TMP154452));
break;
default:
F.line = 175;F.filename = "docgen.nim";
(*Dest_154448) = addChar((*Dest_154448), C_154449);
break;
}
framePtr = framePtr->prev;
}
N_NIMCALL(void, Addtexchar_154453)(NimStringDesc** Dest_154456, NIM_CHAR C_154457) {
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "addTexChar";
F.prev = framePtr;
F.filename = "rod/docgen.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
F.line = 178;F.filename = "docgen.nim";
switch (((NU8)(C_154457))) {
case 95:
F.line = 179;F.filename = "docgen.nim";
(*Dest_154456) = resizeString((*Dest_154456), 2);
appendString((*Dest_154456), ((NimStringDesc*) &TMP154458));
break;
case 123:
F.line = 180;F.filename = "docgen.nim";
(*Dest_154456) = resizeString((*Dest_154456), 12);
appendString((*Dest_154456), ((NimStringDesc*) &TMP154459));
break;
case 125:
F.line = 181;F.filename = "docgen.nim";
(*Dest_154456) = resizeString((*Dest_154456), 12);
appendString((*Dest_154456), ((NimStringDesc*) &TMP154460));
break;
case 91:
F.line = 182;F.filename = "docgen.nim";
(*Dest_154456) = resizeString((*Dest_154456), 11);
appendString((*Dest_154456), ((NimStringDesc*) &TMP154461));
break;
case 93:
F.line = 183;F.filename = "docgen.nim";
(*Dest_154456) = resizeString((*Dest_154456), 11);
appendString((*Dest_154456), ((NimStringDesc*) &TMP154462));
break;
case 92:
F.line = 184;F.filename = "docgen.nim";
(*Dest_154456) = resizeString((*Dest_154456), 11);
appendString((*Dest_154456), ((NimStringDesc*) &TMP154463));
break;
case 36:
F.line = 185;F.filename = "docgen.nim";
(*Dest_154456) = resizeString((*Dest_154456), 2);
appendString((*Dest_154456), ((NimStringDesc*) &TMP154464));
break;
case 38:
F.line = 186;F.filename = "docgen.nim";
(*Dest_154456) = resizeString((*Dest_154456), 2);
appendString((*Dest_154456), ((NimStringDesc*) &TMP154465));
break;
case 35:
F.line = 187;F.filename = "docgen.nim";
(*Dest_154456) = resizeString((*Dest_154456), 2);
appendString((*Dest_154456), ((NimStringDesc*) &TMP154466));
break;
case 37:
F.line = 188;F.filename = "docgen.nim";
(*Dest_154456) = resizeString((*Dest_154456), 2);
appendString((*Dest_154456), ((NimStringDesc*) &TMP154467));
break;
case 126:
F.line = 189;F.filename = "docgen.nim";
(*Dest_154456) = resizeString((*Dest_154456), 12);
appendString((*Dest_154456), ((NimStringDesc*) &TMP154468));
break;
case 64:
F.line = 190;F.filename = "docgen.nim";
(*Dest_154456) = resizeString((*Dest_154456), 11);
appendString((*Dest_154456), ((NimStringDesc*) &TMP154469));
break;
case 94:
F.line = 191;F.filename = "docgen.nim";
(*Dest_154456) = resizeString((*Dest_154456), 11);
appendString((*Dest_154456), ((NimStringDesc*) &TMP154470));
break;
case 96:
F.line = 192;F.filename = "docgen.nim";
(*Dest_154456) = resizeString((*Dest_154456), 11);
appendString((*Dest_154456), ((NimStringDesc*) &TMP154471));
break;
default:
F.line = 193;F.filename = "docgen.nim";
(*Dest_154456) = addChar((*Dest_154456), C_154457);
break;
}
framePtr = framePtr->prev;
}
N_NIMCALL(void, Escchar_154472)(NimStringDesc** Dest_154475, NIM_CHAR C_154476) {
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "escChar";
F.prev = framePtr;
F.filename = "rod/docgen.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
F.line = 196;F.filename = "docgen.nim";
if (!!((Gcmd_45082 == ((NU8) 15)))) goto LA2;
F.line = 196;F.filename = "docgen.nim";
Addxmlchar_154436(Dest_154475, C_154476);
goto LA1;
LA2: ;
F.line = 197;F.filename = "docgen.nim";
Addtexchar_154453(Dest_154475, C_154476);
LA1: ;
framePtr = framePtr->prev;
}
N_NIMCALL(NI, Nextsplitpoint_154486)(NimStringDesc* S_154488, NI Start_154489) {
NI Result_154490;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "nextSplitPoint";
F.prev = framePtr;
F.filename = "rod/docgen.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_154490 = 0;
F.line = 200;F.filename = "docgen.nim";
Result_154490 = Start_154489;
F.line = 201;F.filename = "docgen.nim";
while (1) {
if (!(Result_154490 < addInt(S_154488->Sup.len, 0))) goto LA1;
F.line = 202;F.filename = "docgen.nim";
if ((NU)(Result_154490) > (NU)(S_154488->Sup.len)) raiseIndexError();
switch (((NU8)(S_154488->data[Result_154490]))) {
case 95:
F.line = 203;F.filename = "docgen.nim";
goto BeforeRet;
break;
case 97 ... 122:
F.line = 205;F.filename = "docgen.nim";
if (!(addInt(Result_154490, 1) < addInt(S_154488->Sup.len, 0))) goto LA3;
F.line = 206;F.filename = "docgen.nim";
if ((NU)(addInt(Result_154490, 1)) > (NU)(S_154488->Sup.len)) raiseIndexError();
if (!(((NU8)(S_154488->data[addInt(Result_154490, 1)])) >= ((NU8)(65)) && ((NU8)(S_154488->data[addInt(Result_154490, 1)])) <= ((NU8)(90)))) goto LA6;
F.line = 206;F.filename = "docgen.nim";
goto BeforeRet;
LA6: ;
LA3: ;
break;
default:
break;
}
F.line = 208;F.filename = "docgen.nim";
Result_154490 = addInt(Result_154490, 1);
} LA1: ;
F.line = 209;F.filename = "docgen.nim";
Result_154490 = subInt(Result_154490, 1);
BeforeRet: ;
framePtr = framePtr->prev;
return Result_154490;
}
static N_INLINE(NIM_BOOL, eqStrings)(NimStringDesc* A_17447, NimStringDesc* B_17448) {
NIM_BOOL Result_17449;
NIM_BOOL LOC5;
NIM_BOOL LOC9;
int LOC11;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "eqStrings";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/system/sysstr.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_17449 = 0;
F.line = 32;F.filename = "sysstr.nim";
if (!(A_17447 == B_17448)) goto LA2;
F.line = 32;F.filename = "sysstr.nim";
F.line = 32;F.filename = "sysstr.nim";
Result_17449 = NIM_TRUE;
goto BeforeRet;
LA2: ;
F.line = 33;F.filename = "sysstr.nim";
LOC5 = (A_17447 == NIM_NIL);
if (LOC5) goto LA6;
LOC5 = (B_17448 == NIM_NIL);
LA6: ;
if (!LOC5) goto LA7;
F.line = 33;F.filename = "sysstr.nim";
F.line = 33;F.filename = "sysstr.nim";
Result_17449 = NIM_FALSE;
goto BeforeRet;
LA7: ;
F.line = 34;F.filename = "sysstr.nim";
F.line = 34;F.filename = "sysstr.nim";
LOC9 = ((*A_17447).Sup.len == (*B_17448).Sup.len);
if (!(LOC9)) goto LA10;
LOC11 = memcmp(((NCSTRING) ((*A_17447).data)), ((NCSTRING) ((*B_17448).data)), ((int) ((NI32)((*A_17447).Sup.len * 1))));
LOC9 = (LOC11 == ((NI32) 0));
LA10: ;
Result_17449 = LOC9;
goto BeforeRet;
BeforeRet: ;
framePtr = framePtr->prev;
return Result_17449;
}
N_NIMCALL(NimStringDesc*, Esc_154536)(NimStringDesc* S_154538, NI Splitafter_154539) {
NimStringDesc* Result_154540;
NI Partlen_154543;
NI J_154544;
NI K_154549;
NIM_BOOL LOC6;
NI I_154559;
NI Res_154586;
NI I_154582;
NI HEX3Atmp_154591;
NI Res_154593;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "esc";
F.prev = framePtr;
F.filename = "rod/docgen.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_154540 = 0;
F.line = 212;F.filename = "docgen.nim";
Result_154540 = copyString(((NimStringDesc*) &TMP154434));
F.line = 213;F.filename = "docgen.nim";
if (!(0 <= Splitafter_154539)) goto LA2;
Partlen_154543 = 0;
F.line = 214;F.filename = "docgen.nim";
Partlen_154543 = 0;
J_154544 = 0;
F.line = 215;F.filename = "docgen.nim";
J_154544 = 0;
F.line = 216;F.filename = "docgen.nim";
while (1) {
if (!(J_154544 < S_154538->Sup.len)) goto LA4;
K_154549 = 0;
F.line = 217;F.filename = "docgen.nim";
K_154549 = Nextsplitpoint_154486(S_154538, J_154544);
F.line = 218;F.filename = "docgen.nim";
LOC6 = !(eqStrings(Splitter_154046, ((NimStringDesc*) &TMP154596)));
if (LOC6) goto LA7;
LOC6 = (Splitafter_154539 < addInt(subInt(addInt(Partlen_154543, K_154549), J_154544), 1));
LA7: ;
if (!LOC6) goto LA8;
F.line = 219;F.filename = "docgen.nim";
Partlen_154543 = 0;
F.line = 220;F.filename = "docgen.nim";
Result_154540 = resizeString(Result_154540, Splitter_154046->Sup.len + 0);
appendString(Result_154540, Splitter_154046);
LA8: ;
I_154559 = 0;
Res_154586 = 0;
F.line = 1021;F.filename = "system.nim";
Res_154586 = J_154544;
F.line = 1022;F.filename = "system.nim";
while (1) {
if (!(Res_154586 <= K_154549)) goto LA10;
F.line = 1021;F.filename = "system.nim";
I_154559 = Res_154586;
F.line = 221;F.filename = "docgen.nim";
if ((NU)(I_154559) > (NU)(S_154538->Sup.len)) raiseIndexError();
Escchar_154472(&Result_154540, S_154538->data[I_154559]);
F.line = 1024;F.filename = "system.nim";
Res_154586 = addInt(Res_154586, 1);
} LA10: ;
F.line = 222;F.filename = "docgen.nim";
Partlen_154543 = addInt(Partlen_154543, addInt(subInt(K_154549, J_154544), 1));
F.line = 223;F.filename = "docgen.nim";
J_154544 = addInt(K_154549, 1);
} LA4: ;
goto LA1;
LA2: ;
I_154582 = 0;
HEX3Atmp_154591 = 0;
F.line = 225;F.filename = "docgen.nim";
HEX3Atmp_154591 = subInt(addInt(S_154538->Sup.len, 0), 1);
Res_154593 = 0;
F.line = 1021;F.filename = "system.nim";
Res_154593 = 0;
F.line = 1022;F.filename = "system.nim";
while (1) {
if (!(Res_154593 <= HEX3Atmp_154591)) goto LA11;
F.line = 1021;F.filename = "system.nim";
I_154582 = Res_154593;
F.line = 225;F.filename = "docgen.nim";
if ((NU)(I_154582) > (NU)(S_154538->Sup.len)) raiseIndexError();
Escchar_154472(&Result_154540, S_154538->data[I_154582]);
F.line = 1024;F.filename = "system.nim";
Res_154593 = addInt(Res_154593, 1);
} LA11: ;
LA1: ;
framePtr = framePtr->prev;
return Result_154540;
}
N_NIMCALL(NimStringDesc*, Disp_154597)(NimStringDesc* Xml_154599, NimStringDesc* Tex_154600) {
NimStringDesc* Result_154601;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "disp";
F.prev = framePtr;
F.filename = "rod/docgen.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_154601 = 0;
F.line = 228;F.filename = "docgen.nim";
if (!!((Gcmd_45082 == ((NU8) 15)))) goto LA2;
F.line = 228;F.filename = "docgen.nim";
Result_154601 = copyString(Xml_154599);
goto LA1;
LA2: ;
F.line = 229;F.filename = "docgen.nim";
Result_154601 = copyString(Tex_154600);
LA1: ;
framePtr = framePtr->prev;
return Result_154601;
}
N_NIMCALL(TY51008*, Dispf_154611)(NimStringDesc* Xml_154613, NimStringDesc* Tex_154614, TY51008** Args_154616, NI Args_154616Len0) {
TY51008* Result_154617;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "dispF";
F.prev = framePtr;
F.filename = "rod/docgen.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_154617 = 0;
F.line = 232;F.filename = "docgen.nim";
if (!!((Gcmd_45082 == ((NU8) 15)))) goto LA2;
F.line = 232;F.filename = "docgen.nim";
Result_154617 = Ropef_51069(Xml_154613, Args_154616, Args_154616Len0);
goto LA1;
LA2: ;
F.line = 233;F.filename = "docgen.nim";
Result_154617 = Ropef_51069(Tex_154614, Args_154616, Args_154616Len0);
LA1: ;
framePtr = framePtr->prev;
return Result_154617;
}
N_NIMCALL(void, Dispa_154627)(TY51008** Dest_154630, NimStringDesc* Xml_154631, NimStringDesc* Tex_154632, TY51008** Args_154634, NI Args_154634Len0) {
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "dispA";
F.prev = framePtr;
F.filename = "rod/docgen.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
F.line = 236;F.filename = "docgen.nim";
if (!!((Gcmd_45082 == ((NU8) 15)))) goto LA2;
F.line = 236;F.filename = "docgen.nim";
Appf_51074(Dest_154630, Xml_154631, Args_154634, Args_154634Len0);
goto LA1;
LA2: ;
F.line = 237;F.filename = "docgen.nim";
Appf_51074(Dest_154630, Tex_154632, Args_154634, Args_154634Len0);
LA1: ;
framePtr = framePtr->prev;
}
N_NIMCALL(TY51008*, Renderaux_154648)(TY154017* D_154650, TY146077* N_154651, NimStringDesc* Outer_154652) {
TY51008* Result_154653;
NI I_154661;
NI HEX3Atmp_154668;
NI LOC1;
NI Res_154670;
TY51008* LOC3;
TY51451 LOC4;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "renderAux";
F.prev = framePtr;
F.filename = "rod/docgen.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_154653 = 0;
F.line = 242;F.filename = "docgen.nim";
Result_154653 = NIM_NIL;
I_154661 = 0;
HEX3Atmp_154668 = 0;
F.line = 243;F.filename = "docgen.nim";
LOC1 = Rsonslen_146091(N_154651);
HEX3Atmp_154668 = subInt(LOC1, 1);
Res_154670 = 0;
F.line = 1021;F.filename = "system.nim";
Res_154670 = 0;
F.line = 1022;F.filename = "system.nim";
while (1) {
if (!(Res_154670 <= HEX3Atmp_154668)) goto LA2;
F.line = 1021;F.filename = "system.nim";
I_154661 = Res_154670;
F.line = 243;F.filename = "docgen.nim";
if ((NU)(I_154661) >= (NU)((*N_154651).Sons->Sup.len)) raiseIndexError();
LOC3 = 0;
LOC3 = Renderrsttoout_154644(D_154650, (*N_154651).Sons->data[I_154661]);
App_51031(&Result_154653, LOC3);
F.line = 1024;F.filename = "system.nim";
Res_154670 = addInt(Res_154670, 1);
} LA2: ;
F.line = 244;F.filename = "docgen.nim";
memset((void*)&LOC4, 0, sizeof(LOC4));
LOC4[0] = Result_154653;
Result_154653 = Ropef_51069(Outer_154652, LOC4, 1);
framePtr = framePtr->prev;
return Result_154653;
}
N_NIMCALL(void, Setindexforsourceterm_154673)(TY154017* D_154675, TY146077* Name_154676, NI Id_154677) {
TY146077* H_154689;
TY146077* A_154708;
NimStringDesc* LOC4;
NimStringDesc* LOC5;
NimStringDesc* LOC6;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "setIndexForSourceTerm";
F.prev = framePtr;
F.filename = "rod/docgen.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
F.line = 247;F.filename = "docgen.nim";
if (!((*D_154675).Theindex == NIM_NIL)) goto LA2;
F.line = 247;F.filename = "docgen.nim";
goto BeforeRet;
LA2: ;
H_154689 = 0;
F.line = 248;F.filename = "docgen.nim";
H_154689 = Newrstnode_146094(((NU8) 38));
A_154708 = 0;
F.line = 249;F.filename = "docgen.nim";
LOC4 = 0;
LOC5 = 0;
LOC5 = Disp_154597(((NimStringDesc*) &TMP154709), ((NimStringDesc*) &TMP154434));
LOC6 = 0;
LOC6 = nimIntToStr(Id_154677);
LOC4 = rawNewString((*D_154675).Indexvalfilename->Sup.len + LOC5->Sup.len + LOC6->Sup.len + 0);
appendString(LOC4, (*D_154675).Indexvalfilename);
appendString(LOC4, LOC5);
appendString(LOC4, LOC6);
A_154708 = Newrstnode_146097(((NU8) 62), LOC4);
F.line = 250;F.filename = "docgen.nim";
Addson_146101(H_154689, A_154708);
F.line = 251;F.filename = "docgen.nim";
Addson_146101(H_154689, A_154708);
F.line = 252;F.filename = "docgen.nim";
A_154708 = Newrstnode_146094(((NU8) 56));
F.line = 253;F.filename = "docgen.nim";
Addson_146101(A_154708, Name_154676);
F.line = 254;F.filename = "docgen.nim";
Setindexpair_146118((*D_154675).Theindex, A_154708, H_154689);
BeforeRet: ;
framePtr = framePtr->prev;
}
N_NIMCALL(TY51008*, Renderindexterm_154710)(TY154017* D_154712, TY146077* N_154713) {
TY51008* Result_154714;
TY58695 LOC1;
TY146077* H_154731;
TY146077* A_154750;
NimStringDesc* LOC2;
NimStringDesc* LOC3;
NimStringDesc* LOC4;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "renderIndexTerm";
F.prev = framePtr;
F.filename = "rod/docgen.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_154714 = 0;
F.line = 257;F.filename = "docgen.nim";
(*D_154712).Id = addInt((*D_154712).Id, 1);
F.line = 258;F.filename = "docgen.nim";
memset((void*)&LOC1, 0, sizeof(LOC1));
LOC1[0] = Torope_51052(((NI64) ((*D_154712).Id)));
LOC1[1] = Renderaux_154648(D_154712, N_154713, ((NimStringDesc*) &TMP154753));
Result_154714 = Dispf_154611(((NimStringDesc*) &TMP154751), ((NimStringDesc*) &TMP154752), LOC1, 2);
H_154731 = 0;
F.line = 260;F.filename = "docgen.nim";
H_154731 = Newrstnode_146094(((NU8) 38));
A_154750 = 0;
F.line = 261;F.filename = "docgen.nim";
LOC2 = 0;
LOC3 = 0;
LOC3 = Disp_154597(((NimStringDesc*) &TMP154709), ((NimStringDesc*) &TMP154434));
LOC4 = 0;
LOC4 = nimIntToStr((*D_154712).Id);
LOC2 = rawNewString((*D_154712).Indexvalfilename->Sup.len + LOC3->Sup.len + LOC4->Sup.len + 0);
appendString(LOC2, (*D_154712).Indexvalfilename);
appendString(LOC2, LOC3);
appendString(LOC2, LOC4);
A_154750 = Newrstnode_146097(((NU8) 62), LOC2);
F.line = 262;F.filename = "docgen.nim";
Addson_146101(H_154731, A_154750);
F.line = 263;F.filename = "docgen.nim";
Addson_146101(H_154731, A_154750);
F.line = 264;F.filename = "docgen.nim";
Setindexpair_146118((*D_154712).Theindex, N_154713, H_154731);
framePtr = framePtr->prev;
return Result_154714;
}
N_NIMCALL(TY51008*, Gencomment_154754)(TY154017* D_154756, TY54525* N_154757) {
TY51008* Result_154758;
NIM_BOOL Dummyhastoc_154759;
NIM_BOOL LOC2;
NimStringDesc* LOC6;
NI LOC7;
NI LOC8;
TY146077* LOC9;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "genComment";
F.prev = framePtr;
F.filename = "rod/docgen.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_154758 = 0;
Dummyhastoc_154759 = 0;
F.line = 268;F.filename = "docgen.nim";
LOC2 = !(((*N_154757).Comment == NIM_NIL));
if (!(LOC2)) goto LA3;
LOC2 = nsuStartsWith((*N_154757).Comment, ((NimStringDesc*) &TMP154761));
LA3: ;
if (!LOC2) goto LA4;
F.line = 269;F.filename = "docgen.nim";
LOC6 = 0;
LOC6 = Tofilename_46579((*N_154757).Info);
LOC7 = Tolinenumber_46585((*N_154757).Info);
LOC8 = Tocolumn_46582((*N_154757).Info);
LOC9 = 0;
LOC9 = Rstparse_146082((*N_154757).Comment, NIM_TRUE, LOC6, LOC7, LOC8, &Dummyhastoc_154759);
Result_154758 = Renderrsttoout_154644(D_154756, LOC9);
LA4: ;
framePtr = framePtr->prev;
return Result_154758;
}
N_NIMCALL(TY51008*, Genreccomment_154762)(TY154017* D_154764, TY54525* N_154765) {
TY51008* Result_154766;
NI I_154808;
NI HEX3Atmp_154833;
NI LOC10;
NI Res_154835;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "genRecComment";
F.prev = framePtr;
F.filename = "rod/docgen.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_154766 = 0;
F.line = 274;F.filename = "docgen.nim";
if (!(N_154765 == NIM_NIL)) goto LA2;
F.line = 274;F.filename = "docgen.nim";
F.line = 274;F.filename = "docgen.nim";
Result_154766 = NIM_NIL;
goto BeforeRet;
LA2: ;
F.line = 275;F.filename = "docgen.nim";
Result_154766 = Gencomment_154754(D_154764, N_154765);
F.line = 276;F.filename = "docgen.nim";
if (!(Result_154766 == NIM_NIL)) goto LA5;
F.line = 277;F.filename = "docgen.nim";
if (!!(((*N_154765).Kind >= ((NU8) 1) && (*N_154765).Kind <= ((NU8) 18)))) goto LA8;
I_154808 = 0;
HEX3Atmp_154833 = 0;
F.line = 278;F.filename = "docgen.nim";
LOC10 = Sonslen_54803(N_154765);
HEX3Atmp_154833 = subInt(LOC10, 1);
Res_154835 = 0;
F.line = 1021;F.filename = "system.nim";
Res_154835 = 0;
F.line = 1022;F.filename = "system.nim";
while (1) {
if (!(Res_154835 <= HEX3Atmp_154833)) goto LA11;
F.line = 1021;F.filename = "system.nim";
I_154808 = Res_154835;
F.line = 279;F.filename = "docgen.nim";
if (((TMP154838[(*N_154765).Kind/8] &(1<<((*N_154765).Kind%8)))!=0)) raiseFieldError(((NimStringDesc*) &TMP154839));
if ((NU)(I_154808) >= (NU)((*N_154765).KindU.S6.Sons->Sup.len)) raiseIndexError();
Result_154766 = Genreccomment_154762(D_154764, (*N_154765).KindU.S6.Sons->data[I_154808]);
F.line = 280;F.filename = "docgen.nim";
if (!!((Result_154766 == NIM_NIL))) goto LA13;
F.line = 280;F.filename = "docgen.nim";
goto BeforeRet;
LA13: ;
F.line = 1024;F.filename = "system.nim";
Res_154835 = addInt(Res_154835, 1);
} LA11: ;
LA8: ;
goto LA4;
LA5: ;
F.line = 282;F.filename = "docgen.nim";
asgnRefNoCycle((void**) &(*N_154765).Comment, copyString(NIM_NIL));
LA4: ;
BeforeRet: ;
framePtr = framePtr->prev;
return Result_154766;
}
N_NIMCALL(NIM_BOOL, Isvisible_154840)(TY54525* N_154842) {
NIM_BOOL Result_154843;
NIM_BOOL LOC5;
NI LOC6;
TY53011* V_154900;
NIM_BOOL LOC10;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "isVisible";
F.prev = framePtr;
F.filename = "rod/docgen.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_154843 = 0;
F.line = 285;F.filename = "docgen.nim";
Result_154843 = NIM_FALSE;
F.line = 286;F.filename = "docgen.nim";
if (!((*N_154842).Kind == ((NU8) 29))) goto LA2;
F.line = 287;F.filename = "docgen.nim";
LOC6 = Sonslen_54803(N_154842);
LOC5 = (LOC6 == 2);
if (!(LOC5)) goto LA7;
if (((TMP154838[(*N_154842).Kind/8] &(1<<((*N_154842).Kind%8)))!=0)) raiseFieldError(((NimStringDesc*) &TMP154839));
if ((NU)(0) >= (NU)((*N_154842).KindU.S6.Sons->Sup.len)) raiseIndexError();
LOC5 = ((*(*N_154842).KindU.S6.Sons->data[0]).Kind == ((NU8) 2));
LA7: ;
if (!LOC5) goto LA8;
V_154900 = 0;
F.line = 288;F.filename = "docgen.nim";
if (((TMP154838[(*N_154842).Kind/8] &(1<<((*N_154842).Kind%8)))!=0)) raiseFieldError(((NimStringDesc*) &TMP154839));
if ((NU)(0) >= (NU)((*N_154842).KindU.S6.Sons->Sup.len)) raiseIndexError();
if (!(((TMP154968[(*(*N_154842).KindU.S6.Sons->data[0]).Kind/8] &(1<<((*(*N_154842).KindU.S6.Sons->data[0]).Kind%8)))!=0))) raiseFieldError(((NimStringDesc*) &TMP154969));
V_154900 = (*(*N_154842).KindU.S6.Sons->data[0]).KindU.S5.Ident;
F.line = 289;F.filename = "docgen.nim";
LOC10 = ((*V_154900).Sup.Id == 69);
if (LOC10) goto LA11;
LOC10 = ((*V_154900).Sup.Id == 70);
LA11: ;
Result_154843 = LOC10;
LA8: ;
goto LA1;
LA2: ;
if (!((*N_154842).Kind == ((NU8) 3))) goto LA12;
F.line = 291;F.filename = "docgen.nim";
if (!(((TMP154970[(*N_154842).Kind/8] &(1<<((*N_154842).Kind%8)))!=0))) raiseFieldError(((NimStringDesc*) &TMP154971));
Result_154843 = (((*(*N_154842).KindU.S4.Sym).Flags &(1<<((((NU8) 3))&31)))!=0);
goto LA1;
LA12: ;
if (!((*N_154842).Kind == ((NU8) 34))) goto LA14;
F.line = 293;F.filename = "docgen.nim";
if (((TMP154838[(*N_154842).Kind/8] &(1<<((*N_154842).Kind%8)))!=0)) raiseFieldError(((NimStringDesc*) &TMP154839));
if ((NU)(0) >= (NU)((*N_154842).KindU.S6.Sons->Sup.len)) raiseIndexError();
Result_154843 = Isvisible_154840((*N_154842).KindU.S6.Sons->data[0]);
goto LA1;
LA14: ;
LA1: ;
framePtr = framePtr->prev;
return Result_154843;
}
N_NIMCALL(NimStringDesc*, Getname_154972)(TY54525* N_154974, NI Splitafter_154975) {
NimStringDesc* Result_154976;
NimStringDesc* LOC1;
NimStringDesc* LOC2;
NimStringDesc* LOC3;
NimStringDesc* LOC4;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "getName";
F.prev = framePtr;
F.filename = "rod/docgen.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_154976 = 0;
F.line = 296;F.filename = "docgen.nim";
switch ((*N_154974).Kind) {
case ((NU8) 29):
F.line = 297;F.filename = "docgen.nim";
if (((TMP154838[(*N_154974).Kind/8] &(1<<((*N_154974).Kind%8)))!=0)) raiseFieldError(((NimStringDesc*) &TMP154839));
if ((NU)(1) >= (NU)((*N_154974).KindU.S6.Sons->Sup.len)) raiseIndexError();
Result_154976 = Getname_154972((*N_154974).KindU.S6.Sons->data[1], Splitafter_154975);
break;
case ((NU8) 34):
F.line = 298;F.filename = "docgen.nim";
if (((TMP154838[(*N_154974).Kind/8] &(1<<((*N_154974).Kind%8)))!=0)) raiseFieldError(((NimStringDesc*) &TMP154839));
if ((NU)(0) >= (NU)((*N_154974).KindU.S6.Sons->Sup.len)) raiseIndexError();
Result_154976 = Getname_154972((*N_154974).KindU.S6.Sons->data[0], Splitafter_154975);
break;
case ((NU8) 3):
F.line = 299;F.filename = "docgen.nim";
if (!(((TMP154970[(*N_154974).Kind/8] &(1<<((*N_154974).Kind%8)))!=0))) raiseFieldError(((NimStringDesc*) &TMP154971));
Result_154976 = Esc_154536((*(*(*N_154974).KindU.S4.Sym).Name).S, Splitafter_154975);
break;
case ((NU8) 2):
F.line = 300;F.filename = "docgen.nim";
if (!(((TMP154968[(*N_154974).Kind/8] &(1<<((*N_154974).Kind%8)))!=0))) raiseFieldError(((NimStringDesc*) &TMP154969));
Result_154976 = Esc_154536((*(*N_154974).KindU.S5.Ident).S, Splitafter_154975);
break;
case ((NU8) 43):
F.line = 301;F.filename = "docgen.nim";
LOC1 = 0;
LOC2 = 0;
LOC2 = Esc_154536(((NimStringDesc*) &TMP155053), -1);
if (((TMP154838[(*N_154974).Kind/8] &(1<<((*N_154974).Kind%8)))!=0)) raiseFieldError(((NimStringDesc*) &TMP154839));
if ((NU)(0) >= (NU)((*N_154974).KindU.S6.Sons->Sup.len)) raiseIndexError();
LOC3 = 0;
LOC3 = Getname_154972((*N_154974).KindU.S6.Sons->data[0], Splitafter_154975);
LOC4 = 0;
LOC4 = Esc_154536(((NimStringDesc*) &TMP155053), -1);
LOC1 = rawNewString(LOC2->Sup.len + LOC3->Sup.len + LOC4->Sup.len + 0);
appendString(LOC1, LOC2);
appendString(LOC1, LOC3);
appendString(LOC1, LOC4);
Result_154976 = LOC1;
break;
default:
F.line = 303;F.filename = "docgen.nim";
Internalerror_46567((*N_154974).Info, ((NimStringDesc*) &TMP155054));
F.line = 304;F.filename = "docgen.nim";
Result_154976 = copyString(((NimStringDesc*) &TMP154434));
break;
}
framePtr = framePtr->prev;
return Result_154976;
}
N_NIMCALL(TY146077*, Getrstname_155055)(TY54525* N_155057) {
TY146077* Result_155058;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "getRstName";
F.prev = framePtr;
F.filename = "rod/docgen.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_155058 = 0;
F.line = 307;F.filename = "docgen.nim";
switch ((*N_155057).Kind) {
case ((NU8) 29):
F.line = 308;F.filename = "docgen.nim";
if (((TMP154838[(*N_155057).Kind/8] &(1<<((*N_155057).Kind%8)))!=0)) raiseFieldError(((NimStringDesc*) &TMP154839));
if ((NU)(1) >= (NU)((*N_155057).KindU.S6.Sons->Sup.len)) raiseIndexError();
Result_155058 = Getrstname_155055((*N_155057).KindU.S6.Sons->data[1]);
break;
case ((NU8) 34):
F.line = 309;F.filename = "docgen.nim";
if (((TMP154838[(*N_155057).Kind/8] &(1<<((*N_155057).Kind%8)))!=0)) raiseFieldError(((NimStringDesc*) &TMP154839));
if ((NU)(0) >= (NU)((*N_155057).KindU.S6.Sons->Sup.len)) raiseIndexError();
Result_155058 = Getrstname_155055((*N_155057).KindU.S6.Sons->data[0]);
break;
case ((NU8) 3):
F.line = 310;F.filename = "docgen.nim";
if (!(((TMP154970[(*N_155057).Kind/8] &(1<<((*N_155057).Kind%8)))!=0))) raiseFieldError(((NimStringDesc*) &TMP154971));
Result_155058 = Newrstnode_146097(((NU8) 62), (*(*(*N_155057).KindU.S4.Sym).Name).S);
break;
case ((NU8) 2):
F.line = 311;F.filename = "docgen.nim";
if (!(((TMP154968[(*N_155057).Kind/8] &(1<<((*N_155057).Kind%8)))!=0))) raiseFieldError(((NimStringDesc*) &TMP154969));
Result_155058 = Newrstnode_146097(((NU8) 62), (*(*N_155057).KindU.S5.Ident).S);
break;
case ((NU8) 43):
F.line = 312;F.filename = "docgen.nim";
if (((TMP154838[(*N_155057).Kind/8] &(1<<((*N_155057).Kind%8)))!=0)) raiseFieldError(((NimStringDesc*) &TMP154839));
if ((NU)(0) >= (NU)((*N_155057).KindU.S6.Sons->Sup.len)) raiseIndexError();
Result_155058 = Getrstname_155055((*N_155057).KindU.S6.Sons->data[0]);
break;
default:
F.line = 314;F.filename = "docgen.nim";
Internalerror_46567((*N_155057).Info, ((NimStringDesc*) &TMP155119));
F.line = 315;F.filename = "docgen.nim";
Result_155058 = NIM_NIL;
break;
}
framePtr = framePtr->prev;
return Result_155058;
}
static N_INLINE(void, appendChar)(NimStringDesc* Dest_17609, NIM_CHAR C_17610) {
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "appendChar";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/system/sysstr.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
F.line = 154;F.filename = "sysstr.nim";
(*Dest_17609).data[((*Dest_17609).Sup.len)-0] = C_17610;
F.line = 155;F.filename = "sysstr.nim";
(*Dest_17609).data[((NI32)((*Dest_17609).Sup.len + 1))-0] = 0;
F.line = 156;F.filename = "sysstr.nim";
(*Dest_17609).Sup.len += 1;
framePtr = framePtr->prev;
}
N_NIMCALL(void, Genitem_155120)(TY154017* D_155122, TY54525* N_155123, TY54525* Namenode_155124, NU8 K_155125) {
TY83016 R_155126;
NU8 Kind_155127;
NimStringDesc* Literal_155128;
TY51008* Name_155129;
TY51008* Result_155130;
TY51008* Comm_155131;
NIM_BOOL LOC2;
NimStringDesc* LOC5;
TY51451 LOC7;
NimStringDesc* LOC8;
TY51451 LOC9;
TY51451 LOC10;
NimStringDesc* LOC11;
TY51451 LOC12;
NimStringDesc* LOC13;
TY51451 LOC14;
NimStringDesc* LOC15;
TY51451 LOC16;
NimStringDesc* LOC17;
TY51451 LOC18;
NimStringDesc* LOC19;
TY51451 LOC20;
NimStringDesc* LOC21;
TY51451 LOC22;
NimStringDesc* LOC23;
NimStringDesc* LOC24;
NimStringDesc* LOC25;
TY59870 LOC26;
TY51008* LOC27;
NimStringDesc* LOC28;
TY59870 LOC29;
NimStringDesc* LOC30;
TY51008* LOC31;
TY146077* LOC32;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "genItem";
F.prev = framePtr;
F.filename = "rod/docgen.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
memset((void*)&R_155126, 0, sizeof(R_155126));
Kind_155127 = 0;
Literal_155128 = 0;
Name_155129 = 0;
Result_155130 = 0;
Comm_155131 = 0;
F.line = 323;F.filename = "docgen.nim";
LOC2 = Isvisible_154840(Namenode_155124);
if (!!(LOC2)) goto LA3;
F.line = 323;F.filename = "docgen.nim";
goto BeforeRet;
LA3: ;
F.line = 324;F.filename = "docgen.nim";
LOC5 = 0;
LOC5 = Getname_154972(Namenode_155124, -1);
Name_155129 = Torope_51046(LOC5);
F.line = 325;F.filename = "docgen.nim";
Result_155130 = NIM_NIL;
F.line = 326;F.filename = "docgen.nim";
Literal_155128 = copyString(((NimStringDesc*) &TMP154434));
F.line = 327;F.filename = "docgen.nim";
Kind_155127 = ((NU8) 1);
F.line = 328;F.filename = "docgen.nim";
Comm_155131 = Genreccomment_154762(D_155122, N_155123);
F.line = 329;F.filename = "docgen.nim";
Inittokrender_83048(&R_155126, N_155123, 30);
F.line = 331;F.filename = "docgen.nim";
while (1) {
F.line = 332;F.filename = "docgen.nim";
Getnexttok_83056(&R_155126, &Kind_155127, &Literal_155128);
F.line = 333;F.filename = "docgen.nim";
switch (Kind_155127) {
case ((NU8) 1):
F.line = 335;F.filename = "docgen.nim";
goto LA6;
break;
case ((NU8) 100):
F.line = 337;F.filename = "docgen.nim";
memset((void*)&LOC7, 0, sizeof(LOC7));
LOC8 = 0;
LOC8 = Esc_154536(Literal_155128, -1);
LOC7[0] = Torope_51046(LOC8);
Dispa_154627(&Result_155130, ((NimStringDesc*) &TMP155226), ((NimStringDesc*) &TMP155227), LOC7, 1);
break;
case ((NU8) 3) ... ((NU8) 65):
F.line = 340;F.filename = "docgen.nim";
memset((void*)&LOC9, 0, sizeof(LOC9));
LOC9[0] = Torope_51046(Literal_155128);
Dispa_154627(&Result_155130, ((NimStringDesc*) &TMP155228), ((NimStringDesc*) &TMP155229), LOC9, 1);
break;
case ((NU8) 99):
case ((NU8) 98):
F.line = 343;F.filename = "docgen.nim";
memset((void*)&LOC10, 0, sizeof(LOC10));
LOC11 = 0;
LOC11 = Esc_154536(Literal_155128, -1);
LOC10[0] = Torope_51046(LOC11);
Dispa_154627(&Result_155130, ((NimStringDesc*) &TMP155230), ((NimStringDesc*) &TMP155231), LOC10, 1);
break;
case ((NU8) 74) ... ((NU8) 76):
F.line = 346;F.filename = "docgen.nim";
memset((void*)&LOC12, 0, sizeof(LOC12));
LOC13 = 0;
LOC13 = Esc_154536(Literal_155128, -1);
LOC12[0] = Torope_51046(LOC13);
Dispa_154627(&Result_155130, ((NimStringDesc*) &TMP155232), ((NimStringDesc*) &TMP155233), LOC12, 1);
break;
case ((NU8) 79):
F.line = 349;F.filename = "docgen.nim";
memset((void*)&LOC14, 0, sizeof(LOC14));
LOC15 = 0;
LOC15 = Esc_154536(Literal_155128, -1);
LOC14[0] = Torope_51046(LOC15);
Dispa_154627(&Result_155130, ((NimStringDesc*) &TMP155234), ((NimStringDesc*) &TMP155235), LOC14, 1);
break;
case ((NU8) 66) ... ((NU8) 70):
F.line = 352;F.filename = "docgen.nim";
memset((void*)&LOC16, 0, sizeof(LOC16));
LOC17 = 0;
LOC17 = Esc_154536(Literal_155128, -1);
LOC16[0] = Torope_51046(LOC17);
Dispa_154627(&Result_155130, ((NimStringDesc*) &TMP155236), ((NimStringDesc*) &TMP155237), LOC16, 1);
break;
case ((NU8) 71) ... ((NU8) 73):
F.line = 355;F.filename = "docgen.nim";
memset((void*)&LOC18, 0, sizeof(LOC18));
LOC19 = 0;
LOC19 = Esc_154536(Literal_155128, -1);
LOC18[0] = Torope_51046(LOC19);
Dispa_154627(&Result_155130, ((NimStringDesc*) &TMP155238), ((NimStringDesc*) &TMP155239), LOC18, 1);
break;
case ((NU8) 2):
F.line = 358;F.filename = "docgen.nim";
memset((void*)&LOC20, 0, sizeof(LOC20));
LOC21 = 0;
LOC21 = Esc_154536(Literal_155128, -1);
LOC20[0] = Torope_51046(LOC21);
Dispa_154627(&Result_155130, ((NimStringDesc*) &TMP155240), ((NimStringDesc*) &TMP155241), LOC20, 1);
break;
case ((NU8) 102):
case ((NU8) 103):
case ((NU8) 104):
case ((NU8) 105):
F.line = 361;F.filename = "docgen.nim";
App_51036(&Result_155130, Literal_155128);
break;
case ((NU8) 80):
case ((NU8) 81):
case ((NU8) 82):
case ((NU8) 83):
case ((NU8) 84):
case ((NU8) 85):
case ((NU8) 86):
case ((NU8) 87):
case ((NU8) 88):
case ((NU8) 89):
case ((NU8) 90):
case ((NU8) 91):
case ((NU8) 92):
case ((NU8) 93):
case ((NU8) 94):
case ((NU8) 95):
case ((NU8) 96):
case ((NU8) 97):
case ((NU8) 101):
F.line = 366;F.filename = "docgen.nim";
memset((void*)&LOC22, 0, sizeof(LOC22));
LOC23 = 0;
LOC23 = Esc_154536(Literal_155128, -1);
LOC22[0] = Torope_51046(LOC23);
Dispa_154627(&Result_155130, ((NimStringDesc*) &TMP155242), ((NimStringDesc*) &TMP155243), LOC22, 1);
break;
default:
F.line = 368;F.filename = "docgen.nim";
LOC24 = 0;
LOC24 = rawNewString(Toktypetostr_75145[(Kind_155127)-0]->Sup.len + 17);
appendString(LOC24, ((NimStringDesc*) &TMP155244));
appendString(LOC24, Toktypetostr_75145[(Kind_155127)-0]);
appendChar(LOC24, 41);
Internalerror_46567((*N_155123).Info, LOC24);
break;
}
} LA6: ;
F.line = 369;F.filename = "docgen.nim";
(*D_155122).Id = addInt((*D_155122).Id, 1);
F.line = 370;F.filename = "docgen.nim";
LOC25 = 0;
LOC25 = Getconfigvar_45132(((NimStringDesc*) &TMP155245));
memset((void*)&LOC26, 0, sizeof(LOC26));
LOC26[0] = Name_155129;
LOC26[1] = Result_155130;
LOC26[2] = Comm_155131;
LOC26[3] = Torope_51052(((NI64) ((*D_155122).Id)));
LOC27 = 0;
LOC27 = Ropeformatnamedvars_154226(LOC25, TMP155246, 4, LOC26, 4);
App_51031(&(*D_155122).Section[(K_155125)-0], LOC27);
F.line = 373;F.filename = "docgen.nim";
LOC28 = 0;
LOC28 = Getconfigvar_45132(((NimStringDesc*) &TMP155251));
memset((void*)&LOC29, 0, sizeof(LOC29));
LOC30 = 0;
LOC30 = Getname_154972(Namenode_155124, (*D_155122).Splitafter);
LOC29[0] = Torope_51046(LOC30);
LOC29[1] = Result_155130;
LOC29[2] = Comm_155131;
LOC29[3] = Torope_51052(((NI64) ((*D_155122).Id)));
LOC31 = 0;
LOC31 = Ropeformatnamedvars_154226(LOC28, TMP155246, 4, LOC29, 4);
App_51031(&(*D_155122).Toc[(K_155125)-0], LOC31);
F.line = 376;F.filename = "docgen.nim";
LOC32 = 0;
LOC32 = Getrstname_155055(Namenode_155124);
Setindexforsourceterm_154673(D_155122, LOC32, (*D_155122).Id);
BeforeRet: ;
framePtr = framePtr->prev;
}
N_NIMCALL(TY51008*, Renderheadline_155252)(TY154017* D_155254, TY146077* N_155255) {
TY51008* Result_155256;
NI I_155264;
NI HEX3Atmp_155317;
NI LOC1;
NI Res_155319;
TY51008* LOC3;
TY51008* Refname_155266;
NimStringDesc* LOC4;
NI Length_155277;
TY59870 LOC8;
NimStringDesc* LOC9;
TY59870 LOC10;
NimStringDesc* LOC11;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "renderHeadline";
F.prev = framePtr;
F.filename = "rod/docgen.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_155256 = 0;
F.line = 379;F.filename = "docgen.nim";
Result_155256 = NIM_NIL;
I_155264 = 0;
HEX3Atmp_155317 = 0;
F.line = 380;F.filename = "docgen.nim";
LOC1 = Rsonslen_146091(N_155255);
HEX3Atmp_155317 = subInt(LOC1, 1);
Res_155319 = 0;
F.line = 1021;F.filename = "system.nim";
Res_155319 = 0;
F.line = 1022;F.filename = "system.nim";
while (1) {
if (!(Res_155319 <= HEX3Atmp_155317)) goto LA2;
F.line = 1021;F.filename = "system.nim";
I_155264 = Res_155319;
F.line = 380;F.filename = "docgen.nim";
if ((NU)(I_155264) >= (NU)((*N_155255).Sons->Sup.len)) raiseIndexError();
LOC3 = 0;
LOC3 = Renderrsttoout_154644(D_155254, (*N_155255).Sons->data[I_155264]);
App_51031(&Result_155256, LOC3);
F.line = 1024;F.filename = "system.nim";
Res_155319 = addInt(Res_155319, 1);
} LA2: ;
Refname_155266 = 0;
F.line = 381;F.filename = "docgen.nim";
LOC4 = 0;
LOC4 = Rstnodetorefname_146105(N_155255);
Refname_155266 = Torope_51046(LOC4);
F.line = 382;F.filename = "docgen.nim";
if (!(*D_155254).Hastoc) goto LA6;
Length_155277 = 0;
F.line = 383;F.filename = "docgen.nim";
Length_155277 = (*D_155254).Tocpart->Sup.len;
F.line = 384;F.filename = "docgen.nim";
(*D_155254).Tocpart = (TY154034*) setLengthSeq(&((*D_155254).Tocpart)->Sup, sizeof(TY154011), addInt(Length_155277, 1));
F.line = 385;F.filename = "docgen.nim";
if ((NU)(Length_155277) >= (NU)((*D_155254).Tocpart->Sup.len)) raiseIndexError();
asgnRefNoCycle((void**) &(*D_155254).Tocpart->data[Length_155277].Refname, Refname_155266);
F.line = 386;F.filename = "docgen.nim";
if ((NU)(Length_155277) >= (NU)((*D_155254).Tocpart->Sup.len)) raiseIndexError();
asgnRefNoCycle((void**) &(*D_155254).Tocpart->data[Length_155277].N, N_155255);
F.line = 387;F.filename = "docgen.nim";
if ((NU)(Length_155277) >= (NU)((*D_155254).Tocpart->Sup.len)) raiseIndexError();
asgnRefNoCycle((void**) &(*D_155254).Tocpart->data[Length_155277].Header, Result_155256);
F.line = 388;F.filename = "docgen.nim";
memset((void*)&LOC8, 0, sizeof(LOC8));
LOC8[0] = Torope_51052(((NI64) ((*N_155255).Level)));
if ((NU)(Length_155277) >= (NU)((*D_155254).Tocpart->Sup.len)) raiseIndexError();
LOC8[1] = (*D_155254).Tocpart->data[Length_155277].Refname;
LOC8[2] = Result_155256;
LOC9 = 0;
LOC9 = rawNewString(1);
appendChar(LOC9, ((NIM_CHAR) (((NI) (addInt(subInt((*N_155255).Level, 1), 65))))));
appendString(LOC9, ((NimStringDesc*) &TMP154434));
LOC8[3] = Torope_51046(LOC9);
Result_155256 = Dispf_154611(((NimStringDesc*) &TMP155322), ((NimStringDesc*) &TMP155323), LOC8, 4);
goto LA5;
LA6: ;
F.line = 393;F.filename = "docgen.nim";
memset((void*)&LOC10, 0, sizeof(LOC10));
LOC10[0] = Torope_51052(((NI64) ((*N_155255).Level)));
LOC10[1] = Refname_155266;
LOC10[2] = Result_155256;
LOC11 = 0;
LOC11 = rawNewString(1);
appendChar(LOC11, ((NIM_CHAR) (((NI) (addInt(subInt((*N_155255).Level, 1), 65))))));
appendString(LOC11, ((NimStringDesc*) &TMP154434));
LOC10[3] = Torope_51046(LOC11);
Result_155256 = Dispf_154611(((NimStringDesc*) &TMP155324), ((NimStringDesc*) &TMP155323), LOC10, 4);
LA5: ;
framePtr = framePtr->prev;
return Result_155256;
}
N_NIMCALL(TY51008*, Renderoverline_155325)(TY154017* D_155327, TY146077* N_155328) {
TY51008* Result_155329;
TY51008* T_155330;
NI I_155338;
NI HEX3Atmp_155376;
NI LOC1;
NI Res_155378;
TY51008* LOC3;
TY59870 LOC9;
NimStringDesc* LOC10;
NimStringDesc* LOC11;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "renderOverline";
F.prev = framePtr;
F.filename = "rod/docgen.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_155329 = 0;
T_155330 = 0;
F.line = 398;F.filename = "docgen.nim";
T_155330 = NIM_NIL;
I_155338 = 0;
HEX3Atmp_155376 = 0;
F.line = 399;F.filename = "docgen.nim";
LOC1 = Rsonslen_146091(N_155328);
HEX3Atmp_155376 = subInt(LOC1, 1);
Res_155378 = 0;
F.line = 1021;F.filename = "system.nim";
Res_155378 = 0;
F.line = 1022;F.filename = "system.nim";
while (1) {
if (!(Res_155378 <= HEX3Atmp_155376)) goto LA2;
F.line = 1021;F.filename = "system.nim";
I_155338 = Res_155378;
F.line = 399;F.filename = "docgen.nim";
if ((NU)(I_155338) >= (NU)((*N_155328).Sons->Sup.len)) raiseIndexError();
LOC3 = 0;
LOC3 = Renderrsttoout_154644(D_155327, (*N_155328).Sons->data[I_155338]);
App_51031(&T_155330, LOC3);
F.line = 1024;F.filename = "system.nim";
Res_155378 = addInt(Res_155378, 1);
} LA2: ;
F.line = 400;F.filename = "docgen.nim";
Result_155329 = NIM_NIL;
F.line = 401;F.filename = "docgen.nim";
if (!((*D_155327).Meta[(((NU8) 1))-0] == NIM_NIL)) goto LA5;
F.line = 402;F.filename = "docgen.nim";
asgnRefNoCycle((void**) &(*D_155327).Meta[(((NU8) 1))-0], T_155330);
goto LA4;
LA5: ;
if (!((*D_155327).Meta[(((NU8) 2))-0] == NIM_NIL)) goto LA7;
F.line = 404;F.filename = "docgen.nim";
asgnRefNoCycle((void**) &(*D_155327).Meta[(((NU8) 2))-0], T_155330);
goto LA4;
LA7: ;
F.line = 406;F.filename = "docgen.nim";
memset((void*)&LOC9, 0, sizeof(LOC9));
LOC9[0] = Torope_51052(((NI64) ((*N_155328).Level)));
LOC10 = 0;
LOC10 = Rstnodetorefname_146105(N_155328);
LOC9[1] = Torope_51046(LOC10);
LOC9[2] = T_155330;
LOC11 = 0;
LOC11 = rawNewString(1);
appendChar(LOC11, ((NIM_CHAR) (((NI) (addInt(subInt((*N_155328).Level, 1), 65))))));
appendString(LOC11, ((NimStringDesc*) &TMP154434));
LOC9[3] = Torope_51046(LOC11);
Result_155329 = Dispf_154611(((NimStringDesc*) &TMP155381), ((NimStringDesc*) &TMP155382), LOC9, 4);
LA4: ;
framePtr = framePtr->prev;
return Result_155329;
}
N_NIMCALL(TY51008*, Renderrstsons_155387)(TY154017* D_155389, TY146077* N_155390) {
TY51008* Result_155391;
NI I_155399;
NI HEX3Atmp_155402;
NI LOC1;
NI Res_155404;
TY51008* LOC3;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "renderRstSons";
F.prev = framePtr;
F.filename = "rod/docgen.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_155391 = 0;
I_155399 = 0;
HEX3Atmp_155402 = 0;
F.line = 412;F.filename = "docgen.nim";
LOC1 = Rsonslen_146091(N_155390);
HEX3Atmp_155402 = subInt(LOC1, 1);
Res_155404 = 0;
F.line = 1021;F.filename = "system.nim";
Res_155404 = 0;
F.line = 1022;F.filename = "system.nim";
while (1) {
if (!(Res_155404 <= HEX3Atmp_155402)) goto LA2;
F.line = 1021;F.filename = "system.nim";
I_155399 = Res_155404;
F.line = 413;F.filename = "docgen.nim";
if ((NU)(I_155399) >= (NU)((*N_155390).Sons->Sup.len)) raiseIndexError();
LOC3 = 0;
LOC3 = Renderrsttorst_155383(D_155389, (*N_155390).Sons->data[I_155399]);
App_51031(&Result_155391, LOC3);
F.line = 1024;F.filename = "system.nim";
Res_155404 = addInt(Res_155404, 1);
} LA2: ;
framePtr = framePtr->prev;
return Result_155391;
}
N_NIMCALL(TY51008*, Renderrsttorst_155383)(TY154017* D_155385, TY146077* N_155386) {
TY51008* Result_155411;
TY51008* Ind_155428;
NimStringDesc* LOC4;
NI L_155429;
TY58637 LOC5;
NimStringDesc* LOC6;
NI L_155434;
TY58637 LOC7;
NimStringDesc* LOC8;
TY58695 LOC9;
NimStringDesc* LOC10;
TY58695 LOC11;
TY58695 LOC15;
TY58695 LOC19;
TY58695 LOC20;
TY58695 LOC24;
NI L_155568;
NI LOC25;
TY59870 LOC26;
NI LOC27;
NimStringDesc* LOC28;
TY58695 LOC29;
TY51451 LOC30;
TY58695 LOC31;
TY58695 LOC32;
TY51451 LOC33;
TY51451 LOC34;
TY51451 LOC35;
TY51451 LOC36;
TY51451 LOC37;
TY51451 LOC38;
TY51451 LOC39;
NIM_BOOL LOC41;
TY58695 LOC48;
TY51451 LOC49;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "renderRstToRst";
F.prev = framePtr;
F.filename = "rod/docgen.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_155411 = 0;
F.line = 420;F.filename = "docgen.nim";
Result_155411 = NIM_NIL;
F.line = 421;F.filename = "docgen.nim";
if (!(N_155386 == NIM_NIL)) goto LA2;
F.line = 421;F.filename = "docgen.nim";
goto BeforeRet;
LA2: ;
Ind_155428 = 0;
F.line = 422;F.filename = "docgen.nim";
LOC4 = 0;
LOC4 = nsuRepeatChar((*D_155385).Indent, 32);
Ind_155428 = Torope_51046(LOC4);
F.line = 423;F.filename = "docgen.nim";
switch ((*N_155386).Kind) {
case ((NU8) 0):
F.line = 425;F.filename = "docgen.nim";
Result_155411 = Renderrstsons_155387(D_155385, N_155386);
break;
case ((NU8) 1):
F.line = 427;F.filename = "docgen.nim";
Result_155411 = Renderrstsons_155387(D_155385, N_155386);
L_155429 = 0;
F.line = 428;F.filename = "docgen.nim";
L_155429 = Ropelen_51055(Result_155411);
F.line = 429;F.filename = "docgen.nim";
memset((void*)&LOC5, 0, sizeof(LOC5));
LOC5[0] = Ind_155428;
LOC5[1] = Result_155411;
if ((NU)((*N_155386).Level) > (NU)(8)) raiseIndexError();
LOC6 = 0;
LOC6 = nsuRepeatChar(L_155429, Lvltochar_155412[((*N_155386).Level)-0]);
LOC5[2] = Torope_51046(LOC6);
Result_155411 = Ropef_51069(((NimStringDesc*) &TMP155742), LOC5, 3);
break;
case ((NU8) 2):
F.line = 432;F.filename = "docgen.nim";
Result_155411 = Renderrstsons_155387(D_155385, N_155386);
L_155434 = 0;
F.line = 433;F.filename = "docgen.nim";
L_155434 = Ropelen_51055(Result_155411);
F.line = 434;F.filename = "docgen.nim";
memset((void*)&LOC7, 0, sizeof(LOC7));
LOC7[0] = Ind_155428;
LOC7[1] = Result_155411;
if ((NU)((*N_155386).Level) > (NU)(8)) raiseIndexError();
LOC8 = 0;
LOC8 = nsuRepeatChar(L_155434, Lvltochar_155412[((*N_155386).Level)-0]);
LOC7[2] = Torope_51046(LOC8);
Result_155411 = Ropef_51069(((NimStringDesc*) &TMP155743), LOC7, 3);
break;
case ((NU8) 3):
F.line = 437;F.filename = "docgen.nim";
memset((void*)&LOC9, 0, sizeof(LOC9));
LOC9[0] = Ind_155428;
LOC10 = 0;
LOC10 = nsuRepeatChar(subInt(78, (*D_155385).Indent), 45);
LOC9[1] = Torope_51046(LOC10);
Result_155411 = Ropef_51069(((NimStringDesc*) &TMP155744), LOC9, 2);
break;
case ((NU8) 4):
F.line = 439;F.filename = "docgen.nim";
Result_155411 = Renderrstsons_155387(D_155385, N_155386);
F.line = 440;F.filename = "docgen.nim";
memset((void*)&LOC11, 0, sizeof(LOC11));
LOC11[0] = Ind_155428;
LOC11[1] = Result_155411;
Result_155411 = Ropef_51069(((NimStringDesc*) &TMP155745), LOC11, 2);
break;
case ((NU8) 6):
F.line = 442;F.filename = "docgen.nim";
(*D_155385).Indent = addInt((*D_155385).Indent, 2);
F.line = 443;F.filename = "docgen.nim";
Result_155411 = Renderrstsons_155387(D_155385, N_155386);
F.line = 444;F.filename = "docgen.nim";
if (!!((Result_155411 == NIM_NIL))) goto LA13;
F.line = 444;F.filename = "docgen.nim";
memset((void*)&LOC15, 0, sizeof(LOC15));
LOC15[0] = Ind_155428;
LOC15[1] = Result_155411;
Result_155411 = Ropef_51069(((NimStringDesc*) &TMP155746), LOC15, 2);
LA13: ;
F.line = 445;F.filename = "docgen.nim";
(*D_155385).Indent = subInt((*D_155385).Indent, 2);
break;
case ((NU8) 8):
F.line = 447;F.filename = "docgen.nim";
(*D_155385).Indent = addInt((*D_155385).Indent, 4);
F.line = 448;F.filename = "docgen.nim";
Result_155411 = Renderrstsons_155387(D_155385, N_155386);
F.line = 449;F.filename = "docgen.nim";
if (!!((Result_155411 == NIM_NIL))) goto LA17;
F.line = 449;F.filename = "docgen.nim";
memset((void*)&LOC19, 0, sizeof(LOC19));
LOC19[0] = Ind_155428;
LOC19[1] = Result_155411;
Result_155411 = Ropef_51069(((NimStringDesc*) &TMP155747), LOC19, 2);
LA17: ;
F.line = 450;F.filename = "docgen.nim";
(*D_155385).Indent = subInt((*D_155385).Indent, 4);
break;
case ((NU8) 17):
case ((NU8) 13):
case ((NU8) 9):
case ((NU8) 10):
case ((NU8) 26):
case ((NU8) 15):
case ((NU8) 16):
case ((NU8) 37):
case ((NU8) 5):
case ((NU8) 7):
F.line = 453;F.filename = "docgen.nim";
Result_155411 = Renderrstsons_155387(D_155385, N_155386);
break;
case ((NU8) 11):
F.line = 455;F.filename = "docgen.nim";
Result_155411 = Renderrstsons_155387(D_155385, N_155386);
F.line = 456;F.filename = "docgen.nim";
memset((void*)&LOC20, 0, sizeof(LOC20));
LOC20[0] = Ind_155428;
LOC20[1] = Result_155411;
Result_155411 = Ropef_51069(((NimStringDesc*) &TMP155745), LOC20, 2);
break;
case ((NU8) 12):
F.line = 458;F.filename = "docgen.nim";
(*D_155385).Indent = addInt((*D_155385).Indent, 2);
F.line = 459;F.filename = "docgen.nim";
Result_155411 = Renderrstsons_155387(D_155385, N_155386);
F.line = 460;F.filename = "docgen.nim";
if ((NU)(0) >= (NU)((*N_155386).Sons->Sup.len)) raiseIndexError();
if (!!(((*(*N_155386).Sons->data[0]).Kind == ((NU8) 5)))) goto LA22;
F.line = 460;F.filename = "docgen.nim";
memset((void*)&LOC24, 0, sizeof(LOC24));
LOC24[0] = Ind_155428;
LOC24[1] = Result_155411;
Result_155411 = Ropef_51069(((NimStringDesc*) &TMP155748), LOC24, 2);
LA22: ;
F.line = 461;F.filename = "docgen.nim";
(*D_155385).Indent = subInt((*D_155385).Indent, 2);
break;
case ((NU8) 14):
F.line = 463;F.filename = "docgen.nim";
if ((NU)(0) >= (NU)((*N_155386).Sons->Sup.len)) raiseIndexError();
Result_155411 = Renderrsttorst_155383(D_155385, (*N_155386).Sons->data[0]);
L_155568 = 0;
F.line = 464;F.filename = "docgen.nim";
LOC25 = Ropelen_51055(Result_155411);
L_155568 = ((addInt(LOC25, 3) >= 30) ? addInt(LOC25, 3) : 30);
F.line = 465;F.filename = "docgen.nim";
(*D_155385).Indent = addInt((*D_155385).Indent, L_155568);
F.line = 466;F.filename = "docgen.nim";
memset((void*)&LOC26, 0, sizeof(LOC26));
LOC26[0] = Ind_155428;
LOC26[1] = Result_155411;
LOC27 = Ropelen_51055(Result_155411);
LOC28 = 0;
LOC28 = nsuRepeatChar(subInt(subInt(L_155568, LOC27), 2), 32);
LOC26[2] = Torope_51046(LOC28);
if ((NU)(1) >= (NU)((*N_155386).Sons->Sup.len)) raiseIndexError();
LOC26[3] = Renderrsttorst_155383(D_155385, (*N_155386).Sons->data[1]);
Result_155411 = Ropef_51069(((NimStringDesc*) &TMP155749), LOC26, 4);
F.line = 468;F.filename = "docgen.nim";
(*D_155385).Indent = subInt((*D_155385).Indent, L_155568);
break;
case ((NU8) 27):
F.line = 470;F.filename = "docgen.nim";
Result_155411 = Renderrstsons_155387(D_155385, N_155386);
F.line = 471;F.filename = "docgen.nim";
memset((void*)&LOC29, 0, sizeof(LOC29));
LOC29[0] = Ind_155428;
LOC29[1] = Result_155411;
Result_155411 = Ropef_51069(((NimStringDesc*) &TMP155750), LOC29, 2);
break;
case ((NU8) 28):
F.line = 473;F.filename = "docgen.nim";
(*D_155385).Indent = addInt((*D_155385).Indent, 2);
F.line = 474;F.filename = "docgen.nim";
Result_155411 = Renderrstsons_155387(D_155385, N_155386);
F.line = 475;F.filename = "docgen.nim";
(*D_155385).Indent = subInt((*D_155385).Indent, 2);
break;
case ((NU8) 39):
F.line = 477;F.filename = "docgen.nim";
Result_155411 = Renderrstsons_155387(D_155385, N_155386);
F.line = 478;F.filename = "docgen.nim";
memset((void*)&LOC30, 0, sizeof(LOC30));
LOC30[0] = Result_155411;
Result_155411 = Ropef_51069(((NimStringDesc*) &TMP155751), LOC30, 1);
break;
case ((NU8) 38):
F.line = 480;F.filename = "docgen.nim";
memset((void*)&LOC31, 0, sizeof(LOC31));
if ((NU)(0) >= (NU)((*N_155386).Sons->Sup.len)) raiseIndexError();
LOC31[0] = Renderrsttorst_155383(D_155385, (*N_155386).Sons->data[0]);
if ((NU)(1) >= (NU)((*N_155386).Sons->Sup.len)) raiseIndexError();
LOC31[1] = Renderrsttorst_155383(D_155385, (*N_155386).Sons->data[1]);
Result_155411 = Ropef_51069(((NimStringDesc*) &TMP155752), LOC31, 2);
break;
case ((NU8) 53):
F.line = 483;F.filename = "docgen.nim";
if ((NU)(0) >= (NU)((*N_155386).Sons->Sup.len)) raiseIndexError();
Result_155411 = Renderrsttorst_155383(D_155385, (*N_155386).Sons->data[0]);
F.line = 484;F.filename = "docgen.nim";
memset((void*)&LOC32, 0, sizeof(LOC32));
LOC32[0] = Result_155411;
if ((NU)(1) >= (NU)((*N_155386).Sons->Sup.len)) raiseIndexError();
LOC32[1] = Renderrsttorst_155383(D_155385, (*N_155386).Sons->data[1]);
Result_155411 = Ropef_51069(((NimStringDesc*) &TMP155753), LOC32, 2);
break;
case ((NU8) 54):
F.line = 486;F.filename = "docgen.nim";
Result_155411 = Renderrstsons_155387(D_155385, N_155386);
F.line = 487;F.filename = "docgen.nim";
memset((void*)&LOC33, 0, sizeof(LOC33));
LOC33[0] = Result_155411;
Result_155411 = Ropef_51069(((NimStringDesc*) &TMP155754), LOC33, 1);
break;
case ((NU8) 55):
F.line = 489;F.filename = "docgen.nim";
Result_155411 = Renderrstsons_155387(D_155385, N_155386);
F.line = 490;F.filename = "docgen.nim";
memset((void*)&LOC34, 0, sizeof(LOC34));
LOC34[0] = Result_155411;
Result_155411 = Ropef_51069(((NimStringDesc*) &TMP155755), LOC34, 1);
break;
case ((NU8) 56):
F.line = 492;F.filename = "docgen.nim";
Result_155411 = Renderrstsons_155387(D_155385, N_155386);
F.line = 493;F.filename = "docgen.nim";
memset((void*)&LOC35, 0, sizeof(LOC35));
LOC35[0] = Result_155411;
Result_155411 = Ropef_51069(((NimStringDesc*) &TMP155756), LOC35, 1);
break;
case ((NU8) 57):
F.line = 495;F.filename = "docgen.nim";
Result_155411 = Renderrstsons_155387(D_155385, N_155386);
F.line = 496;F.filename = "docgen.nim";
memset((void*)&LOC36, 0, sizeof(LOC36));
LOC36[0] = Result_155411;
Result_155411 = Ropef_51069(((NimStringDesc*) &TMP155757), LOC36, 1);
break;
case ((NU8) 58):
F.line = 498;F.filename = "docgen.nim";
Result_155411 = Renderrstsons_155387(D_155385, N_155386);
F.line = 499;F.filename = "docgen.nim";
memset((void*)&LOC37, 0, sizeof(LOC37));
LOC37[0] = Result_155411;
Result_155411 = Ropef_51069(((NimStringDesc*) &TMP155758), LOC37, 1);
break;
case ((NU8) 59):
F.line = 501;F.filename = "docgen.nim";
Result_155411 = Renderrstsons_155387(D_155385, N_155386);
F.line = 502;F.filename = "docgen.nim";
memset((void*)&LOC38, 0, sizeof(LOC38));
LOC38[0] = Result_155411;
Result_155411 = Ropef_51069(((NimStringDesc*) &TMP155759), LOC38, 1);
break;
case ((NU8) 60):
F.line = 504;F.filename = "docgen.nim";
(*D_155385).Verbatim = addInt((*D_155385).Verbatim, 1);
F.line = 505;F.filename = "docgen.nim";
Result_155411 = Renderrstsons_155387(D_155385, N_155386);
F.line = 506;F.filename = "docgen.nim";
memset((void*)&LOC39, 0, sizeof(LOC39));
LOC39[0] = Result_155411;
Result_155411 = Ropef_51069(((NimStringDesc*) &TMP155760), LOC39, 1);
F.line = 507;F.filename = "docgen.nim";
(*D_155385).Verbatim = subInt((*D_155385).Verbatim, 1);
break;
case ((NU8) 62):
F.line = 509;F.filename = "docgen.nim";
LOC41 = ((*D_155385).Verbatim == 0);
if (!(LOC41)) goto LA42;
LOC41 = eqStrings((*N_155386).Text, ((NimStringDesc*) &TMP155761));
LA42: ;
if (!LOC41) goto LA43;
F.line = 510;F.filename = "docgen.nim";
Result_155411 = Torope_51046(((NimStringDesc*) &TMP154452));
goto LA40;
LA43: ;
F.line = 512;F.filename = "docgen.nim";
Result_155411 = Torope_51046((*N_155386).Text);
LA40: ;
break;
case ((NU8) 51):
F.line = 514;F.filename = "docgen.nim";
(*D_155385).Indent = addInt((*D_155385).Indent, 3);
F.line = 515;F.filename = "docgen.nim";
if ((NU)(2) >= (NU)((*N_155386).Sons->Sup.len)) raiseIndexError();
if (!!(((*N_155386).Sons->data[2] == NIM_NIL))) goto LA46;
F.line = 515;F.filename = "docgen.nim";
if ((NU)(2) >= (NU)((*N_155386).Sons->Sup.len)) raiseIndexError();
Result_155411 = Renderrstsons_155387(D_155385, (*N_155386).Sons->data[2]);
LA46: ;
F.line = 516;F.filename = "docgen.nim";
(*D_155385).Indent = subInt((*D_155385).Indent, 3);
F.line = 517;F.filename = "docgen.nim";
memset((void*)&LOC48, 0, sizeof(LOC48));
LOC48[0] = Ind_155428;
LOC48[1] = Result_155411;
Result_155411 = Ropef_51069(((NimStringDesc*) &TMP155762), LOC48, 2);
break;
case ((NU8) 44):
F.line = 519;F.filename = "docgen.nim";
memset((void*)&LOC49, 0, sizeof(LOC49));
LOC49[0] = Ind_155428;
Result_155411 = Ropef_51069(((NimStringDesc*) &TMP155763), LOC49, 1);
break;
default:
F.line = 520;F.filename = "docgen.nim";
Rawmessage_46553(((NU8) 189), reprEnum((*N_155386).Kind, NTI146008));
break;
}
BeforeRet: ;
framePtr = framePtr->prev;
return Result_155411;
}
N_NIMCALL(TY51008*, Rendertocentry_155764)(TY154017* D_155766, TY154011 E_155767) {
TY51008* Result_155768;
TY58695 LOC1;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "renderTocEntry";
F.prev = framePtr;
F.filename = "rod/docgen.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_155768 = 0;
F.line = 523;F.filename = "docgen.nim";
memset((void*)&LOC1, 0, sizeof(LOC1));
LOC1[0] = E_155767.Refname;
LOC1[1] = E_155767.Header;
Result_155768 = Dispf_154611(((NimStringDesc*) &TMP155773), ((NimStringDesc*) &TMP155774), LOC1, 2);
framePtr = framePtr->prev;
return Result_155768;
}
N_NIMCALL(TY51008*, Rendertocentries_155775)(TY154017* D_155777, NI* J_155779, NI Lvl_155780) {
TY51008* Result_155781;
NI A_155784;
TY51008* LOC5;
TY51008* LOC8;
TY51451 LOC12;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "renderTocEntries";
F.prev = framePtr;
F.filename = "rod/docgen.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_155781 = 0;
F.line = 528;F.filename = "docgen.nim";
Result_155781 = NIM_NIL;
F.line = 529;F.filename = "docgen.nim";
while (1) {
if (!((*J_155779) <= ((*D_155777).Tocpart->Sup.len-1))) goto LA1;
A_155784 = 0;
F.line = 530;F.filename = "docgen.nim";
if ((NU)((*J_155779)) >= (NU)((*D_155777).Tocpart->Sup.len)) raiseIndexError();
if ((*(*D_155777).Tocpart->data[(*J_155779)].N).Level == (-2147483647 -1)) raiseOverflow();
A_155784 = (NI32)abs((*(*D_155777).Tocpart->data[(*J_155779)].N).Level);
F.line = 531;F.filename = "docgen.nim";
if (!(A_155784 == Lvl_155780)) goto LA3;
F.line = 532;F.filename = "docgen.nim";
if ((NU)((*J_155779)) >= (NU)((*D_155777).Tocpart->Sup.len)) raiseIndexError();
LOC5 = 0;
LOC5 = Rendertocentry_155764(D_155777, (*D_155777).Tocpart->data[(*J_155779)]);
App_51031(&Result_155781, LOC5);
F.line = 533;F.filename = "docgen.nim";
(*J_155779) = addInt((*J_155779), 1);
goto LA2;
LA3: ;
if (!(Lvl_155780 < A_155784)) goto LA6;
F.line = 535;F.filename = "docgen.nim";
LOC8 = 0;
LOC8 = Rendertocentries_155775(D_155777, J_155779, A_155784);
App_51031(&Result_155781, LOC8);
goto LA2;
LA6: ;
F.line = 537;F.filename = "docgen.nim";
goto LA1;
LA2: ;
} LA1: ;
F.line = 538;F.filename = "docgen.nim";
if (!(1 < Lvl_155780)) goto LA10;
F.line = 539;F.filename = "docgen.nim";
memset((void*)&LOC12, 0, sizeof(LOC12));
LOC12[0] = Result_155781;
Result_155781 = Dispf_154611(((NimStringDesc*) &TMP155810), ((NimStringDesc*) &TMP155811), LOC12, 1);
LA10: ;
framePtr = framePtr->prev;
return Result_155781;
}
N_NIMCALL(TY51008*, Fieldaux_155812)(NimStringDesc* S_155814) {
TY51008* Result_155815;
NimStringDesc* LOC1;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "fieldAux";
F.prev = framePtr;
F.filename = "rod/docgen.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_155815 = 0;
F.line = 543;F.filename = "docgen.nim";
LOC1 = 0;
LOC1 = nsuStrip(S_155814, NIM_TRUE, NIM_TRUE);
Result_155815 = Torope_51046(LOC1);
framePtr = framePtr->prev;
return Result_155815;
}
N_NIMCALL(TY51008*, Renderimage_155816)(TY154017* D_155818, TY146077* N_155819) {
TY51008* Result_155820;
TY51008* Options_155821;
NimStringDesc* S_155822;
TY51451 LOC4;
TY51451 LOC8;
TY51451 LOC12;
TY51451 LOC16;
TY51451 LOC20;
TY51451 LOC24;
TY58695 LOC25;
NimStringDesc* LOC26;
NI LOC28;
TY51008* LOC31;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "renderImage";
F.prev = framePtr;
F.filename = "rod/docgen.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_155820 = 0;
Options_155821 = 0;
F.line = 546;F.filename = "docgen.nim";
Options_155821 = NIM_NIL;
S_155822 = 0;
F.line = 547;F.filename = "docgen.nim";
S_155822 = Getfieldvalue_146111(N_155819, ((NimStringDesc*) &TMP155870));
F.line = 548;F.filename = "docgen.nim";
if (!!(((S_155822) && (S_155822)->Sup.len == 0))) goto LA2;
F.line = 548;F.filename = "docgen.nim";
memset((void*)&LOC4, 0, sizeof(LOC4));
LOC4[0] = Fieldaux_155812(S_155822);
Dispa_154627(&Options_155821, ((NimStringDesc*) &TMP155871), ((NimStringDesc*) &TMP155872), LOC4, 1);
LA2: ;
F.line = 549;F.filename = "docgen.nim";
S_155822 = Getfieldvalue_146111(N_155819, ((NimStringDesc*) &TMP155873));
F.line = 550;F.filename = "docgen.nim";
if (!!(((S_155822) && (S_155822)->Sup.len == 0))) goto LA6;
F.line = 550;F.filename = "docgen.nim";
memset((void*)&LOC8, 0, sizeof(LOC8));
LOC8[0] = Fieldaux_155812(S_155822);
Dispa_154627(&Options_155821, ((NimStringDesc*) &TMP155874), ((NimStringDesc*) &TMP155875), LOC8, 1);
LA6: ;
F.line = 551;F.filename = "docgen.nim";
S_155822 = Getfieldvalue_146111(N_155819, ((NimStringDesc*) &TMP155876));
F.line = 552;F.filename = "docgen.nim";
if (!!(((S_155822) && (S_155822)->Sup.len == 0))) goto LA10;
F.line = 552;F.filename = "docgen.nim";
memset((void*)&LOC12, 0, sizeof(LOC12));
LOC12[0] = Fieldaux_155812(S_155822);
Dispa_154627(&Options_155821, ((NimStringDesc*) &TMP155877), ((NimStringDesc*) &TMP155878), LOC12, 1);
LA10: ;
F.line = 553;F.filename = "docgen.nim";
S_155822 = Getfieldvalue_146111(N_155819, ((NimStringDesc*) &TMP155879));
F.line = 554;F.filename = "docgen.nim";
if (!!(((S_155822) && (S_155822)->Sup.len == 0))) goto LA14;
F.line = 554;F.filename = "docgen.nim";
memset((void*)&LOC16, 0, sizeof(LOC16));
LOC16[0] = Fieldaux_155812(S_155822);
Dispa_154627(&Options_155821, ((NimStringDesc*) &TMP155880), ((NimStringDesc*) &TMP154434), LOC16, 1);
LA14: ;
F.line = 555;F.filename = "docgen.nim";
S_155822 = Getfieldvalue_146111(N_155819, ((NimStringDesc*) &TMP155881));
F.line = 556;F.filename = "docgen.nim";
if (!!(((S_155822) && (S_155822)->Sup.len == 0))) goto LA18;
F.line = 556;F.filename = "docgen.nim";
memset((void*)&LOC20, 0, sizeof(LOC20));
LOC20[0] = Fieldaux_155812(S_155822);
Dispa_154627(&Options_155821, ((NimStringDesc*) &TMP155882), ((NimStringDesc*) &TMP154434), LOC20, 1);
LA18: ;
F.line = 557;F.filename = "docgen.nim";
if (!!((Options_155821 == NIM_NIL))) goto LA22;
F.line = 557;F.filename = "docgen.nim";
memset((void*)&LOC24, 0, sizeof(LOC24));
LOC24[0] = Options_155821;
Options_155821 = Dispf_154611(((NimStringDesc*) &TMP154753), ((NimStringDesc*) &TMP155883), LOC24, 1);
LA22: ;
F.line = 558;F.filename = "docgen.nim";
memset((void*)&LOC25, 0, sizeof(LOC25));
LOC26 = 0;
LOC26 = Getargument_146115(N_155819);
LOC25[0] = Torope_51046(LOC26);
LOC25[1] = Options_155821;
Result_155820 = Dispf_154611(((NimStringDesc*) &TMP155884), ((NimStringDesc*) &TMP155885), LOC25, 2);
F.line = 560;F.filename = "docgen.nim";
LOC28 = Rsonslen_146091(N_155819);
if (!(3 <= LOC28)) goto LA29;
F.line = 560;F.filename = "docgen.nim";
if ((NU)(2) >= (NU)((*N_155819).Sons->Sup.len)) raiseIndexError();
LOC31 = 0;
LOC31 = Renderrsttoout_154644(D_155818, (*N_155819).Sons->data[2]);
App_51031(&Result_155820, LOC31);
LA29: ;
framePtr = framePtr->prev;
return Result_155820;
}
N_NIMCALL(TY51008*, Rendercodeblock_155886)(TY154017* D_155888, TY146077* N_155889) {
TY51008* Result_155890;
TY146077* M_155902;
NimStringDesc* Langstr_155912;
NimStringDesc* LOC7;
NU8 Lang_155913;
TY151007 G_155923;
NimStringDesc* LOC15;
TY58695 LOC16;
NimStringDesc* LOC17;
NimStringDesc* LOC18;
TY51451 LOC22;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "renderCodeBlock";
F.prev = framePtr;
F.filename = "rod/docgen.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_155890 = 0;
F.line = 563;F.filename = "docgen.nim";
Result_155890 = NIM_NIL;
F.line = 564;F.filename = "docgen.nim";
if ((NU)(2) >= (NU)((*N_155889).Sons->Sup.len)) raiseIndexError();
if (!((*N_155889).Sons->data[2] == NIM_NIL)) goto LA2;
F.line = 564;F.filename = "docgen.nim";
goto BeforeRet;
LA2: ;
M_155902 = 0;
F.line = 565;F.filename = "docgen.nim";
if ((NU)(2) >= (NU)((*N_155889).Sons->Sup.len)) raiseIndexError();
if ((NU)(0) >= (NU)((*(*N_155889).Sons->data[2]).Sons->Sup.len)) raiseIndexError();
M_155902 = (*(*N_155889).Sons->data[2]).Sons->data[0];
F.line = 566;F.filename = "docgen.nim";
if (!!(((*M_155902).Kind == ((NU8) 62)))) goto LA5;
F.line = 566;F.filename = "docgen.nim";
Internalerror_46571(((NimStringDesc*) &TMP155949));
LA5: ;
Langstr_155912 = 0;
F.line = 567;F.filename = "docgen.nim";
LOC7 = 0;
LOC7 = Getargument_146115(N_155889);
Langstr_155912 = nsuStrip(LOC7, NIM_TRUE, NIM_TRUE);
Lang_155913 = 0;
F.line = 569;F.filename = "docgen.nim";
if (!((Langstr_155912) && (Langstr_155912)->Sup.len == 0)) goto LA9;
F.line = 570;F.filename = "docgen.nim";
Lang_155913 = ((NU8) 1);
goto LA8;
LA9: ;
F.line = 572;F.filename = "docgen.nim";
Lang_155913 = Getsourcelanguage_151102(Langstr_155912);
LA8: ;
F.line = 573;F.filename = "docgen.nim";
if (!(Lang_155913 == ((NU8) 0))) goto LA12;
F.line = 574;F.filename = "docgen.nim";
Rawmessage_46553(((NU8) 218), Langstr_155912);
F.line = 575;F.filename = "docgen.nim";
Result_155890 = Torope_51046((*M_155902).Text);
goto LA11;
LA12: ;
memset((void*)&G_155923, 0, sizeof(G_155923));
G_155923.Sup.m_type = NTI151007;
F.line = 578;F.filename = "docgen.nim";
Initgeneraltokenizer_151105(&G_155923, (*M_155902).Text);
F.line = 579;F.filename = "docgen.nim";
while (1) {
F.line = 580;F.filename = "docgen.nim";
Getnexttoken_151114(&G_155923, Lang_155913);
F.line = 581;F.filename = "docgen.nim";
switch (G_155923.Kind) {
case ((NU8) 0):
F.line = 582;F.filename = "docgen.nim";
goto LA14;
break;
case ((NU8) 1):
case ((NU8) 2):
F.line = 584;F.filename = "docgen.nim";
LOC15 = 0;
LOC15 = copyStrLast((*M_155902).Text, addInt(G_155923.Start, 0), addInt(subInt(addInt(G_155923.Length, G_155923.Start), 1), 0));
App_51036(&Result_155890, LOC15);
break;
default:
F.line = 586;F.filename = "docgen.nim";
memset((void*)&LOC16, 0, sizeof(LOC16));
LOC17 = 0;
LOC17 = copyStrLast((*M_155902).Text, addInt(G_155923.Start, 0), addInt(subInt(addInt(G_155923.Length, G_155923.Start), 1), 0));
LOC18 = 0;
LOC18 = Esc_154536(LOC17, -1);
LOC16[0] = Torope_51046(LOC18);
LOC16[1] = Torope_51046(Tokenclasstostr_151059[(G_155923.Kind)-0]);
Dispa_154627(&Result_155890, ((NimStringDesc*) &TMP155954), ((NimStringDesc*) &TMP155955), LOC16, 2);
break;
}
} LA14: ;
F.line = 589;F.filename = "docgen.nim";
Deinitgeneraltokenizer_151110(&G_155923);
LA11: ;
F.line = 590;F.filename = "docgen.nim";
if (!!((Result_155890 == NIM_NIL))) goto LA20;
F.line = 591;F.filename = "docgen.nim";
memset((void*)&LOC22, 0, sizeof(LOC22));
LOC22[0] = Result_155890;
Result_155890 = Dispf_154611(((NimStringDesc*) &TMP155956), ((NimStringDesc*) &TMP155957), LOC22, 1);
LA20: ;
BeforeRet: ;
framePtr = framePtr->prev;
return Result_155890;
}
N_NIMCALL(TY51008*, Rendercontainer_155958)(TY154017* D_155960, TY146077* N_155961) {
TY51008* Result_155962;
TY51008* Arg_155963;
NimStringDesc* LOC1;
NimStringDesc* LOC2;
TY51451 LOC6;
TY58695 LOC7;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "renderContainer";
F.prev = framePtr;
F.filename = "rod/docgen.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_155962 = 0;
F.line = 595;F.filename = "docgen.nim";
if ((NU)(2) >= (NU)((*N_155961).Sons->Sup.len)) raiseIndexError();
Result_155962 = Renderrsttoout_154644(D_155960, (*N_155961).Sons->data[2]);
Arg_155963 = 0;
F.line = 596;F.filename = "docgen.nim";
LOC1 = 0;
LOC1 = Getargument_146115(N_155961);
LOC2 = 0;
LOC2 = nsuStrip(LOC1, NIM_TRUE, NIM_TRUE);
Arg_155963 = Torope_51046(LOC2);
F.line = 597;F.filename = "docgen.nim";
if (!(Arg_155963 == NIM_NIL)) goto LA4;
F.line = 597;F.filename = "docgen.nim";
memset((void*)&LOC6, 0, sizeof(LOC6));
LOC6[0] = Result_155962;
Result_155962 = Dispf_154611(((NimStringDesc*) &TMP155983), ((NimStringDesc*) &TMP154753), LOC6, 1);
goto LA3;
LA4: ;
F.line = 598;F.filename = "docgen.nim";
memset((void*)&LOC7, 0, sizeof(LOC7));
LOC7[0] = Arg_155963;
LOC7[1] = Result_155962;
Result_155962 = Dispf_154611(((NimStringDesc*) &TMP155984), ((NimStringDesc*) &TMP155985), LOC7, 2);
LA3: ;
framePtr = framePtr->prev;
return Result_155962;
}
N_NIMCALL(NimStringDesc*, Texcolumns_155986)(TY146077* N_155988) {
NimStringDesc* Result_155989;
NI I_155997;
NI HEX3Atmp_155999;
NI Res_156001;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "texColumns";
F.prev = framePtr;
F.filename = "rod/docgen.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_155989 = 0;
F.line = 601;F.filename = "docgen.nim";
Result_155989 = copyString(((NimStringDesc*) &TMP154434));
I_155997 = 0;
HEX3Atmp_155999 = 0;
F.line = 602;F.filename = "docgen.nim";
HEX3Atmp_155999 = Rsonslen_146091(N_155988);
Res_156001 = 0;
F.line = 1021;F.filename = "system.nim";
Res_156001 = 1;
F.line = 1022;F.filename = "system.nim";
while (1) {
if (!(Res_156001 <= HEX3Atmp_155999)) goto LA1;
F.line = 1021;F.filename = "system.nim";
I_155997 = Res_156001;
F.line = 602;F.filename = "docgen.nim";
Result_155989 = resizeString(Result_155989, 2);
appendString(Result_155989, ((NimStringDesc*) &TMP156004));
F.line = 1024;F.filename = "system.nim";
Res_156001 = addInt(Res_156001, 1);
} LA1: ;
framePtr = framePtr->prev;
return Result_155989;
}
N_NIMCALL(TY51008*, Renderfield_156005)(TY154017* D_156007, TY146077* N_156008) {
TY51008* Result_156009;
NIM_BOOL B_156010;
NimStringDesc* Fieldname_156020;
TY51008* Fieldval_156021;
NimStringDesc* LOC4;
NimStringDesc* LOC5;
NimStringDesc* LOC6;
NI LOC8;
NI LOC14;
NimStringDesc* LOC23;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "renderField";
F.prev = framePtr;
F.filename = "rod/docgen.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_156009 = 0;
B_156010 = 0;
F.line = 605;F.filename = "docgen.nim";
B_156010 = NIM_FALSE;
F.line = 606;F.filename = "docgen.nim";
if (!(Gcmd_45082 == ((NU8) 15))) goto LA2;
Fieldname_156020 = 0;
F.line = 607;F.filename = "docgen.nim";
if ((NU)(0) >= (NU)((*N_156008).Sons->Sup.len)) raiseIndexError();
Fieldname_156020 = Addnodes_146108((*N_156008).Sons->data[0]);
Fieldval_156021 = 0;
F.line = 608;F.filename = "docgen.nim";
if ((NU)(1) >= (NU)((*N_156008).Sons->Sup.len)) raiseIndexError();
LOC4 = 0;
LOC4 = Addnodes_146108((*N_156008).Sons->data[1]);
LOC5 = 0;
LOC5 = nsuStrip(LOC4, NIM_TRUE, NIM_TRUE);
LOC6 = 0;
LOC6 = Esc_154536(LOC5, -1);
Fieldval_156021 = Torope_51046(LOC6);
F.line = 609;F.filename = "docgen.nim";
LOC8 = nsuCmpIgnoreStyle(Fieldname_156020, ((NimStringDesc*) &TMP156048));
if (!(LOC8 == 0)) goto LA9;
F.line = 610;F.filename = "docgen.nim";
if (!((*D_156007).Meta[(((NU8) 3))-0] == NIM_NIL)) goto LA12;
F.line = 611;F.filename = "docgen.nim";
asgnRefNoCycle((void**) &(*D_156007).Meta[(((NU8) 3))-0], Fieldval_156021);
F.line = 612;F.filename = "docgen.nim";
B_156010 = NIM_TRUE;
LA12: ;
goto LA7;
LA9: ;
LOC14 = nsuCmpIgnoreStyle(Fieldname_156020, ((NimStringDesc*) &TMP156049));
if (!(LOC14 == 0)) goto LA15;
F.line = 614;F.filename = "docgen.nim";
if (!((*D_156007).Meta[(((NU8) 4))-0] == NIM_NIL)) goto LA18;
F.line = 615;F.filename = "docgen.nim";
asgnRefNoCycle((void**) &(*D_156007).Meta[(((NU8) 4))-0], Fieldval_156021);
F.line = 616;F.filename = "docgen.nim";
B_156010 = NIM_TRUE;
LA18: ;
goto LA7;
LA15: ;
LA7: ;
LA2: ;
F.line = 617;F.filename = "docgen.nim";
if (!B_156010) goto LA21;
F.line = 617;F.filename = "docgen.nim";
Result_156009 = NIM_NIL;
goto LA20;
LA21: ;
F.line = 618;F.filename = "docgen.nim";
LOC23 = 0;
LOC23 = Disp_154597(((NimStringDesc*) &TMP156050), ((NimStringDesc*) &TMP154753));
Result_156009 = Renderaux_154648(D_156007, N_156008, LOC23);
LA20: ;
framePtr = framePtr->prev;
return Result_156009;
}
N_NIMCALL(TY51008*, Renderrsttoout_154644)(TY154017* D_154646, TY146077* N_154647) {
TY51008* Result_156055;
NimStringDesc* LOC4;
NimStringDesc* LOC5;
NimStringDesc* LOC6;
NimStringDesc* LOC7;
NimStringDesc* LOC8;
NimStringDesc* LOC9;
NimStringDesc* LOC10;
NimStringDesc* LOC11;
NI I_156106;
NI HEX3Atmp_156232;
NI LOC12;
NI Res_156234;
TY51008* LOC14;
TY51451 LOC18;
NimStringDesc* LOC19;
NimStringDesc* LOC20;
NimStringDesc* LOC21;
NimStringDesc* LOC22;
NimStringDesc* LOC23;
NimStringDesc* LOC24;
NimStringDesc* LOC25;
NimStringDesc* LOC26;
NimStringDesc* LOC27;
NimStringDesc* LOC28;
NimStringDesc* LOC29;
NimStringDesc* LOC30;
NimStringDesc* LOC31;
NI LOC33;
NI I_156180;
NI HEX3Atmp_156238;
NI LOC36;
NI Res_156240;
TY51451 LOC38;
TY51451 LOC39;
NimStringDesc* LOC40;
NimStringDesc* LOC41;
TY58695 LOC42;
NimStringDesc* LOC43;
NimStringDesc* LOC44;
TY58695 LOC45;
TY146077* LOC49;
NimStringDesc* LOC50;
TY146077* LOC54;
NimStringDesc* LOC55;
NimStringDesc* LOC56;
TY58695 LOC57;
NimStringDesc* LOC58;
NimStringDesc* LOC59;
NimStringDesc* LOC60;
NimStringDesc* LOC61;
NimStringDesc* LOC62;
NimStringDesc* LOC66;
NimStringDesc* LOC67;
NimStringDesc* LOC68;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "renderRstToOut";
F.prev = framePtr;
F.filename = "rod/docgen.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_156055 = 0;
F.line = 621;F.filename = "docgen.nim";
if (!(N_154647 == NIM_NIL)) goto LA2;
F.line = 622;F.filename = "docgen.nim";
F.line = 622;F.filename = "docgen.nim";
Result_156055 = NIM_NIL;
goto BeforeRet;
LA2: ;
F.line = 623;F.filename = "docgen.nim";
switch ((*N_154647).Kind) {
case ((NU8) 0):
F.line = 624;F.filename = "docgen.nim";
Result_156055 = Renderaux_154648(D_154646, N_154647, ((NimStringDesc*) &TMP154753));
break;
case ((NU8) 1):
F.line = 625;F.filename = "docgen.nim";
Result_156055 = Renderheadline_155252(D_154646, N_154647);
break;
case ((NU8) 2):
F.line = 626;F.filename = "docgen.nim";
Result_156055 = Renderoverline_155325(D_154646, N_154647);
break;
case ((NU8) 3):
F.line = 627;F.filename = "docgen.nim";
LOC4 = 0;
LOC4 = Disp_154597(((NimStringDesc*) &TMP156243), ((NimStringDesc*) &TMP156244));
Result_156055 = Renderaux_154648(D_154646, N_154647, LOC4);
break;
case ((NU8) 4):
F.line = 628;F.filename = "docgen.nim";
LOC5 = 0;
LOC5 = Disp_154597(((NimStringDesc*) &TMP156245), ((NimStringDesc*) &TMP156246));
Result_156055 = Renderaux_154648(D_154646, N_154647, LOC5);
break;
case ((NU8) 5):
F.line = 630;F.filename = "docgen.nim";
LOC6 = 0;
LOC6 = Disp_154597(((NimStringDesc*) &TMP156247), ((NimStringDesc*) &TMP156248));
Result_156055 = Renderaux_154648(D_154646, N_154647, LOC6);
break;
case ((NU8) 6):
case ((NU8) 8):
F.line = 633;F.filename = "docgen.nim";
LOC7 = 0;
LOC7 = Disp_154597(((NimStringDesc*) &TMP156249), ((NimStringDesc*) &TMP156250));
Result_156055 = Renderaux_154648(D_154646, N_154647, LOC7);
break;
case ((NU8) 7):
F.line = 635;F.filename = "docgen.nim";
LOC8 = 0;
LOC8 = Disp_154597(((NimStringDesc*) &TMP156251), ((NimStringDesc*) &TMP156252));
Result_156055 = Renderaux_154648(D_154646, N_154647, LOC8);
break;
case ((NU8) 9):
F.line = 638;F.filename = "docgen.nim";
LOC9 = 0;
LOC9 = Disp_154597(((NimStringDesc*) &TMP156253), ((NimStringDesc*) &TMP156254));
Result_156055 = Renderaux_154648(D_154646, N_154647, LOC9);
break;
case ((NU8) 10):
F.line = 640;F.filename = "docgen.nim";
Result_156055 = Renderaux_154648(D_154646, N_154647, ((NimStringDesc*) &TMP154753));
break;
case ((NU8) 11):
F.line = 641;F.filename = "docgen.nim";
LOC10 = 0;
LOC10 = Disp_154597(((NimStringDesc*) &TMP156255), ((NimStringDesc*) &TMP156256));
Result_156055 = Renderaux_154648(D_154646, N_154647, LOC10);
break;
case ((NU8) 12):
F.line = 642;F.filename = "docgen.nim";
LOC11 = 0;
LOC11 = Disp_154597(((NimStringDesc*) &TMP156257), ((NimStringDesc*) &TMP156258));
Result_156055 = Renderaux_154648(D_154646, N_154647, LOC11);
break;
case ((NU8) 13):
F.line = 644;F.filename = "docgen.nim";
Result_156055 = NIM_NIL;
I_156106 = 0;
HEX3Atmp_156232 = 0;
F.line = 645;F.filename = "docgen.nim";
LOC12 = Rsonslen_146091(N_154647);
HEX3Atmp_156232 = subInt(LOC12, 1);
Res_156234 = 0;
F.line = 1021;F.filename = "system.nim";
Res_156234 = 0;
F.line = 1022;F.filename = "system.nim";
while (1) {
if (!(Res_156234 <= HEX3Atmp_156232)) goto LA13;
F.line = 1021;F.filename = "system.nim";
I_156106 = Res_156234;
F.line = 646;F.filename = "docgen.nim";
if ((NU)(I_156106) >= (NU)((*N_154647).Sons->Sup.len)) raiseIndexError();
LOC14 = 0;
LOC14 = Renderrsttoout_154644(D_154646, (*N_154647).Sons->data[I_156106]);
App_51031(&Result_156055, LOC14);
F.line = 1024;F.filename = "system.nim";
Res_156234 = addInt(Res_156234, 1);
} LA13: ;
F.line = 647;F.filename = "docgen.nim";
if (!!((Result_156055 == NIM_NIL))) goto LA16;
F.line = 648;F.filename = "docgen.nim";
memset((void*)&LOC18, 0, sizeof(LOC18));
LOC18[0] = Result_156055;
Result_156055 = Dispf_154611(((NimStringDesc*) &TMP156259), ((NimStringDesc*) &TMP156254), LOC18, 1);
LA16: ;
break;
case ((NU8) 14):
F.line = 656;F.filename = "docgen.nim";
Result_156055 = Renderfield_156005(D_154646, N_154647);
break;
case ((NU8) 15):
F.line = 658;F.filename = "docgen.nim";
LOC19 = 0;
LOC19 = Disp_154597(((NimStringDesc*) &TMP156260), ((NimStringDesc*) &TMP156261));
Result_156055 = Renderaux_154648(D_154646, N_154647, LOC19);
break;
case ((NU8) 16):
F.line = 661;F.filename = "docgen.nim";
LOC20 = 0;
LOC20 = Disp_154597(((NimStringDesc*) &TMP156262), ((NimStringDesc*) &TMP156263));
Result_156055 = Renderaux_154648(D_154646, N_154647, LOC20);
break;
case ((NU8) 51):
F.line = 663;F.filename = "docgen.nim";
if ((NU)(2) >= (NU)((*N_154647).Sons->Sup.len)) raiseIndexError();
Result_156055 = Renderrsttoout_154644(D_154646, (*N_154647).Sons->data[2]);
break;
case ((NU8) 17):
F.line = 665;F.filename = "docgen.nim";
LOC21 = 0;
LOC21 = Disp_154597(((NimStringDesc*) &TMP156264), ((NimStringDesc*) &TMP156265));
Result_156055 = Renderaux_154648(D_154646, N_154647, LOC21);
break;
case ((NU8) 18):
F.line = 668;F.filename = "docgen.nim";
LOC22 = 0;
LOC22 = Disp_154597(((NimStringDesc*) &TMP156050), ((NimStringDesc*) &TMP154753));
Result_156055 = Renderaux_154648(D_154646, N_154647, LOC22);
break;
case ((NU8) 19):
F.line = 670;F.filename = "docgen.nim";
LOC23 = 0;
LOC23 = Disp_154597(((NimStringDesc*) &TMP156266), ((NimStringDesc*) &TMP156267));
Result_156055 = Renderaux_154648(D_154646, N_154647, LOC23);
break;
case ((NU8) 23):
F.line = 672;F.filename = "docgen.nim";
LOC24 = 0;
LOC24 = Disp_154597(((NimStringDesc*) &TMP156268), ((NimStringDesc*) &TMP156263));
Result_156055 = Renderaux_154648(D_154646, N_154647, LOC24);
break;
case ((NU8) 20):
case ((NU8) 21):
case ((NU8) 22):
F.line = 674;F.filename = "docgen.nim";
Internalerror_46571(((NimStringDesc*) &TMP156269));
break;
case ((NU8) 24):
F.line = 676;F.filename = "docgen.nim";
LOC25 = 0;
LOC25 = Disp_154597(((NimStringDesc*) &TMP156270), ((NimStringDesc*) &TMP155957));
Result_156055 = Renderaux_154648(D_154646, N_154647, LOC25);
break;
case ((NU8) 25):
F.line = 679;F.filename = "docgen.nim";
Internalerror_46571(((NimStringDesc*) &TMP156269));
break;
case ((NU8) 26):
F.line = 681;F.filename = "docgen.nim";
LOC26 = 0;
LOC26 = Disp_154597(((NimStringDesc*) &TMP156271), ((NimStringDesc*) &TMP156246));
Result_156055 = Renderaux_154648(D_154646, N_154647, LOC26);
break;
case ((NU8) 27):
F.line = 683;F.filename = "docgen.nim";
LOC27 = 0;
LOC27 = Disp_154597(((NimStringDesc*) &TMP156272), ((NimStringDesc*) &TMP156273));
Result_156055 = Renderaux_154648(D_154646, N_154647, LOC27);
break;
case ((NU8) 28):
F.line = 685;F.filename = "docgen.nim";
LOC28 = 0;
LOC28 = Disp_154597(((NimStringDesc*) &TMP156274), ((NimStringDesc*) &TMP156275));
Result_156055 = Renderaux_154648(D_154646, N_154647, LOC28);
break;
case ((NU8) 29):
case ((NU8) 30):
F.line = 688;F.filename = "docgen.nim";
LOC29 = 0;
LOC30 = 0;
LOC30 = Texcolumns_155986(N_154647);
LOC29 = rawNewString(LOC30->Sup.len + 65);
appendString(LOC29, ((NimStringDesc*) &TMP156277));
appendString(LOC29, LOC30);
appendString(LOC29, ((NimStringDesc*) &TMP156278));
LOC31 = 0;
LOC31 = Disp_154597(((NimStringDesc*) &TMP156276), LOC29);
Result_156055 = Renderaux_154648(D_154646, N_154647, LOC31);
break;
case ((NU8) 31):
F.line = 693;F.filename = "docgen.nim";
LOC33 = Rsonslen_146091(N_154647);
if (!(1 <= LOC33)) goto LA34;
F.line = 694;F.filename = "docgen.nim";
if ((NU)(0) >= (NU)((*N_154647).Sons->Sup.len)) raiseIndexError();
Result_156055 = Renderrsttoout_154644(D_154646, (*N_154647).Sons->data[0]);
I_156180 = 0;
HEX3Atmp_156238 = 0;
F.line = 695;F.filename = "docgen.nim";
LOC36 = Rsonslen_146091(N_154647);
HEX3Atmp_156238 = subInt(LOC36, 1);
Res_156240 = 0;
F.line = 1021;F.filename = "system.nim";
Res_156240 = 1;
F.line = 1022;F.filename = "system.nim";
while (1) {
if (!(Res_156240 <= HEX3Atmp_156238)) goto LA37;
F.line = 1021;F.filename = "system.nim";
I_156180 = Res_156240;
F.line = 696;F.filename = "docgen.nim";
memset((void*)&LOC38, 0, sizeof(LOC38));
if ((NU)(I_156180) >= (NU)((*N_154647).Sons->Sup.len)) raiseIndexError();
LOC38[0] = Renderrsttoout_154644(D_154646, (*N_154647).Sons->data[I_156180]);
Dispa_154627(&Result_156055, ((NimStringDesc*) &TMP154753), ((NimStringDesc*) &TMP156279), LOC38, 1);
F.line = 1024;F.filename = "system.nim";
Res_156240 = addInt(Res_156240, 1);
} LA37: ;
F.line = 697;F.filename = "docgen.nim";
memset((void*)&LOC39, 0, sizeof(LOC39));
LOC39[0] = Result_156055;
Result_156055 = Dispf_154611(((NimStringDesc*) &TMP156050), ((NimStringDesc*) &TMP156280), LOC39, 1);
goto LA32;
LA34: ;
F.line = 699;F.filename = "docgen.nim";
Result_156055 = NIM_NIL;
LA32: ;
break;
case ((NU8) 33):
F.line = 700;F.filename = "docgen.nim";
LOC40 = 0;
LOC40 = Disp_154597(((NimStringDesc*) &TMP156262), ((NimStringDesc*) &TMP154753));
Result_156055 = Renderaux_154648(D_154646, N_154647, LOC40);
break;
case ((NU8) 32):
F.line = 702;F.filename = "docgen.nim";
LOC41 = 0;
LOC41 = Disp_154597(((NimStringDesc*) &TMP156281), ((NimStringDesc*) &TMP156282));
Result_156055 = Renderaux_154648(D_154646, N_154647, LOC41);
break;
case ((NU8) 34):
F.line = 704;F.filename = "docgen.nim";
Internalerror_46571(((NimStringDesc*) &TMP156269));
break;
case ((NU8) 35):
F.line = 706;F.filename = "docgen.nim";
Internalerror_46571(((NimStringDesc*) &TMP156269));
break;
case ((NU8) 36):
F.line = 708;F.filename = "docgen.nim";
Internalerror_46571(((NimStringDesc*) &TMP156269));
break;
case ((NU8) 39):
F.line = 710;F.filename = "docgen.nim";
memset((void*)&LOC42, 0, sizeof(LOC42));
LOC42[0] = Renderaux_154648(D_154646, N_154647, ((NimStringDesc*) &TMP154753));
LOC43 = 0;
LOC43 = Rstnodetorefname_146105(N_154647);
LOC42[1] = Torope_51046(LOC43);
Result_156055 = Dispf_154611(((NimStringDesc*) &TMP156283), ((NimStringDesc*) &TMP156284), LOC42, 2);
break;
case ((NU8) 37):
F.line = 713;F.filename = "docgen.nim";
LOC44 = 0;
LOC44 = Disp_154597(((NimStringDesc*) &TMP156285), ((NimStringDesc*) &TMP156286));
Result_156055 = Renderaux_154648(D_154646, N_154647, LOC44);
break;
case ((NU8) 38):
F.line = 717;F.filename = "docgen.nim";
memset((void*)&LOC45, 0, sizeof(LOC45));
if ((NU)(0) >= (NU)((*N_154647).Sons->Sup.len)) raiseIndexError();
LOC45[0] = Renderrsttoout_154644(D_154646, (*N_154647).Sons->data[0]);
if ((NU)(1) >= (NU)((*N_154647).Sons->Sup.len)) raiseIndexError();
LOC45[1] = Renderrsttoout_154644(D_154646, (*N_154647).Sons->data[1]);
Result_156055 = Dispf_154611(((NimStringDesc*) &TMP156287), ((NimStringDesc*) &TMP156288), LOC45, 2);
break;
case ((NU8) 41):
case ((NU8) 42):
F.line = 720;F.filename = "docgen.nim";
Result_156055 = Renderaux_154648(D_154646, N_154647, ((NimStringDesc*) &TMP154753));
break;
case ((NU8) 48):
F.line = 722;F.filename = "docgen.nim";
if (!!((Gcmd_45082 == ((NU8) 15)))) goto LA47;
F.line = 723;F.filename = "docgen.nim";
LOC49 = 0;
LOC49 = Lastson_146676(N_154647);
LOC50 = 0;
LOC50 = Addnodes_146108(LOC49);
Result_156055 = Torope_51046(LOC50);
LA47: ;
break;
case ((NU8) 49):
F.line = 725;F.filename = "docgen.nim";
if (!(Gcmd_45082 == ((NU8) 15))) goto LA52;
F.line = 726;F.filename = "docgen.nim";
LOC54 = 0;
LOC54 = Lastson_146676(N_154647);
LOC55 = 0;
LOC55 = Addnodes_146108(LOC54);
Result_156055 = Torope_51046(LOC55);
LA52: ;
break;
case ((NU8) 45):
case ((NU8) 46):
F.line = 728;F.filename = "docgen.nim";
Result_156055 = Renderimage_155816(D_154646, N_154647);
break;
case ((NU8) 47):
F.line = 729;F.filename = "docgen.nim";
Result_156055 = Rendercodeblock_155886(D_154646, N_154647);
break;
case ((NU8) 50):
F.line = 730;F.filename = "docgen.nim";
Result_156055 = Rendercontainer_155958(D_154646, N_154647);
break;
case ((NU8) 61):
case ((NU8) 52):
F.line = 732;F.filename = "docgen.nim";
LOC56 = 0;
LOC56 = Disp_154597(((NimStringDesc*) &TMP156289), ((NimStringDesc*) &TMP156289));
Result_156055 = Renderaux_154648(D_154646, N_154647, LOC56);
break;
case ((NU8) 40):
F.line = 734;F.filename = "docgen.nim";
Result_156055 = Renderaux_154648(D_154646, N_154647, ((NimStringDesc*) &TMP154434));
break;
case ((NU8) 53):
F.line = 736;F.filename = "docgen.nim";
memset((void*)&LOC57, 0, sizeof(LOC57));
if ((NU)(0) >= (NU)((*N_154647).Sons->Sup.len)) raiseIndexError();
LOC57[0] = Renderrsttoout_154644(D_154646, (*N_154647).Sons->data[0]);
if ((NU)(1) >= (NU)((*N_154647).Sons->Sup.len)) raiseIndexError();
LOC57[1] = Renderrsttoout_154644(D_154646, (*N_154647).Sons->data[1]);
Result_156055 = Dispf_154611(((NimStringDesc*) &TMP155954), ((NimStringDesc*) &TMP155955), LOC57, 2);
break;
case ((NU8) 54):
F.line = 738;F.filename = "docgen.nim";
LOC58 = 0;
LOC58 = Disp_154597(((NimStringDesc*) &TMP156290), ((NimStringDesc*) &TMP156291));
Result_156055 = Renderaux_154648(D_154646, N_154647, LOC58);
break;
case ((NU8) 55):
F.line = 739;F.filename = "docgen.nim";
LOC59 = 0;
LOC59 = Disp_154597(((NimStringDesc*) &TMP156292), ((NimStringDesc*) &TMP156293));
Result_156055 = Renderaux_154648(D_154646, N_154647, LOC59);
break;
case ((NU8) 57):
F.line = 740;F.filename = "docgen.nim";
LOC60 = 0;
LOC60 = Disp_154597(((NimStringDesc*) &TMP156294), ((NimStringDesc*) &TMP156295));
Result_156055 = Renderaux_154648(D_154646, N_154647, LOC60);
break;
case ((NU8) 58):
F.line = 742;F.filename = "docgen.nim";
LOC61 = 0;
LOC61 = Disp_154597(((NimStringDesc*) &TMP156296), ((NimStringDesc*) &TMP156282));
Result_156055 = Renderaux_154648(D_154646, N_154647, LOC61);
break;
case ((NU8) 59):
F.line = 744;F.filename = "docgen.nim";
LOC62 = 0;
LOC62 = Disp_154597(((NimStringDesc*) &TMP156297), ((NimStringDesc*) &TMP156295));
Result_156055 = Renderaux_154648(D_154646, N_154647, LOC62);
break;
case ((NU8) 56):
F.line = 746;F.filename = "docgen.nim";
if (!((*D_154646).Theindex == NIM_NIL)) goto LA64;
F.line = 747;F.filename = "docgen.nim";
LOC66 = 0;
LOC66 = Disp_154597(((NimStringDesc*) &TMP156294), ((NimStringDesc*) &TMP156295));
Result_156055 = Renderaux_154648(D_154646, N_154647, LOC66);
goto LA63;
LA64: ;
F.line = 749;F.filename = "docgen.nim";
Result_156055 = Renderindexterm_154710(D_154646, N_154647);
LA63: ;
break;
case ((NU8) 60):
F.line = 751;F.filename = "docgen.nim";
LOC67 = 0;
LOC67 = Disp_154597(((NimStringDesc*) &TMP156298), ((NimStringDesc*) &TMP156299));
Result_156055 = Renderaux_154648(D_154646, N_154647, LOC67);
break;
case ((NU8) 62):
F.line = 754;F.filename = "docgen.nim";
LOC68 = 0;
LOC68 = Esc_154536((*N_154647).Text, -1);
Result_156055 = Torope_51046(LOC68);
break;
case ((NU8) 44):
F.line = 755;F.filename = "docgen.nim";
(*D_154646).Hastoc = NIM_TRUE;
break;
case ((NU8) 43):
F.line = 756;F.filename = "docgen.nim";
if ((NU)(0) >= (NU)((*N_154647).Sons->Sup.len)) raiseIndexError();
asgnRefNoCycle((void**) &(*D_154646).Meta[(((NU8) 1))-0], Renderrsttoout_154644(D_154646, (*N_154647).Sons->data[0]));
break;
default:
F.line = 757;F.filename = "docgen.nim";
Internalerror_46571(((NimStringDesc*) &TMP156269));
break;
}
BeforeRet: ;
framePtr = framePtr->prev;
return Result_156055;
}
N_NIMCALL(void, Generatedoc_156300)(TY154017* D_156302, TY54525* N_156303) {
TY51008* LOC4;
NI I_156395;
NI HEX3Atmp_156616;
NI LOC5;
NI Res_156618;
NI I_156460;
NI HEX3Atmp_156622;
NI LOC10;
NI Res_156624;
NI I_156525;
NI HEX3Atmp_156628;
NI LOC15;
NI Res_156630;
NI I_156590;
NI HEX3Atmp_156634;
NI LOC20;
NI Res_156636;
TY54525* LOC22;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "generateDoc";
F.prev = framePtr;
F.filename = "rod/docgen.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
F.line = 760;F.filename = "docgen.nim";
if (!(N_156303 == NIM_NIL)) goto LA2;
F.line = 760;F.filename = "docgen.nim";
goto BeforeRet;
LA2: ;
F.line = 761;F.filename = "docgen.nim";
switch ((*N_156303).Kind) {
case ((NU8) 105):
F.line = 762;F.filename = "docgen.nim";
LOC4 = 0;
LOC4 = Gencomment_154754(D_156302, N_156303);
App_51031(&(*D_156302).Moddesc, LOC4);
break;
case ((NU8) 69):
F.line = 763;F.filename = "docgen.nim";
if (((TMP154838[(*N_156303).Kind/8] &(1<<((*N_156303).Kind%8)))!=0)) raiseFieldError(((NimStringDesc*) &TMP154839));
if ((NU)(0) >= (NU)((*N_156303).KindU.S6.Sons->Sup.len)) raiseIndexError();
Genitem_155120(D_156302, N_156303, (*N_156303).KindU.S6.Sons->data[0], ((NU8) 9));
break;
case ((NU8) 70):
F.line = 764;F.filename = "docgen.nim";
if (((TMP154838[(*N_156303).Kind/8] &(1<<((*N_156303).Kind%8)))!=0)) raiseFieldError(((NimStringDesc*) &TMP154839));
if ((NU)(0) >= (NU)((*N_156303).KindU.S6.Sons->Sup.len)) raiseIndexError();
Genitem_155120(D_156302, N_156303, (*N_156303).KindU.S6.Sons->data[0], ((NU8) 10));
break;
case ((NU8) 74):
F.line = 765;F.filename = "docgen.nim";
if (((TMP154838[(*N_156303).Kind/8] &(1<<((*N_156303).Kind%8)))!=0)) raiseFieldError(((NimStringDesc*) &TMP154839));
if ((NU)(0) >= (NU)((*N_156303).KindU.S6.Sons->Sup.len)) raiseIndexError();
Genitem_155120(D_156302, N_156303, (*N_156303).KindU.S6.Sons->data[0], ((NU8) 11));
break;
case ((NU8) 72):
F.line = 766;F.filename = "docgen.nim";
if (((TMP154838[(*N_156303).Kind/8] &(1<<((*N_156303).Kind%8)))!=0)) raiseFieldError(((NimStringDesc*) &TMP154839));
if ((NU)(0) >= (NU)((*N_156303).KindU.S6.Sons->Sup.len)) raiseIndexError();
Genitem_155120(D_156302, N_156303, (*N_156303).KindU.S6.Sons->data[0], ((NU8) 13));
break;
case ((NU8) 73):
F.line = 767;F.filename = "docgen.nim";
if (((TMP154838[(*N_156303).Kind/8] &(1<<((*N_156303).Kind%8)))!=0)) raiseFieldError(((NimStringDesc*) &TMP154839));
if ((NU)(0) >= (NU)((*N_156303).KindU.S6.Sons->Sup.len)) raiseIndexError();
Genitem_155120(D_156302, N_156303, (*N_156303).KindU.S6.Sons->data[0], ((NU8) 14));
break;
case ((NU8) 71):
F.line = 768;F.filename = "docgen.nim";
if (((TMP154838[(*N_156303).Kind/8] &(1<<((*N_156303).Kind%8)))!=0)) raiseFieldError(((NimStringDesc*) &TMP154839));
if ((NU)(0) >= (NU)((*N_156303).KindU.S6.Sons->Sup.len)) raiseIndexError();
Genitem_155120(D_156302, N_156303, (*N_156303).KindU.S6.Sons->data[0], ((NU8) 12));
break;
case ((NU8) 87):
I_156395 = 0;
HEX3Atmp_156616 = 0;
F.line = 770;F.filename = "docgen.nim";
LOC5 = Sonslen_54803(N_156303);
HEX3Atmp_156616 = subInt(LOC5, 1);
Res_156618 = 0;
F.line = 1021;F.filename = "system.nim";
Res_156618 = 0;
F.line = 1022;F.filename = "system.nim";
while (1) {
if (!(Res_156618 <= HEX3Atmp_156616)) goto LA6;
F.line = 1021;F.filename = "system.nim";
I_156395 = Res_156618;
F.line = 771;F.filename = "docgen.nim";
if (((TMP154838[(*N_156303).Kind/8] &(1<<((*N_156303).Kind%8)))!=0)) raiseFieldError(((NimStringDesc*) &TMP154839));
if ((NU)(I_156395) >= (NU)((*N_156303).KindU.S6.Sons->Sup.len)) raiseIndexError();
if (!!(((*(*N_156303).KindU.S6.Sons->data[I_156395]).Kind == ((NU8) 105)))) goto LA8;
F.line = 772;F.filename = "docgen.nim";
if (((TMP154838[(*N_156303).Kind/8] &(1<<((*N_156303).Kind%8)))!=0)) raiseFieldError(((NimStringDesc*) &TMP154839));
if ((NU)(I_156395) >= (NU)((*N_156303).KindU.S6.Sons->Sup.len)) raiseIndexError();
if (((TMP154838[(*N_156303).Kind/8] &(1<<((*N_156303).Kind%8)))!=0)) raiseFieldError(((NimStringDesc*) &TMP154839));
if ((NU)(I_156395) >= (NU)((*N_156303).KindU.S6.Sons->Sup.len)) raiseIndexError();
if (((TMP154838[(*(*N_156303).KindU.S6.Sons->data[I_156395]).Kind/8] &(1<<((*(*N_156303).KindU.S6.Sons->data[I_156395]).Kind%8)))!=0)) raiseFieldError(((NimStringDesc*) &TMP154839));
if ((NU)(0) >= (NU)((*(*N_156303).KindU.S6.Sons->data[I_156395]).KindU.S6.Sons->Sup.len)) raiseIndexError();
Genitem_155120(D_156302, (*N_156303).KindU.S6.Sons->data[I_156395], (*(*N_156303).KindU.S6.Sons->data[I_156395]).KindU.S6.Sons->data[0], ((NU8) 8));
LA8: ;
F.line = 1024;F.filename = "system.nim";
Res_156618 = addInt(Res_156618, 1);
} LA6: ;
break;
case ((NU8) 88):
I_156460 = 0;
HEX3Atmp_156622 = 0;
F.line = 774;F.filename = "docgen.nim";
LOC10 = Sonslen_54803(N_156303);
HEX3Atmp_156622 = subInt(LOC10, 1);
Res_156624 = 0;
F.line = 1021;F.filename = "system.nim";
Res_156624 = 0;
F.line = 1022;F.filename = "system.nim";
while (1) {
if (!(Res_156624 <= HEX3Atmp_156622)) goto LA11;
F.line = 1021;F.filename = "system.nim";
I_156460 = Res_156624;
F.line = 775;F.filename = "docgen.nim";
if (((TMP154838[(*N_156303).Kind/8] &(1<<((*N_156303).Kind%8)))!=0)) raiseFieldError(((NimStringDesc*) &TMP154839));
if ((NU)(I_156460) >= (NU)((*N_156303).KindU.S6.Sons->Sup.len)) raiseIndexError();
if (!!(((*(*N_156303).KindU.S6.Sons->data[I_156460]).Kind == ((NU8) 105)))) goto LA13;
F.line = 776;F.filename = "docgen.nim";
if (((TMP154838[(*N_156303).Kind/8] &(1<<((*N_156303).Kind%8)))!=0)) raiseFieldError(((NimStringDesc*) &TMP154839));
if ((NU)(I_156460) >= (NU)((*N_156303).KindU.S6.Sons->Sup.len)) raiseIndexError();
if (((TMP154838[(*N_156303).Kind/8] &(1<<((*N_156303).Kind%8)))!=0)) raiseFieldError(((NimStringDesc*) &TMP154839));
if ((NU)(I_156460) >= (NU)((*N_156303).KindU.S6.Sons->Sup.len)) raiseIndexError();
if (((TMP154838[(*(*N_156303).KindU.S6.Sons->data[I_156460]).Kind/8] &(1<<((*(*N_156303).KindU.S6.Sons->data[I_156460]).Kind%8)))!=0)) raiseFieldError(((NimStringDesc*) &TMP154839));
if ((NU)(0) >= (NU)((*(*N_156303).KindU.S6.Sons->data[I_156460]).KindU.S6.Sons->Sup.len)) raiseIndexError();
Genitem_155120(D_156302, (*N_156303).KindU.S6.Sons->data[I_156460], (*(*N_156303).KindU.S6.Sons->data[I_156460]).KindU.S6.Sons->data[0], ((NU8) 7));
LA13: ;
F.line = 1024;F.filename = "system.nim";
Res_156624 = addInt(Res_156624, 1);
} LA11: ;
break;
case ((NU8) 90):
I_156525 = 0;
HEX3Atmp_156628 = 0;
F.line = 778;F.filename = "docgen.nim";
LOC15 = Sonslen_54803(N_156303);
HEX3Atmp_156628 = subInt(LOC15, 1);
Res_156630 = 0;
F.line = 1021;F.filename = "system.nim";
Res_156630 = 0;
F.line = 1022;F.filename = "system.nim";
while (1) {
if (!(Res_156630 <= HEX3Atmp_156628)) goto LA16;
F.line = 1021;F.filename = "system.nim";
I_156525 = Res_156630;
F.line = 779;F.filename = "docgen.nim";
if (((TMP154838[(*N_156303).Kind/8] &(1<<((*N_156303).Kind%8)))!=0)) raiseFieldError(((NimStringDesc*) &TMP154839));
if ((NU)(I_156525) >= (NU)((*N_156303).KindU.S6.Sons->Sup.len)) raiseIndexError();
if (!!(((*(*N_156303).KindU.S6.Sons->data[I_156525]).Kind == ((NU8) 105)))) goto LA18;
F.line = 780;F.filename = "docgen.nim";
if (((TMP154838[(*N_156303).Kind/8] &(1<<((*N_156303).Kind%8)))!=0)) raiseFieldError(((NimStringDesc*) &TMP154839));
if ((NU)(I_156525) >= (NU)((*N_156303).KindU.S6.Sons->Sup.len)) raiseIndexError();
if (((TMP154838[(*N_156303).Kind/8] &(1<<((*N_156303).Kind%8)))!=0)) raiseFieldError(((NimStringDesc*) &TMP154839));
if ((NU)(I_156525) >= (NU)((*N_156303).KindU.S6.Sons->Sup.len)) raiseIndexError();
if (((TMP154838[(*(*N_156303).KindU.S6.Sons->data[I_156525]).Kind/8] &(1<<((*(*N_156303).KindU.S6.Sons->data[I_156525]).Kind%8)))!=0)) raiseFieldError(((NimStringDesc*) &TMP154839));
if ((NU)(0) >= (NU)((*(*N_156303).KindU.S6.Sons->data[I_156525]).KindU.S6.Sons->Sup.len)) raiseIndexError();
Genitem_155120(D_156302, (*N_156303).KindU.S6.Sons->data[I_156525], (*(*N_156303).KindU.S6.Sons->data[I_156525]).KindU.S6.Sons->data[0], ((NU8) 6));
LA18: ;
F.line = 1024;F.filename = "system.nim";
Res_156630 = addInt(Res_156630, 1);
} LA16: ;
break;
case ((NU8) 101):
I_156590 = 0;
HEX3Atmp_156634 = 0;
F.line = 782;F.filename = "docgen.nim";
LOC20 = Sonslen_54803(N_156303);
HEX3Atmp_156634 = subInt(LOC20, 1);
Res_156636 = 0;
F.line = 1021;F.filename = "system.nim";
Res_156636 = 0;
F.line = 1022;F.filename = "system.nim";
while (1) {
if (!(Res_156636 <= HEX3Atmp_156634)) goto LA21;
F.line = 1021;F.filename = "system.nim";
I_156590 = Res_156636;
F.line = 782;F.filename = "docgen.nim";
if (((TMP154838[(*N_156303).Kind/8] &(1<<((*N_156303).Kind%8)))!=0)) raiseFieldError(((NimStringDesc*) &TMP154839));
if ((NU)(I_156590) >= (NU)((*N_156303).KindU.S6.Sons->Sup.len)) raiseIndexError();
Generatedoc_156300(D_156302, (*N_156303).KindU.S6.Sons->data[I_156590]);
F.line = 1024;F.filename = "system.nim";
Res_156636 = addInt(Res_156636, 1);
} LA21: ;
break;
case ((NU8) 83):
F.line = 785;F.filename = "docgen.nim";
if (((TMP154838[(*N_156303).Kind/8] &(1<<((*N_156303).Kind%8)))!=0)) raiseFieldError(((NimStringDesc*) &TMP154839));
if ((NU)(0) >= (NU)((*N_156303).KindU.S6.Sons->Sup.len)) raiseIndexError();
LOC22 = 0;
LOC22 = Lastson_54809((*N_156303).KindU.S6.Sons->data[0]);
Generatedoc_156300(D_156302, LOC22);
break;
default:
break;
}
BeforeRet: ;
framePtr = framePtr->prev;
}
N_NIMCALL(void, Gensection_156639)(TY154017* D_156641, NU8 Kind_156642) {
TY51008* Title_156666;
NimStringDesc* LOC4;
NimStringDesc* LOC5;
NimStringDesc* LOC6;
TY59870 LOC7;
NimStringDesc* LOC8;
TY59870 LOC9;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "genSection";
F.prev = framePtr;
F.filename = "rod/docgen.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
F.line = 789;F.filename = "docgen.nim";
if (!((*D_156641).Section[(Kind_156642)-0] == NIM_NIL)) goto LA2;
F.line = 789;F.filename = "docgen.nim";
goto BeforeRet;
LA2: ;
Title_156666 = 0;
F.line = 790;F.filename = "docgen.nim";
LOC4 = 0;
LOC5 = 0;
LOC5 = copyStr(reprEnum(Kind_156642, NTI54174), 2);
LOC4 = rawNewString(LOC5->Sup.len + 1);
appendString(LOC4, LOC5);
appendChar(LOC4, 115);
Title_156666 = Torope_51046(LOC4);
F.line = 791;F.filename = "docgen.nim";
LOC6 = 0;
LOC6 = Getconfigvar_45132(((NimStringDesc*) &TMP156703));
memset((void*)&LOC7, 0, sizeof(LOC7));
LOC7[0] = Torope_51052(((NI64) (Kind_156642)));
LOC7[1] = Title_156666;
LOC7[2] = Torope_51052(((NI64) (addInt(Kind_156642, 50))));
LOC7[3] = (*D_156641).Section[(Kind_156642)-0];
asgnRefNoCycle((void**) &(*D_156641).Section[(Kind_156642)-0], Ropeformatnamedvars_154226(LOC6, TMP156704, 4, LOC7, 4));
F.line = 794;F.filename = "docgen.nim";
LOC8 = 0;
LOC8 = Getconfigvar_45132(((NimStringDesc*) &TMP156709));
memset((void*)&LOC9, 0, sizeof(LOC9));
LOC9[0] = Torope_51052(((NI64) (Kind_156642)));
LOC9[1] = Title_156666;
LOC9[2] = Torope_51052(((NI64) (addInt(Kind_156642, 50))));
LOC9[3] = (*D_156641).Toc[(Kind_156642)-0];
asgnRefNoCycle((void**) &(*D_156641).Toc[(Kind_156642)-0], Ropeformatnamedvars_154226(LOC8, TMP156704, 4, LOC9, 4));
BeforeRet: ;
framePtr = framePtr->prev;
}
N_NIMCALL(TY51008*, Genoutfile_156710)(TY154017* D_156712) {
TY51008* Result_156713;
TY51008* Code_156714;
TY51008* Toc_156715;
TY51008* Title_156716;
TY51008* Content_156717;
NimStringDesc* Bodyname_156718;
NI J_156719;
NU8 I_156750;
NU8 Res_156828;
NimStringDesc* LOC5;
TY51451 LOC6;
NU8 I_156778;
NU8 Res_156833;
NimStringDesc* LOC11;
NimStringDesc* LOC12;
NimStringDesc* LOC13;
NimStringDesc* LOC17;
TY156805 LOC18;
NimStringDesc* LOC19;
NimStringDesc* LOC20;
NimStringDesc* LOC24;
TY156824 LOC25;
NimStringDesc* LOC26;
NimStringDesc* LOC27;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "genOutFile";
F.prev = framePtr;
F.filename = "rod/docgen.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_156713 = 0;
Code_156714 = 0;
Toc_156715 = 0;
Title_156716 = 0;
Content_156717 = 0;
Bodyname_156718 = 0;
J_156719 = 0;
F.line = 803;F.filename = "docgen.nim";
J_156719 = 0;
F.line = 804;F.filename = "docgen.nim";
Toc_156715 = Rendertocentries_155775(D_156712, &J_156719, 1);
F.line = 805;F.filename = "docgen.nim";
Code_156714 = NIM_NIL;
F.line = 806;F.filename = "docgen.nim";
Content_156717 = NIM_NIL;
F.line = 807;F.filename = "docgen.nim";
Title_156716 = NIM_NIL;
I_156750 = 0;
Res_156828 = 0;
F.line = 1021;F.filename = "system.nim";
Res_156828 = ((NU8) 0);
F.line = 1022;F.filename = "system.nim";
while (1) {
if (!(Res_156828 <= ((NU8) 20))) goto LA1;
F.line = 1021;F.filename = "system.nim";
I_156750 = Res_156828;
F.line = 809;F.filename = "docgen.nim";
Gensection_156639(D_156712, I_156750);
F.line = 810;F.filename = "docgen.nim";
App_51031(&Toc_156715, (*D_156712).Toc[(I_156750)-0]);
F.line = 1024;F.filename = "system.nim";
Res_156828 = addInt(Res_156828, 1);
} LA1: ;
F.line = 811;F.filename = "docgen.nim";
if (!!((Toc_156715 == NIM_NIL))) goto LA3;
F.line = 812;F.filename = "docgen.nim";
LOC5 = 0;
LOC5 = Getconfigvar_45132(((NimStringDesc*) &TMP156836));
memset((void*)&LOC6, 0, sizeof(LOC6));
LOC6[0] = Toc_156715;
Toc_156715 = Ropeformatnamedvars_154226(LOC5, TMP156837, 1, LOC6, 1);
LA3: ;
I_156778 = 0;
Res_156833 = 0;
F.line = 1021;F.filename = "system.nim";
Res_156833 = ((NU8) 0);
F.line = 1022;F.filename = "system.nim";
while (1) {
if (!(Res_156833 <= ((NU8) 20))) goto LA7;
F.line = 1021;F.filename = "system.nim";
I_156778 = Res_156833;
F.line = 813;F.filename = "docgen.nim";
App_51031(&Code_156714, (*D_156712).Section[(I_156778)-0]);
F.line = 1024;F.filename = "system.nim";
Res_156833 = addInt(Res_156833, 1);
} LA7: ;
F.line = 814;F.filename = "docgen.nim";
if (!!(((*D_156712).Meta[(((NU8) 1))-0] == NIM_NIL))) goto LA9;
F.line = 814;F.filename = "docgen.nim";
Title_156716 = (*D_156712).Meta[(((NU8) 1))-0];
goto LA8;
LA9: ;
F.line = 815;F.filename = "docgen.nim";
LOC11 = 0;
LOC12 = 0;
LOC12 = nosChangeFileExt((*D_156712).Filename, ((NimStringDesc*) &TMP154434));
LOC13 = 0;
LOC13 = nosextractFilename(LOC12);
LOC11 = rawNewString(LOC13->Sup.len + 7);
appendString(LOC11, ((NimStringDesc*) &TMP156838));
appendString(LOC11, LOC13);
Title_156716 = Torope_51046(LOC11);
LA8: ;
F.line = 817;F.filename = "docgen.nim";
if (!(*D_156712).Hastoc) goto LA15;
F.line = 817;F.filename = "docgen.nim";
Bodyname_156718 = copyString(((NimStringDesc*) &TMP156839));
goto LA14;
LA15: ;
F.line = 818;F.filename = "docgen.nim";
Bodyname_156718 = copyString(((NimStringDesc*) &TMP156840));
LA14: ;
F.line = 819;F.filename = "docgen.nim";
LOC17 = 0;
LOC17 = Getconfigvar_45132(Bodyname_156718);
memset((void*)&LOC18, 0, sizeof(LOC18));
LOC18[0] = Title_156716;
LOC18[1] = Toc_156715;
LOC18[2] = (*D_156712).Moddesc;
LOC19 = 0;
LOC19 = ntgetDateStr();
LOC18[3] = Torope_51046(LOC19);
LOC20 = 0;
LOC20 = ntgetClockStr();
LOC18[4] = Torope_51046(LOC20);
LOC18[5] = Code_156714;
Content_156717 = Ropeformatnamedvars_154226(LOC17, TMP156841, 6, LOC18, 6);
F.line = 822;F.filename = "docgen.nim";
if (!!(((Gglobaloptions_45077 &(1<<((((NU8) 6))&31)))!=0))) goto LA22;
F.line = 823;F.filename = "docgen.nim";
LOC24 = 0;
LOC24 = Getconfigvar_45132(((NimStringDesc*) &TMP156847));
memset((void*)&LOC25, 0, sizeof(LOC25));
LOC25[0] = Title_156716;
LOC25[1] = Toc_156715;
LOC25[2] = (*D_156712).Moddesc;
LOC26 = 0;
LOC26 = ntgetDateStr();
LOC25[3] = Torope_51046(LOC26);
LOC27 = 0;
LOC27 = ntgetClockStr();
LOC25[4] = Torope_51046(LOC27);
LOC25[5] = Content_156717;
LOC25[6] = (*D_156712).Meta[(((NU8) 3))-0];
LOC25[7] = (*D_156712).Meta[(((NU8) 4))-0];
Code_156714 = Ropeformatnamedvars_154226(LOC24, TMP156848, 8, LOC25, 8);
goto LA21;
LA22: ;
F.line = 829;F.filename = "docgen.nim";
Code_156714 = Content_156717;
LA21: ;
F.line = 830;F.filename = "docgen.nim";
Result_156713 = Code_156714;
framePtr = framePtr->prev;
return Result_156713;
}
N_NIMCALL(void, Generateindex_156849)(TY154017* D_156851) {
TY51008* LOC4;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "generateIndex";
F.prev = framePtr;
F.filename = "rod/docgen.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
F.line = 833;F.filename = "docgen.nim";
if (!!(((*D_156851).Theindex == NIM_NIL))) goto LA2;
F.line = 834;F.filename = "docgen.nim";
Sortindex_146123((*D_156851).Theindex);
F.line = 835;F.filename = "docgen.nim";
LOC4 = 0;
LOC4 = Renderrsttorst_155383(D_156851, (*D_156851).Indexfile);
Writerope_51058(LOC4, Gindexfile_45081);
LA2: ;
framePtr = framePtr->prev;
}
N_NIMCALL(void, Commanddoc_154001)(NimStringDesc* Filename_154003) {
TY54525* Ast_156866;
NimStringDesc* LOC1;
TY154017* D_156878;
TY51008* LOC5;
NimStringDesc* LOC6;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "CommandDoc";
F.prev = framePtr;
F.filename = "rod/docgen.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Ast_156866 = 0;
F.line = 838;F.filename = "docgen.nim";
LOC1 = 0;
LOC1 = nosaddFileExt(Filename_154003, ((NimStringDesc*) &TMP156879));
Ast_156866 = Parsefile_90031(LOC1);
F.line = 839;F.filename = "docgen.nim";
if (!(Ast_156866 == NIM_NIL)) goto LA3;
F.line = 839;F.filename = "docgen.nim";
goto BeforeRet;
LA3: ;
D_156878 = 0;
F.line = 840;F.filename = "docgen.nim";
D_156878 = Newdocumentor_154165(Filename_154003);
F.line = 841;F.filename = "docgen.nim";
Initindexfile_154132(D_156878);
F.line = 842;F.filename = "docgen.nim";
(*D_156878).Hastoc = NIM_TRUE;
F.line = 843;F.filename = "docgen.nim";
Generatedoc_156300(D_156878, Ast_156866);
F.line = 844;F.filename = "docgen.nim";
LOC5 = 0;
LOC5 = Genoutfile_156710(D_156878);
LOC6 = 0;
LOC6 = Getoutfile_45142(Filename_154003, ((NimStringDesc*) &TMP154163));
Writerope_51058(LOC5, LOC6);
F.line = 845;F.filename = "docgen.nim";
Generateindex_156849(D_156878);
BeforeRet: ;
framePtr = framePtr->prev;
}
N_NIMCALL(void, Commandrstaux_156880)(NimStringDesc* Filename_156882, NimStringDesc* Outext_156883) {
NimStringDesc* Filen_156884;
TY154017* D_156885;
TY146077* Rst_156887;
NimStringDesc* LOC1;
TY51008* Code_156888;
NimStringDesc* LOC2;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "CommandRstAux";
F.prev = framePtr;
F.filename = "rod/docgen.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Filen_156884 = 0;
F.line = 848;F.filename = "docgen.nim";
Filen_156884 = nosaddFileExt(Filename_156882, ((NimStringDesc*) &TMP154162));
D_156885 = 0;
F.line = 849;F.filename = "docgen.nim";
D_156885 = Newdocumentor_154165(Filen_156884);
F.line = 850;F.filename = "docgen.nim";
Initindexfile_154132(D_156885);
Rst_156887 = 0;
F.line = 851;F.filename = "docgen.nim";
LOC1 = 0;
LOC1 = Readfile_3647(Filen_156884);
Rst_156887 = Rstparse_146082(LOC1, NIM_FALSE, Filen_156884, 0, 1, &(*D_156885).Hastoc);
F.line = 852;F.filename = "docgen.nim";
asgnRefNoCycle((void**) &(*D_156885).Moddesc, Renderrsttoout_154644(D_156885, Rst_156887));
Code_156888 = 0;
F.line = 853;F.filename = "docgen.nim";
Code_156888 = Genoutfile_156710(D_156885);
F.line = 854;F.filename = "docgen.nim";
LOC2 = 0;
LOC2 = Getoutfile_45142(Filename_156882, Outext_156883);
Writerope_51058(Code_156888, LOC2);
F.line = 855;F.filename = "docgen.nim";
Generateindex_156849(D_156885);
framePtr = framePtr->prev;
}
N_NIMCALL(void, Commandrst2html_154004)(NimStringDesc* Filename_154006) {
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "CommandRst2Html";
F.prev = framePtr;
F.filename = "rod/docgen.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
F.line = 858;F.filename = "docgen.nim";
Commandrstaux_156880(Filename_154006, ((NimStringDesc*) &TMP154163));
framePtr = framePtr->prev;
}
N_NIMCALL(void, Commandrst2tex_154007)(NimStringDesc* Filename_154009) {
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "CommandRst2TeX";
F.prev = framePtr;
F.filename = "rod/docgen.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
F.line = 861;F.filename = "docgen.nim";
asgnRefNoCycle((void**) &Splitter_154046, copyString(((NimStringDesc*) &TMP156895)));
F.line = 862;F.filename = "docgen.nim";
Commandrstaux_156880(Filename_154009, ((NimStringDesc*) &TMP156896));
framePtr = framePtr->prev;
}
N_NOINLINE(void, docgenInit)(void) {
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "docgen";
F.prev = framePtr;
F.filename = "rod/docgen.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
F.line = 48;F.filename = "docgen.nim";
asgnRefNoCycle((void**) &Splitter_154046, copyString(((NimStringDesc*) &TMP154047)));
framePtr = framePtr->prev;
}

