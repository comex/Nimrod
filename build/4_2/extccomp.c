/* Generated by Nimrod Compiler v0.8.9 */
/*   (c) 2010 Andreas Rumpf */

typedef long long int NI;
typedef unsigned long long int NU;
#include "nimbase.h"

typedef struct TY67008 TY67008;
typedef struct NimStringDesc NimStringDesc;
typedef struct TGenericSeq TGenericSeq;
typedef struct TY10402 TY10402;
typedef struct TNimType TNimType;
typedef struct TY10418 TY10418;
typedef struct TY10790 TY10790;
typedef struct TY10414 TY10414;
typedef struct TY10410 TY10410;
typedef struct TY10788 TY10788;
typedef struct TY41019 TY41019;
typedef struct TNimNode TNimNode;
typedef struct TY41013 TY41013;
typedef struct TY36715 TY36715;
typedef struct TY49036 TY49036;
typedef struct TY50008 TY50008;
typedef struct TY41015 TY41015;
typedef struct TNimObject TNimObject;
typedef struct TY37422 TY37422;
struct TGenericSeq {
NI len;
NI space;
};
typedef NIM_CHAR TY239[100000001];
struct NimStringDesc {
  TGenericSeq Sup;
TY239 data;
};
struct TY67008 {
NimStringDesc* Name;
NimStringDesc* Objext;
NimStringDesc* Optspeed;
NimStringDesc* Optsize;
NimStringDesc* Compilerexe;
NimStringDesc* Compiletmpl;
NimStringDesc* Buildgui;
NimStringDesc* Builddll;
NimStringDesc* Linkerexe;
NimStringDesc* Linktmpl;
NimStringDesc* Includecmd;
NimStringDesc* Debug;
NimStringDesc* Pic;
NimStringDesc* Asmstmtfrmt;
NU8 Props;
};
typedef TY67008 TY67042[12];
struct TY10402 {
NI Refcount;
TNimType* Typ;
};
struct TY10418 {
NI Len;
NI Cap;
TY10402** D;
};
struct TY10414 {
NI Counter;
NI Max;
TY10410* Head;
TY10410** Data;
};
struct TY10788 {
NI Stackscans;
NI Cyclecollections;
NI Maxthreshold;
NI Maxstacksize;
NI Maxstackcells;
NI Cycletablesize;
};
struct TY10790 {
TY10418 Zct;
TY10418 Decstack;
TY10414 Cycleroots;
TY10418 Tempstack;
TY10788 Stat;
};
struct TNimType {
NI size;
NU8 kind;
NU8 flags;
TNimType* base;
TNimNode* node;
void* finalizer;
};
struct TY41019 {
TNimType* m_type;
TY41013* Head;
TY41013* Tail;
NI Counter;
};
struct TNimNode {
NU8 kind;
NI offset;
TNimType* typ;
NCSTRING name;
NI len;
TNimNode** sons;
};
struct TY36715 {
NimStringDesc* Dir;
NimStringDesc* Name;
NimStringDesc* Ext;
};
struct TY49036 {
NimStringDesc* Name;
NimStringDesc* Pardir;
NimStringDesc* Dllfrmt;
NimStringDesc* Altdirsep;
NimStringDesc* Objext;
NimStringDesc* Newline;
NimStringDesc* Pathsep;
NimStringDesc* Dirsep;
NimStringDesc* Scriptext;
NimStringDesc* Curdir;
NimStringDesc* Exeext;
NimStringDesc* Extsep;
NU8 Props;
};
typedef TY49036 TY49054[21];
typedef NimStringDesc* TY67880[12];
typedef TY50008* TY50446[1];
struct TNimObject {
TNimType* m_type;
};
struct TY41013 {
  TNimObject Sup;
TY41013* Prev;
TY41013* Next;
};
struct TY41015 {
  TY41013 Sup;
NimStringDesc* Data;
};
typedef NimStringDesc* TY44349[1];
typedef NimStringDesc* TY45865[1];
typedef NimStringDesc* TY68187[14];
typedef NI TY8414[8];
struct TY10410 {
TY10410* Next;
NI Key;
TY8414 Bits;
};
struct TY50008 {
  TNimObject Sup;
TY50008* Left;
TY50008* Right;
NI Length;
NimStringDesc* Data;
};
struct TY37422 {
  TGenericSeq Sup;
  NimStringDesc* data[SEQ_DECL_SIZE];
};
static N_INLINE(void, asgnRefNoCycle)(void** Dest_11616, void* Src_11617);
static N_INLINE(TY10402*, Usrtocell_10822)(void* Usr_10824);
static N_INLINE(void, Rtladdzct_11456)(TY10402* C_11458);
N_NOINLINE(void, Addzct_10811)(TY10418* S_10814, TY10402* C_10815);
N_NIMCALL(NimStringDesc*, copyString)(NimStringDesc* Src_17108);
N_NIMCALL(NIM_BOOL, Externalfilechanged_67604)(NimStringDesc* Filename_67606);
N_NIMCALL(NimStringDesc*, Togeneratedfile_44103)(NimStringDesc* Path_44105, NimStringDesc* Ext_44106);
N_NIMCALL(int, Crcfromfile_48029)(NimStringDesc* Filename_48031);
N_NIMCALL(NIM_BOOL, Open_3617)(FILE** F_3620, NimStringDesc* Filename_3621, NU8 Mode_3622, NI Bufsize_3623);
N_NIMCALL(NimStringDesc*, Readline_3679)(FILE* F_3681);
N_NIMCALL(NI, nsuParseInt)(NimStringDesc* S_23504);
N_NIMCALL(NimStringDesc*, nimIntToStr)(NI X_17803);
N_NIMCALL(void, Appendstr_41061)(TY41019* List_41064, NimStringDesc* Data_41065);
N_NIMCALL(NimStringDesc*, nosChangeFileExt)(NimStringDesc* Filename_37020, NimStringDesc* Ext_37021);
N_NIMCALL(void, Prependstr_41071)(TY41019* List_41074, NimStringDesc* Data_41075);
N_NIMCALL(NimStringDesc*, Completegeneratedfilepath_44099)(NimStringDesc* F_44101, NIM_BOOL Createsubdir_44102);
N_NIMCALL(NI, nsuFindStr)(NimStringDesc* S_24219, NimStringDesc* Sub_24220, NI Start_24221);
N_NIMCALL(void, Addopt_67571)(NimStringDesc** Dest_67574, NimStringDesc* Src_67575);
static N_INLINE(void, appendString)(NimStringDesc* Dest_17192, NimStringDesc* Src_17193);
N_NIMCALL(NimStringDesc*, resizeString)(NimStringDesc* Dest_17182, NI Addlen_17183);
N_NIMCALL(NU8, Nametocc_67376)(NimStringDesc* Name_67378);
N_NIMCALL(NI, nsuCmpIgnoreStyle)(NimStringDesc* A_22638, NimStringDesc* B_22639);
N_NIMCALL(void, Rawmessage_45553)(NU8 Msg_45555, NimStringDesc* Arg_45556);
N_NIMCALL(NimStringDesc*, Getconfigvar_44133)(NimStringDesc* Key_44135);
N_NIMCALL(NimStringDesc*, rawNewString)(NI Space_17087);
N_NIMCALL(void, Undefsymbol_61056)(NimStringDesc* Symbol_61058);
N_NIMCALL(void, Definesymbol_61053)(NimStringDesc* Symbol_61055);
N_NIMCALL(void, Addcompileoption_67361)(NimStringDesc* Option_67363);
N_NIMCALL(void, Addlinkoption_67364)(NimStringDesc* Option_67366);
N_NIMCALL(void, nossplitFile)(NimStringDesc* Path_36714, TY36715* Result);
N_NIMCALL(NIM_BOOL, Existsconfigvar_44130)(NimStringDesc* Key_44132);
N_NIMCALL(NimStringDesc*, Getdebug_67695)(NU8 C_67697);
N_NIMCALL(NimStringDesc*, Getoptspeed_67683)(NU8 C_67685);
N_NIMCALL(NimStringDesc*, Getoptsize_67707)(NU8 C_67709);
N_NIMCALL(NimStringDesc*, nosaddFileExt)(NimStringDesc* Filename_37044, NimStringDesc* Ext_37045);
static N_INLINE(void, appendChar)(NimStringDesc* Dest_17209, NIM_CHAR C_17210);
N_NIMCALL(NimStringDesc*, Quoteifcontainswhite_24283)(NimStringDesc* S_24285);
N_NIMCALL(NimStringDesc*, nosJoinPath)(NimStringDesc* Head_36403, NimStringDesc* Tail_36404);
N_NIMCALL(NimStringDesc*, nosextractFilename)(NimStringDesc* Path_36785);
N_NIMCALL(NimStringDesc*, Toobjfile_67367)(NimStringDesc* Filenamewithoutext_67369);
N_NIMCALL(NimStringDesc*, Completecfilepath_67344)(NimStringDesc* Cfile_67346, NIM_BOOL Createsubdir_67347);
N_NIMCALL(NimStringDesc*, nsuFormatOpenArray)(NimStringDesc* Formatstr_22965, NimStringDesc** A_22967, NI A_22967Len0);
N_NIMCALL(NimStringDesc*, Getprefixdir_44107)(void);
N_NIMCALL(NimStringDesc*, addChar)(NimStringDesc* S_1603, NIM_CHAR C_1604);
N_NIMCALL(void, nsuAddf)(NimStringDesc** S_22741, NimStringDesc* Formatstr_22742, NimStringDesc** A_22744, NI A_22744Len0);
N_NIMCALL(TY50008*, Torope_50046)(NimStringDesc* S_50048);
N_NIMCALL(void, App_50031)(TY50008** A_50034, TY50008* B_50035);
N_NIMCALL(TY50008*, Genmappingfiles_68225)(TY41019* List_68227);
N_NIMCALL(void, Appf_50074)(TY50008** C_50077, NimStringDesc* Frmt_50078, TY50008** Args_50080, NI Args_50080Len0);
N_NIMCALL(void, Writerope_50058)(TY50008* Head_50060, NimStringDesc* Filename_50061);
N_NIMCALL(void*, newSeq)(TNimType* Typ_12603, NI Len_12604);
N_NIMCALL(void, Compilecfile_67887)(TY41019* List_67889, TY50008** Script_67891, TY37422** Cmds_67893, NIM_BOOL Isexternal_67894);
N_NIMCALL(NimStringDesc*, Getcompilecfilecmd_67348)(NimStringDesc* Cfilename_67350, NIM_BOOL Isexternal_67351);
N_NIMCALL(TGenericSeq*, incrSeq)(TGenericSeq* Seq_17235, NI Elemsize_17236);
N_NIMCALL(void, App_50036)(TY50008** A_50039, NimStringDesc* B_50040);
N_NIMCALL(NI, nospcountProcessors)(void);
N_NIMCALL(NI, nospexecCmd)(NimStringDesc* Command_65231);
N_NIMCALL(NI, nospexecProcesses)(NimStringDesc** Cmds_65688, NI Cmds_65688Len0, NU8 Options_65690, NI N_65691);
N_NIMCALL(void, Rawmessage_45557)(NU8 Msg_45559, NimStringDesc** Args_45561, NI Args_45561Len0);
N_NIMCALL(void, Execexternalprogram_67373)(NimStringDesc* Cmd_67375);
N_NIMCALL(void, Messageout_45550)(NimStringDesc* S_45552);
N_NIMCALL(void, Generatescript_67668)(NimStringDesc* Projectfile_67670, TY50008* Script_67671);
N_NIMCALL(NimStringDesc*, HEX2F_36518)(NimStringDesc* Head_36520, NimStringDesc* Tail_36521);
N_NIMCALL(void, Writeln_67626)(FILE* F_67629, NimStringDesc* X_67630);
N_NIMCALL(void, Write_3658)(FILE* F_3660, NimStringDesc* S_3661);
STRING_LITERAL(TMP67262, "gcc", 3);
STRING_LITERAL(TMP67263, "o", 1);
STRING_LITERAL(TMP67264, " -O3 -ffast-math ", 17);
STRING_LITERAL(TMP67265, " -Os -ffast-math ", 17);
STRING_LITERAL(TMP67266, "-c $options $include -o $objfile $file", 38);
STRING_LITERAL(TMP67267, " -mwindows", 10);
STRING_LITERAL(TMP67268, " -shared", 8);
STRING_LITERAL(TMP67269, "$options $buildgui $builddll -o $exefile $objfiles", 50);
STRING_LITERAL(TMP67270, " -I", 3);
STRING_LITERAL(TMP67271, "", 0);
STRING_LITERAL(TMP67272, "-fPIC", 5);
STRING_LITERAL(TMP67273, "asm($1);$n", 10);
STRING_LITERAL(TMP67274, "llvm_gcc", 8);
STRING_LITERAL(TMP67275, "llvm-gcc", 8);
STRING_LITERAL(TMP67276, "lcc", 3);
STRING_LITERAL(TMP67277, "obj", 3);
STRING_LITERAL(TMP67278, " -O -p6 ", 8);
STRING_LITERAL(TMP67279, "$options $include -Fo$objfile $file", 35);
STRING_LITERAL(TMP67280, " -subsystem windows", 19);
STRING_LITERAL(TMP67281, " -dll", 5);
STRING_LITERAL(TMP67282, "lcclnk", 6);
STRING_LITERAL(TMP67283, "$options $buildgui $builddll -O $exefile $objfiles", 50);
STRING_LITERAL(TMP67284, " -g5 ", 5);
STRING_LITERAL(TMP67285, "_asm{$n$1$n}$n", 14);
STRING_LITERAL(TMP67286, "bcc", 3);
STRING_LITERAL(TMP67287, " -O2 -6 ", 8);
STRING_LITERAL(TMP67288, " -O1 -6 ", 8);
STRING_LITERAL(TMP67289, "bcc32", 5);
STRING_LITERAL(TMP67290, "-c $options $include -o$objfile $file", 37);
STRING_LITERAL(TMP67291, " -tW", 4);
STRING_LITERAL(TMP67292, " -tWD", 5);
STRING_LITERAL(TMP67293, "$options $buildgui $builddll -e$exefile $objfiles", 49);
STRING_LITERAL(TMP67294, "__asm{$n$1$n}$n", 15);
STRING_LITERAL(TMP67295, "dmc", 3);
STRING_LITERAL(TMP67296, " -ff -o -6 ", 11);
STRING_LITERAL(TMP67297, " -L/exet:nt/su:windows", 22);
STRING_LITERAL(TMP67298, " -WD", 4);
STRING_LITERAL(TMP67299, "$options $buildgui $builddll -o$exefile $objfiles", 49);
STRING_LITERAL(TMP67300, " -g ", 4);
STRING_LITERAL(TMP67301, "wcc", 3);
STRING_LITERAL(TMP67302, " -ox -on -6 -d0 -fp6 -zW ", 25);
STRING_LITERAL(TMP67303, "wcl386", 6);
STRING_LITERAL(TMP67304, "-c $options $include -fo=$objfile $file", 39);
STRING_LITERAL(TMP67305, " -bw", 4);
STRING_LITERAL(TMP67306, " -bd", 4);
STRING_LITERAL(TMP67307, "$options $buildgui $builddll -fe=$exefile $objfiles ", 52);
STRING_LITERAL(TMP67308, " -i=", 4);
STRING_LITERAL(TMP67309, " -d2 ", 5);
STRING_LITERAL(TMP67310, "vcc", 3);
STRING_LITERAL(TMP67311, " /Ogityb2 /G7 /arch:SSE2 ", 25);
STRING_LITERAL(TMP67312, " /O1 /G7 ", 9);
STRING_LITERAL(TMP67313, "cl", 2);
STRING_LITERAL(TMP67314, "/c $options $include /Fo$objfile $file", 38);
STRING_LITERAL(TMP67315, " /link /SUBSYSTEM:WINDOWS ", 26);
STRING_LITERAL(TMP67316, " /LD", 4);
STRING_LITERAL(TMP67317, "$options $builddll /Fe$exefile $objfiles $buildgui", 50);
STRING_LITERAL(TMP67318, " /I", 3);
STRING_LITERAL(TMP67319, " /GZ /Zi ", 9);
STRING_LITERAL(TMP67320, "tcc", 3);
STRING_LITERAL(TMP67321, "UNAVAILABLE!", 12);
STRING_LITERAL(TMP67322, "-o $exefile $options $buildgui $builddll $objfiles", 50);
STRING_LITERAL(TMP67323, "pcc", 3);
STRING_LITERAL(TMP67324, " -Ox ", 5);
STRING_LITERAL(TMP67325, " -Os ", 5);
STRING_LITERAL(TMP67326, "cc", 2);
STRING_LITERAL(TMP67327, "-c $options $include -Fo$objfile $file", 38);
STRING_LITERAL(TMP67328, " -SUBSYSTEM:WINDOWS", 19);
STRING_LITERAL(TMP67329, " -DLL", 5);
STRING_LITERAL(TMP67330, "$options $buildgui $builddll -OUT:$exefile $objfiles", 52);
STRING_LITERAL(TMP67331, " -Zi ", 5);
STRING_LITERAL(TMP67332, "ucc", 3);
STRING_LITERAL(TMP67333, " -O3 ", 5);
STRING_LITERAL(TMP67334, " -O1 ", 5);
STRING_LITERAL(TMP67335, " -shared ", 9);
STRING_LITERAL(TMP67336, "icc", 3);
STRING_LITERAL(TMP67337, " -mdll", 6);
STRING_LITERAL(TMP67338, "gpp", 3);
STRING_LITERAL(TMP67339, "g++", 3);
NIM_CONST TY67042 Cc_67041 = {{((NimStringDesc*) &TMP67262),
((NimStringDesc*) &TMP67263),
((NimStringDesc*) &TMP67264),
((NimStringDesc*) &TMP67265),
((NimStringDesc*) &TMP67262),
((NimStringDesc*) &TMP67266),
((NimStringDesc*) &TMP67267),
((NimStringDesc*) &TMP67268),
((NimStringDesc*) &TMP67262),
((NimStringDesc*) &TMP67269),
((NimStringDesc*) &TMP67270),
((NimStringDesc*) &TMP67271),
((NimStringDesc*) &TMP67272),
((NimStringDesc*) &TMP67273),
7}
,
{((NimStringDesc*) &TMP67274),
((NimStringDesc*) &TMP67263),
((NimStringDesc*) &TMP67264),
((NimStringDesc*) &TMP67265),
((NimStringDesc*) &TMP67275),
((NimStringDesc*) &TMP67266),
((NimStringDesc*) &TMP67267),
((NimStringDesc*) &TMP67268),
((NimStringDesc*) &TMP67275),
((NimStringDesc*) &TMP67269),
((NimStringDesc*) &TMP67270),
((NimStringDesc*) &TMP67271),
((NimStringDesc*) &TMP67272),
((NimStringDesc*) &TMP67273),
7}
,
{((NimStringDesc*) &TMP67276),
((NimStringDesc*) &TMP67277),
((NimStringDesc*) &TMP67278),
((NimStringDesc*) &TMP67278),
((NimStringDesc*) &TMP67276),
((NimStringDesc*) &TMP67279),
((NimStringDesc*) &TMP67280),
((NimStringDesc*) &TMP67281),
((NimStringDesc*) &TMP67282),
((NimStringDesc*) &TMP67283),
((NimStringDesc*) &TMP67270),
((NimStringDesc*) &TMP67284),
((NimStringDesc*) &TMP67271),
((NimStringDesc*) &TMP67285),
0}
,
{((NimStringDesc*) &TMP67286),
((NimStringDesc*) &TMP67277),
((NimStringDesc*) &TMP67287),
((NimStringDesc*) &TMP67288),
((NimStringDesc*) &TMP67289),
((NimStringDesc*) &TMP67290),
((NimStringDesc*) &TMP67291),
((NimStringDesc*) &TMP67292),
((NimStringDesc*) &TMP67289),
((NimStringDesc*) &TMP67293),
((NimStringDesc*) &TMP67270),
((NimStringDesc*) &TMP67271),
((NimStringDesc*) &TMP67271),
((NimStringDesc*) &TMP67294),
4}
,
{((NimStringDesc*) &TMP67295),
((NimStringDesc*) &TMP67277),
((NimStringDesc*) &TMP67296),
((NimStringDesc*) &TMP67296),
((NimStringDesc*) &TMP67295),
((NimStringDesc*) &TMP67290),
((NimStringDesc*) &TMP67297),
((NimStringDesc*) &TMP67298),
((NimStringDesc*) &TMP67295),
((NimStringDesc*) &TMP67299),
((NimStringDesc*) &TMP67270),
((NimStringDesc*) &TMP67300),
((NimStringDesc*) &TMP67271),
((NimStringDesc*) &TMP67294),
4}
,
{((NimStringDesc*) &TMP67301),
((NimStringDesc*) &TMP67277),
((NimStringDesc*) &TMP67302),
((NimStringDesc*) &TMP67271),
((NimStringDesc*) &TMP67303),
((NimStringDesc*) &TMP67304),
((NimStringDesc*) &TMP67305),
((NimStringDesc*) &TMP67306),
((NimStringDesc*) &TMP67303),
((NimStringDesc*) &TMP67307),
((NimStringDesc*) &TMP67308),
((NimStringDesc*) &TMP67309),
((NimStringDesc*) &TMP67271),
((NimStringDesc*) &TMP67294),
4}
,
{((NimStringDesc*) &TMP67310),
((NimStringDesc*) &TMP67277),
((NimStringDesc*) &TMP67311),
((NimStringDesc*) &TMP67312),
((NimStringDesc*) &TMP67313),
((NimStringDesc*) &TMP67314),
((NimStringDesc*) &TMP67315),
((NimStringDesc*) &TMP67316),
((NimStringDesc*) &TMP67313),
((NimStringDesc*) &TMP67317),
((NimStringDesc*) &TMP67318),
((NimStringDesc*) &TMP67319),
((NimStringDesc*) &TMP67271),
((NimStringDesc*) &TMP67294),
12}
,
{((NimStringDesc*) &TMP67320),
((NimStringDesc*) &TMP67263),
((NimStringDesc*) &TMP67271),
((NimStringDesc*) &TMP67271),
((NimStringDesc*) &TMP67320),
((NimStringDesc*) &TMP67266),
((NimStringDesc*) &TMP67321),
((NimStringDesc*) &TMP67268),
((NimStringDesc*) &TMP67320),
((NimStringDesc*) &TMP67322),
((NimStringDesc*) &TMP67270),
((NimStringDesc*) &TMP67300),
((NimStringDesc*) &TMP67271),
((NimStringDesc*) &TMP67294),
3}
,
{((NimStringDesc*) &TMP67323),
((NimStringDesc*) &TMP67277),
((NimStringDesc*) &TMP67324),
((NimStringDesc*) &TMP67325),
((NimStringDesc*) &TMP67326),
((NimStringDesc*) &TMP67327),
((NimStringDesc*) &TMP67328),
((NimStringDesc*) &TMP67329),
((NimStringDesc*) &TMP67326),
((NimStringDesc*) &TMP67330),
((NimStringDesc*) &TMP67270),
((NimStringDesc*) &TMP67331),
((NimStringDesc*) &TMP67271),
((NimStringDesc*) &TMP67294),
0}
,
{((NimStringDesc*) &TMP67332),
((NimStringDesc*) &TMP67263),
((NimStringDesc*) &TMP67333),
((NimStringDesc*) &TMP67334),
((NimStringDesc*) &TMP67326),
((NimStringDesc*) &TMP67266),
((NimStringDesc*) &TMP67271),
((NimStringDesc*) &TMP67335),
((NimStringDesc*) &TMP67326),
((NimStringDesc*) &TMP67322),
((NimStringDesc*) &TMP67270),
((NimStringDesc*) &TMP67271),
((NimStringDesc*) &TMP67271),
((NimStringDesc*) &TMP67294),
0}
,
{((NimStringDesc*) &TMP67336),
((NimStringDesc*) &TMP67263),
((NimStringDesc*) &TMP67333),
((NimStringDesc*) &TMP67325),
((NimStringDesc*) &TMP67336),
((NimStringDesc*) &TMP67266),
((NimStringDesc*) &TMP67267),
((NimStringDesc*) &TMP67337),
((NimStringDesc*) &TMP67336),
((NimStringDesc*) &TMP67269),
((NimStringDesc*) &TMP67270),
((NimStringDesc*) &TMP67271),
((NimStringDesc*) &TMP67272),
((NimStringDesc*) &TMP67273),
7}
,
{((NimStringDesc*) &TMP67338),
((NimStringDesc*) &TMP67263),
((NimStringDesc*) &TMP67264),
((NimStringDesc*) &TMP67265),
((NimStringDesc*) &TMP67339),
((NimStringDesc*) &TMP67266),
((NimStringDesc*) &TMP67267),
((NimStringDesc*) &TMP67337),
((NimStringDesc*) &TMP67339),
((NimStringDesc*) &TMP67269),
((NimStringDesc*) &TMP67270),
((NimStringDesc*) &TMP67300),
((NimStringDesc*) &TMP67272),
((NimStringDesc*) &TMP67273),
7}
}
;
STRING_LITERAL(TMP67343, "c", 1);
STRING_LITERAL(TMP193655, "crc", 3);
STRING_LITERAL(TMP193656, "0", 1);
STRING_LITERAL(TMP193669, " ", 1);
STRING_LITERAL(TMP193675, ".options.always", 15);
STRING_LITERAL(TMP193676, ".options.linker", 15);
STRING_LITERAL(TMP193677, ".path", 5);
STRING_LITERAL(TMP193725, ".cpp", 4);
STRING_LITERAL(TMP194786, ".debug", 6);
STRING_LITERAL(TMP194787, ".options.debug", 14);
STRING_LITERAL(TMP194788, ".speed", 6);
STRING_LITERAL(TMP194789, ".options.speed", 14);
STRING_LITERAL(TMP194790, ".size", 5);
STRING_LITERAL(TMP194791, ".options.size", 13);
STRING_LITERAL(TMP194792, ".always", 7);
STRING_LITERAL(TMP194793, ".exe", 4);
STRING_LITERAL(TMP194794, "exe", 3);
extern NIM_CONST TY49054 Os_49053;
STRING_LITERAL(TMP194795, "file", 4);
STRING_LITERAL(TMP194796, "objfile", 7);
STRING_LITERAL(TMP194797, "options", 7);
STRING_LITERAL(TMP194798, "include", 7);
STRING_LITERAL(TMP194799, "nimrod", 6);
STRING_LITERAL(TMP194800, "lib", 3);
STRING_LITERAL(TMP194810, "[C_Files]\012", 10);
STRING_LITERAL(TMP194811, "--file:r\"$1\"$n", 14);
STRING_LITERAL(TMP194812, "[Symbols]$n$1", 13);
STRING_LITERAL(TMP194813, "mapping.txt", 11);
STRING_LITERAL(TMP194874, ".linkerexe", 10);
STRING_LITERAL(TMP194875, "builddll", 8);
STRING_LITERAL(TMP194876, "buildgui", 8);
STRING_LITERAL(TMP194877, "objfiles", 8);
STRING_LITERAL(TMP194878, "exefile", 7);
STRING_LITERAL(TMP194879, "compile_", 8);
STRING_LITERAL(TMP195496, "\012", 1);
NU8 Ccompiler_67340;
NimStringDesc* Cext_67342;
extern TY10790 Gch_10808;
TY41019 Tolink_67387;
extern TNimType* NTI41019; /* TLinkedList */
TY41019 Tocompile_67388;
TY41019 Externaltocompile_67389;
NimStringDesc* Linkoptions_67390;
NimStringDesc* Compileoptions_67391;
NimStringDesc* Ccompilerpath_67392;
NI Filecounter_67721;
extern NU32 Gglobaloptions_44077;
extern NU8 Gcmd_44082;
extern NU32 Goptions_44075;
extern NU8 Targetos_49562;
extern NU8 Hostos_49563;
extern NimStringDesc* Libpath_44110;
extern NimStringDesc* Projectpath_44111;
extern TNimType* NTI37422; /* seq[string] */
extern NimStringDesc* Tnl_49573;
extern NI Gnumberofprocessors_44084;
extern NI Gverbosity_44083;
static N_INLINE(TY10402*, Usrtocell_10822)(void* Usr_10824) {
TY10402* Result_10825;
Result_10825 = 0;
Result_10825 = ((TY10402*) ((NI64)((NU64)(((NI) (Usr_10824))) - (NU64)(((NI) (((NI)sizeof(TY10402))))))));
return Result_10825;
}
static N_INLINE(void, Rtladdzct_11456)(TY10402* C_11458) {
Addzct_10811(&Gch_10808.Zct, C_11458);
}
static N_INLINE(void, asgnRefNoCycle)(void** Dest_11616, void* Src_11617) {
TY10402* C_11618;
TY10402* C_11619;
if (!!((Src_11617 == NIM_NIL))) goto LA2;
C_11618 = 0;
C_11618 = Usrtocell_10822(Src_11617);
(*C_11618).Refcount = (NI64)((NU64)((*C_11618).Refcount) + (NU64)(8));
LA2: ;
if (!!(((*Dest_11616) == NIM_NIL))) goto LA5;
C_11619 = 0;
C_11619 = Usrtocell_10822((*Dest_11616));
(*C_11619).Refcount = (NI64)((NU64)((*C_11619).Refcount) - (NU64)(8));
if (!((NU64)((*C_11619).Refcount) < (NU64)(8))) goto LA8;
Rtladdzct_11456(C_11619);
LA8: ;
LA5: ;
(*Dest_11616) = Src_11617;
}
N_NIMCALL(NIM_BOOL, Externalfilechanged_67604)(NimStringDesc* Filename_67606) {
NIM_BOOL Result_67607;
NimStringDesc* Crcfile_67608;
NI Currentcrc_67609;
int LOC1;
FILE* F_67610;
NIM_BOOL LOC3;
NimStringDesc* Line_67612;
NIM_BOOL LOC7;
NI Oldcrc_67617;
NIM_BOOL LOC15;
NimStringDesc* LOC18;
Result_67607 = 0;
Crcfile_67608 = 0;
Crcfile_67608 = Togeneratedfile_44103(Filename_67606, ((NimStringDesc*) &TMP193655));
Currentcrc_67609 = 0;
LOC1 = Crcfromfile_48029(Filename_67606);
Currentcrc_67609 = ((NI) (LOC1));
F_67610 = 0;
LOC3 = Open_3617(&F_67610, Crcfile_67608, ((NU8) 0), -1);
if (!LOC3) goto LA4;
Line_67612 = 0;
Line_67612 = Readline_3679(F_67610);
LOC7 = Line_67612 == 0;
if (LOC7) goto LA8;
LOC7 = (Line_67612->Sup.len == 0);
LA8: ;
if (!LOC7) goto LA9;
Line_67612 = copyString(((NimStringDesc*) &TMP193656));
LA9: ;
fclose(F_67610);
Oldcrc_67617 = 0;
Oldcrc_67617 = nsuParseInt(Line_67612);
Result_67607 = !((Oldcrc_67617 == Currentcrc_67609));
goto LA2;
LA4: ;
Result_67607 = NIM_TRUE;
LA2: ;
if (!Result_67607) goto LA12;
LOC15 = Open_3617(&F_67610, Crcfile_67608, ((NU8) 1), -1);
if (!LOC15) goto LA16;
LOC18 = nimIntToStr(Currentcrc_67609);
Writeln_67626(F_67610, LOC18);
fclose(F_67610);
LA16: ;
LA12: ;
return Result_67607;
}
N_NIMCALL(void, Addexternalfiletocompile_67355)(NimStringDesc* Filename_67357) {
NIM_BOOL LOC2;
NimStringDesc* LOC6;
LOC2 = ((Gglobaloptions_44077 &(1<<((((NU8) 1))&31)))!=0);
if (LOC2) goto LA3;
LOC2 = Externalfilechanged_67604(Filename_67357);
LA3: ;
if (!LOC2) goto LA4;
LOC6 = nosChangeFileExt(Filename_67357, ((NimStringDesc*) &TMP67271));
Appendstr_41061(&Externaltocompile_67389, LOC6);
LA4: ;
}
N_NIMCALL(void, Addfiletolink_67358)(NimStringDesc* Filename_67360) {
Prependstr_41071(&Tolink_67387, Filename_67360);
}
N_NIMCALL(NimStringDesc*, Completecfilepath_67344)(NimStringDesc* Cfile_67346, NIM_BOOL Createsubdir_67347) {
NimStringDesc* Result_67520;
Result_67520 = 0;
Result_67520 = Completegeneratedfilepath_44099(Cfile_67346, Createsubdir_67347);
return Result_67520;
}
static N_INLINE(void, appendString)(NimStringDesc* Dest_17192, NimStringDesc* Src_17193) {
memcpy(((NCSTRING) (&(*Dest_17192).data[((*Dest_17192).Sup.len)-0])), ((NCSTRING) ((*Src_17193).data)), ((int) ((NI64)((NI64)((*Src_17193).Sup.len + 1) * 1))));
(*Dest_17192).Sup.len += (*Src_17193).Sup.len;
}
N_NIMCALL(void, Addopt_67571)(NimStringDesc** Dest_67574, NimStringDesc* Src_67575) {
NIM_BOOL LOC2;
LOC2 = ((*Dest_67574)->Sup.len == 0);
if (LOC2) goto LA3;
LOC2 = !(((NU8)((*Dest_67574)->data[(NI64)((NI64)((*Dest_67574)->Sup.len - 1) + 0)]) == (NU8)(32)));
LA3: ;
if (!LOC2) goto LA4;
(*Dest_67574) = resizeString((*Dest_67574), 1);
appendString((*Dest_67574), ((NimStringDesc*) &TMP193669));
LA4: ;
(*Dest_67574) = resizeString((*Dest_67574), Src_67575->Sup.len + 0);
appendString((*Dest_67574), Src_67575);
}
N_NIMCALL(void, Addcompileoption_67361)(NimStringDesc* Option_67363) {
NI LOC2;
LOC2 = nsuFindStr(Compileoptions_67391, Option_67363, 0);
if (!(LOC2 < 0)) goto LA3;
Addopt_67571(&Compileoptions_67391, Option_67363);
LA3: ;
}
N_NIMCALL(void, Addlinkoption_67364)(NimStringDesc* Option_67366) {
NI LOC2;
LOC2 = nsuFindStr(Linkoptions_67390, Option_67366, 0);
if (!(LOC2 < 0)) goto LA3;
Addopt_67571(&Linkoptions_67390, Option_67366);
LA3: ;
}
N_NIMCALL(NU8, Nametocc_67376)(NimStringDesc* Name_67378) {
NU8 Result_67524;
NU8 I_67563;
NU8 Res_67568;
NI LOC3;
Result_67524 = 0;
I_67563 = 0;
Res_67568 = 0;
Res_67568 = ((NU8) 1);
while (1) {
if (!(Res_67568 <= ((NU8) 12))) goto LA1;
I_67563 = Res_67568;
LOC3 = nsuCmpIgnoreStyle(Name_67378, Cc_67041[(I_67563)-1].Name);
if (!(LOC3 == 0)) goto LA4;
Result_67524 = I_67563;
goto BeforeRet;
LA4: ;
Res_67568 += 1;
} LA1: ;
Result_67524 = ((NU8) 0);
BeforeRet: ;
return Result_67524;
}
N_NIMCALL(void, Setcc_67381)(NimStringDesc* Ccname_67383) {
NimStringDesc* LOC4;
NimStringDesc* LOC5;
NimStringDesc* LOC6;
NU8 I_67458;
NU8 Res_67461;
Ccompiler_67340 = Nametocc_67376(Ccname_67383);
if (!(Ccompiler_67340 == ((NU8) 0))) goto LA2;
Rawmessage_45553(((NU8) 46), Ccname_67383);
LA2: ;
LOC4 = rawNewString(Cc_67041[(Ccompiler_67340)-1].Name->Sup.len + 15);
appendString(LOC4, Cc_67041[(Ccompiler_67340)-1].Name);
appendString(LOC4, ((NimStringDesc*) &TMP193675));
asgnRefNoCycle((void**) &Compileoptions_67391, Getconfigvar_44133(LOC4));
LOC5 = rawNewString(Cc_67041[(Ccompiler_67340)-1].Name->Sup.len + 15);
appendString(LOC5, Cc_67041[(Ccompiler_67340)-1].Name);
appendString(LOC5, ((NimStringDesc*) &TMP193676));
asgnRefNoCycle((void**) &Linkoptions_67390, Getconfigvar_44133(LOC5));
LOC6 = rawNewString(Cc_67041[(Ccompiler_67340)-1].Name->Sup.len + 5);
appendString(LOC6, Cc_67041[(Ccompiler_67340)-1].Name);
appendString(LOC6, ((NimStringDesc*) &TMP193677));
asgnRefNoCycle((void**) &Ccompilerpath_67392, Getconfigvar_44133(LOC6));
I_67458 = 0;
Res_67461 = 0;
Res_67461 = ((NU8) 1);
while (1) {
if (!(Res_67461 <= ((NU8) 12))) goto LA7;
I_67458 = Res_67461;
Undefsymbol_61056(Cc_67041[(I_67458)-1].Name);
Res_67461 += 1;
} LA7: ;
Definesymbol_61053(Cc_67041[(Ccompiler_67340)-1].Name);
}
N_NIMCALL(void, Initvars_67379)(void) {
NU8 I_67473;
NU8 Res_67513;
NimStringDesc* LOC5;
NimStringDesc* LOC6;
NimStringDesc* LOC7;
NimStringDesc* LOC8;
NimStringDesc* LOC12;
I_67473 = 0;
Res_67513 = 0;
Res_67513 = ((NU8) 1);
while (1) {
if (!(Res_67513 <= ((NU8) 12))) goto LA1;
I_67473 = Res_67513;
Undefsymbol_61056(Cc_67041[(I_67473)-1].Name);
Res_67513 += 1;
} LA1: ;
Definesymbol_61053(Cc_67041[(Ccompiler_67340)-1].Name);
if (!(Gcmd_44082 == ((NU8) 2))) goto LA3;
asgnRefNoCycle((void**) &Cext_67342, copyString(((NimStringDesc*) &TMP193725)));
LA3: ;
LOC5 = rawNewString(Cc_67041[(Ccompiler_67340)-1].Name->Sup.len + 15);
appendString(LOC5, Cc_67041[(Ccompiler_67340)-1].Name);
appendString(LOC5, ((NimStringDesc*) &TMP193675));
LOC6 = Getconfigvar_44133(LOC5);
Addcompileoption_67361(LOC6);
LOC7 = rawNewString(Cc_67041[(Ccompiler_67340)-1].Name->Sup.len + 15);
appendString(LOC7, Cc_67041[(Ccompiler_67340)-1].Name);
appendString(LOC7, ((NimStringDesc*) &TMP193676));
LOC8 = Getconfigvar_44133(LOC7);
Addlinkoption_67364(LOC8);
if (!(Ccompilerpath_67392->Sup.len == 0)) goto LA10;
LOC12 = rawNewString(Cc_67041[(Ccompiler_67340)-1].Name->Sup.len + 5);
appendString(LOC12, Cc_67041[(Ccompiler_67340)-1].Name);
appendString(LOC12, ((NimStringDesc*) &TMP193677));
asgnRefNoCycle((void**) &Ccompilerpath_67392, Getconfigvar_44133(LOC12));
LA10: ;
}
N_NIMCALL(NimStringDesc*, Toobjfile_67367)(NimStringDesc* Filenamewithoutext_67369) {
NimStringDesc* Result_67599;
Result_67599 = 0;
Result_67599 = nosChangeFileExt(Filenamewithoutext_67369, Cc_67041[(Ccompiler_67340)-1].Objext);
return Result_67599;
}
N_NIMCALL(NimStringDesc*, Getdebug_67695)(NU8 C_67697) {
NimStringDesc* Result_67698;
NimStringDesc* LOC1;
Result_67698 = 0;
LOC1 = rawNewString(Cc_67041[(C_67697)-1].Name->Sup.len + 14);
appendString(LOC1, Cc_67041[(C_67697)-1].Name);
appendString(LOC1, ((NimStringDesc*) &TMP194787));
Result_67698 = Getconfigvar_44133(LOC1);
if (!((Result_67698) && (Result_67698)->Sup.len == 0)) goto LA3;
Result_67698 = copyString(Cc_67041[(C_67697)-1].Debug);
LA3: ;
return Result_67698;
}
N_NIMCALL(NimStringDesc*, Getoptspeed_67683)(NU8 C_67685) {
NimStringDesc* Result_67686;
NimStringDesc* LOC1;
Result_67686 = 0;
LOC1 = rawNewString(Cc_67041[(C_67685)-1].Name->Sup.len + 14);
appendString(LOC1, Cc_67041[(C_67685)-1].Name);
appendString(LOC1, ((NimStringDesc*) &TMP194789));
Result_67686 = Getconfigvar_44133(LOC1);
if (!((Result_67686) && (Result_67686)->Sup.len == 0)) goto LA3;
Result_67686 = copyString(Cc_67041[(C_67685)-1].Optspeed);
LA3: ;
return Result_67686;
}
N_NIMCALL(NimStringDesc*, Getoptsize_67707)(NU8 C_67709) {
NimStringDesc* Result_67710;
NimStringDesc* LOC1;
Result_67710 = 0;
LOC1 = rawNewString(Cc_67041[(C_67709)-1].Name->Sup.len + 13);
appendString(LOC1, Cc_67041[(C_67709)-1].Name);
appendString(LOC1, ((NimStringDesc*) &TMP194791));
Result_67710 = Getconfigvar_44133(LOC1);
if (!((Result_67710) && (Result_67710)->Sup.len == 0)) goto LA3;
Result_67710 = copyString(Cc_67041[(C_67709)-1].Optsize);
LA3: ;
return Result_67710;
}
static N_INLINE(void, appendChar)(NimStringDesc* Dest_17209, NIM_CHAR C_17210) {
(*Dest_17209).data[((*Dest_17209).Sup.len)-0] = C_17210;
(*Dest_17209).data[((NI64)((*Dest_17209).Sup.len + 1))-0] = 0;
(*Dest_17209).Sup.len += 1;
}
N_NIMCALL(NimStringDesc*, Getcompilecfilecmd_67348)(NimStringDesc* Cfilename_67350, NIM_BOOL Isexternal_67351) {
NimStringDesc* Result_67726;
NimStringDesc* Cfile_67727;
NimStringDesc* Objfile_67728;
NimStringDesc* Options_67729;
NimStringDesc* Includecmd_67730;
NimStringDesc* Compilepattern_67731;
NimStringDesc* Key_67732;
NimStringDesc* Trunk_67733;
NimStringDesc* Exe_67734;
NU8 C_67735;
TY36715 LOC1;
NimStringDesc* LOC5;
NIM_BOOL LOC7;
NimStringDesc* LOC10;
NimStringDesc* LOC11;
NimStringDesc* LOC15;
NIM_BOOL LOC17;
NimStringDesc* LOC20;
NimStringDesc* LOC21;
NimStringDesc* LOC24;
NIM_BOOL LOC26;
NimStringDesc* LOC29;
NimStringDesc* LOC30;
NimStringDesc* LOC31;
NIM_BOOL LOC33;
NimStringDesc* LOC36;
NimStringDesc* LOC37;
NIM_BOOL LOC39;
NIM_BOOL LOC46;
NimStringDesc* LOC50;
NimStringDesc* LOC54;
NIM_BOOL LOC59;
NimStringDesc* LOC63;
NimStringDesc* LOC64;
TY67880 LOC65;
NimStringDesc* LOC66;
TY67880 LOC67;
NimStringDesc* LOC68;
Result_67726 = 0;
Cfile_67727 = 0;
Objfile_67728 = 0;
Options_67729 = 0;
Includecmd_67730 = 0;
Compilepattern_67731 = 0;
Key_67732 = 0;
Trunk_67733 = 0;
Exe_67734 = 0;
C_67735 = 0;
C_67735 = Ccompiler_67340;
Options_67729 = copyString(Compileoptions_67391);
nossplitFile(Cfilename_67350, &LOC1);
Trunk_67733 = copyString(LOC1.Name);
if (!((Gglobaloptions_44077 &(1<<((((NU8) 9))&31)))!=0)) goto LA3;
LOC5 = rawNewString(Trunk_67733->Sup.len + 6);
appendString(LOC5, Trunk_67733);
appendString(LOC5, ((NimStringDesc*) &TMP194786));
Key_67732 = LOC5;
LOC7 = Existsconfigvar_44130(Key_67732);
if (!LOC7) goto LA8;
LOC10 = Getconfigvar_44133(Key_67732);
Addopt_67571(&Options_67729, LOC10);
goto LA6;
LA8: ;
LOC11 = Getdebug_67695(C_67735);
Addopt_67571(&Options_67729, LOC11);
LA6: ;
LA3: ;
if (!((Goptions_44075 &(1<<((((NU8) 13))&31)))!=0)) goto LA13;
LOC15 = rawNewString(Trunk_67733->Sup.len + 6);
appendString(LOC15, Trunk_67733);
appendString(LOC15, ((NimStringDesc*) &TMP194788));
Key_67732 = LOC15;
LOC17 = Existsconfigvar_44130(Key_67732);
if (!LOC17) goto LA18;
LOC20 = Getconfigvar_44133(Key_67732);
Addopt_67571(&Options_67729, LOC20);
goto LA16;
LA18: ;
LOC21 = Getoptspeed_67683(C_67735);
Addopt_67571(&Options_67729, LOC21);
LA16: ;
goto LA12;
LA13: ;
if (!((Goptions_44075 &(1<<((((NU8) 14))&31)))!=0)) goto LA22;
LOC24 = rawNewString(Trunk_67733->Sup.len + 5);
appendString(LOC24, Trunk_67733);
appendString(LOC24, ((NimStringDesc*) &TMP194790));
Key_67732 = LOC24;
LOC26 = Existsconfigvar_44130(Key_67732);
if (!LOC26) goto LA27;
LOC29 = Getconfigvar_44133(Key_67732);
Addopt_67571(&Options_67729, LOC29);
goto LA25;
LA27: ;
LOC30 = Getoptsize_67707(C_67735);
Addopt_67571(&Options_67729, LOC30);
LA25: ;
goto LA12;
LA22: ;
LA12: ;
LOC31 = rawNewString(Trunk_67733->Sup.len + 7);
appendString(LOC31, Trunk_67733);
appendString(LOC31, ((NimStringDesc*) &TMP194792));
Key_67732 = LOC31;
LOC33 = Existsconfigvar_44130(Key_67732);
if (!LOC33) goto LA34;
LOC36 = Getconfigvar_44133(Key_67732);
Addopt_67571(&Options_67729, LOC36);
LA34: ;
Exe_67734 = copyString(Cc_67041[(C_67735)-1].Compilerexe);
LOC37 = rawNewString(Cc_67041[(C_67735)-1].Name->Sup.len + 4);
appendString(LOC37, Cc_67041[(C_67735)-1].Name);
appendString(LOC37, ((NimStringDesc*) &TMP194793));
Key_67732 = LOC37;
LOC39 = Existsconfigvar_44130(Key_67732);
if (!LOC39) goto LA40;
Exe_67734 = Getconfigvar_44133(Key_67732);
LA40: ;
if (!(Targetos_49562 == ((NU8) 2))) goto LA43;
Exe_67734 = nosaddFileExt(Exe_67734, ((NimStringDesc*) &TMP194794));
LA43: ;
LOC46 = ((Gglobaloptions_44077 &(1<<((((NU8) 10))&31)))!=0);
if (!(LOC46)) goto LA47;
LOC46 = ((Os_49053[(Targetos_49562)-1].Props &(1<<((((NU8) 0))&7)))!=0);
LA47: ;
if (!LOC46) goto LA48;
LOC50 = rawNewString(Cc_67041[(C_67735)-1].Pic->Sup.len + 1);
appendChar(LOC50, 32);
appendString(LOC50, Cc_67041[(C_67735)-1].Pic);
Options_67729 = resizeString(Options_67729, LOC50->Sup.len + 0);
appendString(Options_67729, LOC50);
LA48: ;
if (!(Targetos_49562 == Hostos_49563)) goto LA52;
Includecmd_67730 = copyString(Cc_67041[(C_67735)-1].Includecmd);
LOC54 = Quoteifcontainswhite_24283(Libpath_44110);
Includecmd_67730 = resizeString(Includecmd_67730, LOC54->Sup.len + 0);
appendString(Includecmd_67730, LOC54);
Compilepattern_67731 = nosJoinPath(Ccompilerpath_67392, Exe_67734);
goto LA51;
LA52: ;
Includecmd_67730 = copyString(((NimStringDesc*) &TMP67271));
Compilepattern_67731 = copyString(Cc_67041[(C_67735)-1].Compilerexe);
LA51: ;
if (!(Targetos_49562 == Hostos_49563)) goto LA56;
Cfile_67727 = copyString(Cfilename_67350);
goto LA55;
LA56: ;
Cfile_67727 = nosextractFilename(Cfilename_67350);
LA55: ;
LOC59 = !(Isexternal_67351);
if (LOC59) goto LA60;
LOC59 = !((Targetos_49562 == Hostos_49563));
LA60: ;
if (!LOC59) goto LA61;
Objfile_67728 = Toobjfile_67367(Cfile_67727);
goto LA58;
LA61: ;
LOC63 = Toobjfile_67367(Cfile_67727);
Objfile_67728 = Completecfilepath_67344(LOC63, NIM_TRUE);
LA58: ;
LOC64 = nosaddFileExt(Cfile_67727, Cext_67342);
Cfile_67727 = Quoteifcontainswhite_24283(LOC64);
Objfile_67728 = Quoteifcontainswhite_24283(Objfile_67728);
LOC65[0] = copyString(((NimStringDesc*) &TMP194795));
LOC65[1] = copyString(Cfile_67727);
LOC65[2] = copyString(((NimStringDesc*) &TMP194796));
LOC65[3] = copyString(Objfile_67728);
LOC65[4] = copyString(((NimStringDesc*) &TMP194797));
LOC65[5] = copyString(Options_67729);
LOC65[6] = copyString(((NimStringDesc*) &TMP194798));
LOC65[7] = copyString(Includecmd_67730);
LOC65[8] = copyString(((NimStringDesc*) &TMP194799));
LOC65[9] = Getprefixdir_44107();
LOC65[10] = copyString(((NimStringDesc*) &TMP194800));
LOC65[11] = copyString(Libpath_44110);
LOC66 = nsuFormatOpenArray(Compilepattern_67731, LOC65, 12);
Result_67726 = Quoteifcontainswhite_24283(LOC66);
Result_67726 = addChar(Result_67726, 32);
LOC67[0] = copyString(((NimStringDesc*) &TMP194795));
LOC67[1] = copyString(Cfile_67727);
LOC67[2] = copyString(((NimStringDesc*) &TMP194796));
LOC67[3] = copyString(Objfile_67728);
LOC67[4] = copyString(((NimStringDesc*) &TMP194797));
LOC67[5] = copyString(Options_67729);
LOC67[6] = copyString(((NimStringDesc*) &TMP194798));
LOC67[7] = copyString(Includecmd_67730);
LOC67[8] = copyString(((NimStringDesc*) &TMP194799));
LOC68 = Getprefixdir_44107();
LOC67[9] = Quoteifcontainswhite_24283(LOC68);
LOC67[10] = copyString(((NimStringDesc*) &TMP194800));
LOC67[11] = Quoteifcontainswhite_24283(Libpath_44110);
nsuAddf(&Result_67726, Cc_67041[(C_67735)-1].Compiletmpl, LOC67, 12);
return Result_67726;
}
N_NIMCALL(void, Addfiletocompile_67352)(NimStringDesc* Filename_67354) {
Appendstr_41061(&Tocompile_67388, Filename_67354);
}
N_NIMCALL(TY50008*, Genmappingfiles_68225)(TY41019* List_68227) {
TY50008* Result_68228;
TY41015* It_68229;
TY50446 LOC2;
NimStringDesc* LOC3;
Result_68228 = 0;
It_68229 = 0;
It_68229 = ((TY41015*) ((*List_68227).Head));
while (1) {
if (!!((It_68229 == NIM_NIL))) goto LA1;
LOC3 = nosaddFileExt((*It_68229).Data, Cext_67342);
LOC2[0] = Torope_50046(LOC3);
Appf_50074(&Result_68228, ((NimStringDesc*) &TMP194811), LOC2, 1);
It_68229 = ((TY41015*) ((*It_68229).Sup.Next));
} LA1: ;
return Result_68228;
}
N_NIMCALL(void, Writemapping_67384)(TY50008* Gsymbolmapping_67386) {
TY50008* Code_68261;
TY50008* LOC4;
TY50008* LOC5;
TY50446 LOC6;
NimStringDesc* LOC7;
if (!!(((Gglobaloptions_44077 &(1<<((((NU8) 13))&31)))!=0))) goto LA2;
goto BeforeRet;
LA2: ;
Code_68261 = 0;
Code_68261 = Torope_50046(((NimStringDesc*) &TMP194810));
LOC4 = Genmappingfiles_68225(&Tocompile_67388);
App_50031(&Code_68261, LOC4);
LOC5 = Genmappingfiles_68225(&Externaltocompile_67389);
App_50031(&Code_68261, LOC5);
LOC6[0] = Gsymbolmapping_67386;
Appf_50074(&Code_68261, ((NimStringDesc*) &TMP194812), LOC6, 1);
LOC7 = nosJoinPath(Projectpath_44111, ((NimStringDesc*) &TMP194813));
Writerope_50058(Code_68261, LOC7);
BeforeRet: ;
}
N_NIMCALL(void, Compilecfile_67887)(TY41019* List_67889, TY50008** Script_67891, TY37422** Cmds_67893, NIM_BOOL Isexternal_67894) {
TY41015* It_67895;
NimStringDesc* Compilecmd_67919;
It_67895 = 0;
It_67895 = ((TY41015*) ((*List_67889).Head));
while (1) {
if (!!((It_67895 == NIM_NIL))) goto LA1;
Filecounter_67721 += 1;
Compilecmd_67919 = 0;
Compilecmd_67919 = Getcompilecfilecmd_67348((*It_67895).Data, Isexternal_67894);
if (!!(((Gglobaloptions_44077 &(1<<((((NU8) 6))&31)))!=0))) goto LA3;
(*Cmds_67893) = (TY37422*) incrSeq(&((*Cmds_67893))->Sup, sizeof(NimStringDesc*));
asgnRefNoCycle((void**) &(*Cmds_67893)->data[(*Cmds_67893)->Sup.len-1], copyString(Compilecmd_67919));
LA3: ;
if (!((Gglobaloptions_44077 &(1<<((((NU8) 12))&31)))!=0)) goto LA6;
App_50036(Script_67891, Compilecmd_67919);
App_50036(Script_67891, Tnl_49573);
LA6: ;
It_67895 = ((TY41015*) ((*It_67895).Sup.Next));
} LA1: ;
}
N_NIMCALL(void, Execexternalprogram_67373)(NimStringDesc* Cmd_67375) {
NIM_BOOL LOC2;
NI LOC7;
LOC2 = ((Gglobaloptions_44077 &(1<<((((NU8) 5))&31)))!=0);
if (LOC2) goto LA3;
LOC2 = (0 < Gverbosity_44083);
LA3: ;
if (!LOC2) goto LA4;
Messageout_45550(Cmd_67375);
LA4: ;
LOC7 = nospexecCmd(Cmd_67375);
if (!!((LOC7 == 0))) goto LA8;
Rawmessage_45553(((NU8) 62), ((NimStringDesc*) &TMP67271));
LA8: ;
}
N_NIMCALL(void, Generatescript_67668)(NimStringDesc* Projectfile_67670, TY50008* Script_67671) {
TY36715 LOC1;
NimStringDesc* Dir_67672;
NimStringDesc* Name_67673;
NimStringDesc* Ext_67674;
NimStringDesc* LOC2;
NimStringDesc* LOC3;
NimStringDesc* LOC4;
nossplitFile(Projectfile_67670, &LOC1);
Dir_67672 = 0;
Dir_67672 = copyString(LOC1.Dir);
Name_67673 = 0;
Name_67673 = copyString(LOC1.Name);
Ext_67674 = 0;
Ext_67674 = copyString(LOC1.Ext);
LOC2 = rawNewString(Name_67673->Sup.len + 8);
appendString(LOC2, ((NimStringDesc*) &TMP194879));
appendString(LOC2, Name_67673);
LOC3 = nosaddFileExt(LOC2, Os_49053[(Targetos_49562)-1].Scriptext);
LOC4 = HEX2F_36518(Dir_67672, LOC3);
Writerope_50058(Script_67671, LOC4);
}
N_NIMCALL(void, Callccompiler_67370)(NimStringDesc* Projectfile_67372) {
NimStringDesc* Linkcmd_67964;
NimStringDesc* Buildgui_67965;
NimStringDesc* Builddll_67966;
NU8 C_67988;
TY50008* Script_67989;
TY37422* Cmds_68006;
NI Res_68024;
NI I_68049;
NI HEX3Atmp_68219;
NI Res_68221;
NI LOC14;
NIM_BOOL LOC15;
TY44349 LOC22;
NimStringDesc* Linkerexe_68096;
NimStringDesc* LOC26;
NimStringDesc* LOC36;
NimStringDesc* Exefile_68130;
TY45865 LOC43;
TY36715 LOC44;
NimStringDesc* LOC45;
TY36715 LOC46;
TY36715 LOC50;
TY41015* It_68163;
NimStringDesc* Objfiles_68164;
NimStringDesc* LOC55;
NimStringDesc* LOC56;
NimStringDesc* LOC57;
NimStringDesc* LOC58;
NimStringDesc* LOC59;
TY68187 LOC60;
NimStringDesc* LOC61;
TY68187 LOC62;
NimStringDesc* LOC63;
Linkcmd_67964 = 0;
Buildgui_67965 = 0;
Builddll_67966 = 0;
if (!((Gglobaloptions_44077 & 4160) == 64)) goto LA2;
goto BeforeRet;
LA2: ;
Filecounter_67721 = 0;
C_67988 = 0;
C_67988 = Ccompiler_67340;
Script_67989 = 0;
Script_67989 = NIM_NIL;
Cmds_68006 = 0;
Cmds_68006 = (TY37422*) newSeq(NTI37422, 0);
Compilecfile_67887(&Tocompile_67388, &Script_67989, &Cmds_68006, NIM_FALSE);
Compilecfile_67887(&Externaltocompile_67389, &Script_67989, &Cmds_68006, NIM_TRUE);
if (!!(((Gglobaloptions_44077 &(1<<((((NU8) 6))&31)))!=0))) goto LA5;
if (!(Gnumberofprocessors_44084 == 0)) goto LA8;
Gnumberofprocessors_44084 = nospcountProcessors();
LA8: ;
Res_68024 = 0;
Res_68024 = 0;
if (!(Gnumberofprocessors_44084 <= 1)) goto LA11;
I_68049 = 0;
HEX3Atmp_68219 = 0;
HEX3Atmp_68219 = (Cmds_68006->Sup.len-1);
Res_68221 = 0;
Res_68221 = 0;
while (1) {
if (!(Res_68221 <= HEX3Atmp_68219)) goto LA13;
I_68049 = Res_68221;
LOC14 = nospexecCmd(Cmds_68006->data[I_68049]);
Res_68024 = ((LOC14 >= Res_68024) ? LOC14 : Res_68024);
Res_68221 += 1;
} LA13: ;
goto LA10;
LA11: ;
LOC15 = ((Gglobaloptions_44077 &(1<<((((NU8) 5))&31)))!=0);
if (LOC15) goto LA16;
LOC15 = (0 < Gverbosity_44083);
LA16: ;
if (!LOC15) goto LA17;
Res_68024 = nospexecProcesses(Cmds_68006->data, Cmds_68006->Sup.len, 11, Gnumberofprocessors_44084);
goto LA10;
LA17: ;
Res_68024 = nospexecProcesses(Cmds_68006->data, Cmds_68006->Sup.len, 10, Gnumberofprocessors_44084);
LA10: ;
if (!!((Res_68024 == 0))) goto LA20;
Rawmessage_45557(((NU8) 62), LOC22, 0);
LA20: ;
LA5: ;
if (!!(((Gglobaloptions_44077 &(1<<((((NU8) 7))&31)))!=0))) goto LA24;
Linkerexe_68096 = 0;
LOC26 = rawNewString(Cc_67041[(C_67988)-1].Name->Sup.len + 10);
appendString(LOC26, Cc_67041[(C_67988)-1].Name);
appendString(LOC26, ((NimStringDesc*) &TMP194874));
Linkerexe_68096 = Getconfigvar_44133(LOC26);
if (!(Linkerexe_68096->Sup.len == 0)) goto LA28;
Linkerexe_68096 = copyString(Cc_67041[(C_67988)-1].Linkerexe);
LA28: ;
if (!(Targetos_49562 == ((NU8) 2))) goto LA31;
Linkerexe_68096 = nosaddFileExt(Linkerexe_68096, ((NimStringDesc*) &TMP194794));
LA31: ;
if (!!((Hostos_49563 == Targetos_49562))) goto LA34;
Linkcmd_67964 = Quoteifcontainswhite_24283(Linkerexe_68096);
goto LA33;
LA34: ;
LOC36 = nosJoinPath(Ccompilerpath_67392, Linkerexe_68096);
Linkcmd_67964 = Quoteifcontainswhite_24283(LOC36);
LA33: ;
if (!((Gglobaloptions_44077 &(1<<((((NU8) 11))&31)))!=0)) goto LA38;
Buildgui_67965 = copyString(Cc_67041[(C_67988)-1].Buildgui);
goto LA37;
LA38: ;
Buildgui_67965 = copyString(((NimStringDesc*) &TMP67271));
LA37: ;
Exefile_68130 = 0;
if (!((Gglobaloptions_44077 &(1<<((((NU8) 10))&31)))!=0)) goto LA41;
nossplitFile(Projectfile_67372, &LOC44);
LOC43[0] = copyString(LOC44.Name);
Exefile_68130 = nsuFormatOpenArray(Os_49053[(Targetos_49562)-1].Dllfrmt, LOC43, 1);
Builddll_67966 = copyString(Cc_67041[(C_67988)-1].Builddll);
goto LA40;
LA41: ;
nossplitFile(Projectfile_67372, &LOC46);
LOC45 = rawNewString(LOC46.Name->Sup.len + Os_49053[(Targetos_49562)-1].Exeext->Sup.len + 0);
appendString(LOC45, LOC46.Name);
appendString(LOC45, Os_49053[(Targetos_49562)-1].Exeext);
Exefile_68130 = LOC45;
Builddll_67966 = copyString(((NimStringDesc*) &TMP67271));
LA40: ;
if (!(Targetos_49562 == Hostos_49563)) goto LA48;
nossplitFile(Projectfile_67372, &LOC50);
Exefile_68130 = nosJoinPath(LOC50.Dir, Exefile_68130);
LA48: ;
Exefile_68130 = Quoteifcontainswhite_24283(Exefile_68130);
It_68163 = 0;
It_68163 = ((TY41015*) (Tolink_67387.Head));
Objfiles_68164 = 0;
Objfiles_68164 = copyString(((NimStringDesc*) &TMP67271));
while (1) {
if (!!((It_68163 == NIM_NIL))) goto LA51;
Objfiles_68164 = addChar(Objfiles_68164, 32);
if (!(Targetos_49562 == Hostos_49563)) goto LA53;
LOC55 = Toobjfile_67367((*It_68163).Data);
LOC56 = Quoteifcontainswhite_24283(LOC55);
Objfiles_68164 = resizeString(Objfiles_68164, LOC56->Sup.len + 0);
appendString(Objfiles_68164, LOC56);
goto LA52;
LA53: ;
LOC57 = nosextractFilename((*It_68163).Data);
LOC58 = Toobjfile_67367(LOC57);
LOC59 = Quoteifcontainswhite_24283(LOC58);
Objfiles_68164 = resizeString(Objfiles_68164, LOC59->Sup.len + 0);
appendString(Objfiles_68164, LOC59);
LA52: ;
It_68163 = ((TY41015*) ((*It_68163).Sup.Next));
} LA51: ;
LOC60[0] = copyString(((NimStringDesc*) &TMP194875));
LOC60[1] = copyString(Builddll_67966);
LOC60[2] = copyString(((NimStringDesc*) &TMP194876));
LOC60[3] = copyString(Buildgui_67965);
LOC60[4] = copyString(((NimStringDesc*) &TMP194797));
LOC60[5] = copyString(Linkoptions_67390);
LOC60[6] = copyString(((NimStringDesc*) &TMP194877));
LOC60[7] = copyString(Objfiles_68164);
LOC60[8] = copyString(((NimStringDesc*) &TMP194878));
LOC60[9] = copyString(Exefile_68130);
LOC60[10] = copyString(((NimStringDesc*) &TMP194799));
LOC60[11] = Getprefixdir_44107();
LOC60[12] = copyString(((NimStringDesc*) &TMP194800));
LOC60[13] = copyString(Libpath_44110);
LOC61 = nsuFormatOpenArray(Linkcmd_67964, LOC60, 14);
Linkcmd_67964 = Quoteifcontainswhite_24283(LOC61);
Linkcmd_67964 = addChar(Linkcmd_67964, 32);
LOC62[0] = copyString(((NimStringDesc*) &TMP194875));
LOC62[1] = copyString(Builddll_67966);
LOC62[2] = copyString(((NimStringDesc*) &TMP194876));
LOC62[3] = copyString(Buildgui_67965);
LOC62[4] = copyString(((NimStringDesc*) &TMP194797));
LOC62[5] = copyString(Linkoptions_67390);
LOC62[6] = copyString(((NimStringDesc*) &TMP194877));
LOC62[7] = copyString(Objfiles_68164);
LOC62[8] = copyString(((NimStringDesc*) &TMP194878));
LOC62[9] = copyString(Exefile_68130);
LOC62[10] = copyString(((NimStringDesc*) &TMP194799));
LOC63 = Getprefixdir_44107();
LOC62[11] = Quoteifcontainswhite_24283(LOC63);
LOC62[12] = copyString(((NimStringDesc*) &TMP194800));
LOC62[13] = Quoteifcontainswhite_24283(Libpath_44110);
nsuAddf(&Linkcmd_67964, Cc_67041[(C_67988)-1].Linktmpl, LOC62, 14);
if (!!(((Gglobaloptions_44077 &(1<<((((NU8) 6))&31)))!=0))) goto LA65;
Execexternalprogram_67373(Linkcmd_67964);
LA65: ;
goto LA23;
LA24: ;
Linkcmd_67964 = copyString(((NimStringDesc*) &TMP67271));
LA23: ;
if (!((Gglobaloptions_44077 &(1<<((((NU8) 12))&31)))!=0)) goto LA68;
App_50036(&Script_67989, Linkcmd_67964);
App_50036(&Script_67989, Tnl_49573);
Generatescript_67668(Projectfile_67372, Script_67989);
LA68: ;
BeforeRet: ;
}
N_NIMCALL(void, Writeln_67626)(FILE* F_67629, NimStringDesc* X_67630) {
Write_3658(F_67629, X_67630);
Write_3658(F_67629, ((NimStringDesc*) &TMP195496));
}
N_NOINLINE(void, extccompInit)(void) {
Ccompiler_67340 = ((NU8) 1);
asgnRefNoCycle((void**) &Cext_67342, copyString(((NimStringDesc*) &TMP67343)));
Tolink_67387.m_type = NTI41019;
Tocompile_67388.m_type = NTI41019;
Externaltocompile_67389.m_type = NTI41019;
asgnRefNoCycle((void**) &Linkoptions_67390, copyString(((NimStringDesc*) &TMP67271)));
asgnRefNoCycle((void**) &Compileoptions_67391, copyString(((NimStringDesc*) &TMP67271)));
asgnRefNoCycle((void**) &Ccompilerpath_67392, copyString(((NimStringDesc*) &TMP67271)));
}

