/* Generated by Nimrod Compiler v0.8.9 */
/*   (c) 2010 Andreas Rumpf */

typedef long long int NI;
typedef unsigned long long int NU;
#include "nimbase.h"

typedef struct TY47008 TY47008;
typedef struct TNimObject TNimObject;
typedef struct TNimType TNimType;
typedef struct TNimNode TNimNode;
typedef struct NimStringDesc NimStringDesc;
typedef struct TGenericSeq TGenericSeq;
typedef struct TY10602 TY10602;
typedef struct TY8004 TY8004;
typedef struct TY10990 TY10990;
typedef struct TY10618 TY10618;
typedef struct TY10614 TY10614;
typedef struct TY10610 TY10610;
typedef struct TY10988 TY10988;
typedef struct TY47010 TY47010;
struct TNimType {
NI size;
NU8 kind;
NU8 flags;
TNimType* base;
TNimNode* node;
void* finalizer;
};
struct TNimObject {
TNimType* m_type;
};
struct TGenericSeq {
NI len;
NI space;
};
typedef NIM_CHAR TY239[100000001];
struct NimStringDesc {
  TGenericSeq Sup;
TY239 data;
};
struct TY47008 {
  TNimObject Sup;
TY47008* Left;
TY47008* Right;
NI Length;
NimStringDesc* Data;
};
struct TNimNode {
NU8 kind;
NI offset;
TNimType* typ;
NCSTRING name;
NI len;
TNimNode** sons;
};
struct TY10602 {
NI Refcount;
TNimType* Typ;
};
typedef N_STDCALL_PTR(void, TY8016) (TY8004* L_8018);
struct TY10618 {
NI Len;
NI Cap;
TY10602** D;
};
struct TY10614 {
NI Counter;
NI Max;
TY10610* Head;
TY10610** Data;
};
struct TY8004 {
void* Debuginfo;
NI32 Lockcount;
NI32 Recursioncount;
NI Owningthread;
NI Locksemaphore;
NI32 Reserved;
};
struct TY10988 {
NI Stackscans;
NI Cyclecollections;
NI Maxthreshold;
NI Maxstacksize;
NI Maxstackcells;
NI Cycletablesize;
};
struct TY10990 {
TY10618 Zct;
TY10618 Decstack;
TY10614 Cycleroots;
TY10618 Tempstack;
TY8004 Cyclerootslock;
TY8004 Zctlock;
TY10988 Stat;
};
typedef N_STDCALL_PTR(void, TY8020) (TY8004* L_8022);
typedef TY47008* TY47451[1];
typedef NI TY45040[256];
typedef NI TY8614[8];
struct TY10610 {
TY10610* Next;
NI Key;
TY8614 Bits;
};
struct TY47010 {
  TGenericSeq Sup;
  TY47008* data[SEQ_DECL_SIZE];
};
N_NIMCALL(NI, Ropelen_47055)(TY47008* A_47057);
N_NIMCALL(TY47008*, Newrope_47105)(NimStringDesc* Data_47107);
N_NIMCALL(void*, newObj)(TNimType* Typ_12307, NI Size_12308);
static N_INLINE(void, asgnRefNoCycle)(void** Dest_11818, void* Src_11819);
static N_INLINE(TY10602*, Usrtocell_11036)(void* Usr_11038);
static N_INLINE(NI, Atomicinc_3001)(NI* Memloc_3004, NI X_3005);
static N_INLINE(NI, Atomicdec_3006)(NI* Memloc_3009, NI X_3010);
static N_INLINE(void, Rtladdzct_11658)(TY10602* C_11660);
N_NOINLINE(void, Addzct_11025)(TY10618* S_11028, TY10602* C_11029);
N_NIMCALL(NimStringDesc*, copyString)(NimStringDesc* Src_17308);
N_NIMCALL(NimStringDesc*, Getcachestats_47081)(void);
static N_INLINE(NI, addInt)(NI A_5803, NI B_5804);
N_NOINLINE(void, raiseOverflow)(void);
static N_INLINE(void, appendString)(NimStringDesc* Dest_17392, NimStringDesc* Src_17393);
N_NIMCALL(NimStringDesc*, nimIntToStr)(NI X_18003);
N_NIMCALL(NimStringDesc*, nimFloatToStr)(NF X_18060);
N_NIMCALL(NimStringDesc*, rawNewString)(NI Space_17287);
N_NIMCALL(TY47008*, Splay_47184)(NimStringDesc* S_47186, TY47008* Tree_47187, NI* Cmpres_47189);
N_NIMCALL(NI, Cmp_1321)(NimStringDesc* X_1323, NimStringDesc* Y_1324);
static N_INLINE(NI, cmpStrings)(NimStringDesc* A_17211, NimStringDesc* B_17212);
N_NIMCALL(TY47008*, Insertincache_47246)(NimStringDesc* S_47248, TY47008* Tree_47249);
N_NIMCALL(NIM_BOOL, Ropeinvariant_47087)(TY47008* R_47089);
N_NIMCALL(TY47008*, Torope_47046)(NimStringDesc* S_47048);
N_NIMCALL(void, internalAssert)(NCSTRING File_5254, NI Line_5255, NIM_BOOL Cond_5256);
N_NIMCALL(void, Ropeseqinsert_47324)(TY47010** Rs_47327, TY47008* R_47328, NI At_47329);
N_NIMCALL(TGenericSeq*, setLengthSeq)(TGenericSeq* Seq_17603, NI Elemsize_17604, NI Newlen_17605);
N_NOINLINE(void, raiseIndexError)(void);
static N_INLINE(NI, subInt)(NI A_6003, NI B_6004);
N_NIMCALL(void, Recropetostr_47396)(NimStringDesc** Result_47399, NI* Resultlen_47401, TY47008* P_47402);
N_NIMCALL(void, Newrecropetostr_47432)(NimStringDesc** Result_47435, NI* Resultlen_47437, TY47008* R_47438);
N_NIMCALL(void*, newSeq)(TNimType* Typ_12804, NI Len_12805);
N_NIMCALL(TGenericSeq*, incrSeq)(TGenericSeq* Seq_17435, NI Elemsize_17436);
N_NIMCALL(NimStringDesc*, Ropetostr_47066)(TY47008* P_47068);
N_NIMCALL(NimStringDesc*, mnewString)(NI Len_1349);
N_NIMCALL(TY47008*, Con_47015)(TY47008* A_47017, TY47008* B_47018);
N_NIMCALL(TY47008*, Con_47019)(TY47008* A_47021, NimStringDesc* B_47022);
N_NIMCALL(TY47008*, Con_47023)(NimStringDesc* A_47025, TY47008* B_47026);
N_NIMCALL(TY47008*, Con_47027)(TY47008** A_47030, NI A_47030Len0);
N_NIMCALL(TY47008*, Torope_47052)(NI64 I_47054);
N_NIMCALL(NimStringDesc*, nimInt64ToStr)(NI64 X_18067);
N_NIMCALL(TY47008*, Toropef_47049)(NF64 R_47051);
N_NIMCALL(void, App_47031)(TY47008** A_47034, TY47008* B_47035);
N_NIMCALL(void, unsureAsgnRef)(void** Dest_11826, void* Src_11827);
N_NIMCALL(void, App_47036)(TY47008** A_47039, NimStringDesc* B_47040);
N_NIMCALL(void, Prepend_47041)(TY47008** A_47044, TY47008* B_47045);
N_NIMCALL(void, Writeroperec_47655)(FILE** F_47658, TY47008* C_47659);
N_NIMCALL(void, Write_3658)(FILE* F_3660, NimStringDesc* S_3661);
N_NIMCALL(void, Newwriteroperec_47671)(FILE** F_47674, TY47008* C_47675);
N_NIMCALL(void, Writerope_47058)(TY47008* Head_47060, NimStringDesc* Filename_47061);
N_NIMCALL(NIM_BOOL, Open_3617)(FILE** F_3620, NimStringDesc* Filename_3621, NU8 Mode_3622, NI Bufsize_3623);
N_NIMCALL(void, Rawmessage_42553)(NU8 Msg_42555, NimStringDesc* Arg_42556);
N_NIMCALL(TY47008*, Ropef_47069)(NimStringDesc* Frmt_47071, TY47008** Args_47073, NI Args_47073Len0);
N_NIMCALL(NI, mulInt)(NI A_6803, NI B_6804);
N_NIMCALL(void, Internalerror_42571)(NimStringDesc* Errmsg_42573);
static N_INLINE(void, appendChar)(NimStringDesc* Dest_17409, NIM_CHAR C_17410);
N_NIMCALL(NimStringDesc*, copyStrLast)(NimStringDesc* S_1928, NI First_1929, NI Last_1930);
N_NIMCALL(void, Appf_47074)(TY47008** C_47077, NimStringDesc* Frmt_47078, TY47008** Args_47080, NI Args_47080Len0);
N_NIMCALL(NIM_BOOL, Auxropeequalsfile_47930)(TY47008* R_47932, FILE** Bin_47934, void* Buf_47935);
N_NIMCALL(NI, Readbuffer_3714)(FILE* F_3716, void* Buffer_3717, NI Len_3718);
N_NIMCALL(NIM_BOOL, Ropeequalsfile_47083)(TY47008* R_47085, NimStringDesc* F_47086);
N_NOCONV(void*, Alloc_1950)(NI Size_1952);
N_NOCONV(void, Dealloc_1960)(void* P_1962);
N_NIMCALL(NI32, Crcfromropeaux_47955)(TY47008* R_47957, NI32 Startval_47958);
static N_INLINE(NI32, Updatecrc32_45018)(NIM_CHAR Val_45020, NI32 Crc_45021);
static N_INLINE(NI32, Updatecrc32_45014)(NI8 Val_45016, NI32 Crc_45017);
static N_INLINE(NI, chckRange)(NI I_4610, NI A_4611, NI B_4612);
N_NOINLINE(void, raiseRangeError)(NI64 Val_5418);
N_NIMCALL(NI32, Newcrcfromropeaux_47976)(TY47008* R_47978, NI32 Startval_47979);
N_NIMCALL(NI32, Crcfromrope_48060)(TY47008* R_48062);
N_NIMCALL(NIM_BOOL, Writeropeifnotequal_47062)(TY47008* R_47064, NimStringDesc* Filename_47065);
N_NIMCALL(NI32, Crcfromfile_45029)(NimStringDesc* Filename_45031);
N_NIMCALL(TY47008*, Pop_47471)(TY47010** S_47476);
STRING_LITERAL(TMP47180, "Misses: ", 8);
STRING_LITERAL(TMP47181, " total: ", 8);
STRING_LITERAL(TMP47182, " quot: ", 7);
STRING_LITERAL(TMP47183, "", 0);
STRING_LITERAL(TMP47920, "$", 1);
STRING_LITERAL(TMP47921, "ropes: invalid format string $", 30);
STRING_LITERAL(TMP47943, "ropes: token too long", 21);
extern NIM_CONST TY45040 Crc32table_45039;
extern TNimType* NTI47006; /* PRope */
extern TNimType* NTI47008; /* TRope */
extern TY8016 Dl_8015;
extern TY10990 Gch_11010;
extern TY8020 Dl_8019;
TY47008* Cache_47127;
NI Misses_47128;
NI Hits_47129;
TY47008* N_47130;
extern TNimType* NTI47010; /* TRopeSeq */
extern NimStringDesc* Tnl_46573;
N_NIMCALL(NI, Ropelen_47055)(TY47008* A_47057) {
NI Result_47093;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "ropeLen";
F.prev = framePtr;
F.filename = "rod/ropes.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_47093 = 0;
F.line = 106;F.filename = "ropes.nim";
if (!(A_47057 == NIM_NIL)) goto LA2;
F.line = 106;F.filename = "ropes.nim";
Result_47093 = 0;
goto LA1;
LA2: ;
F.line = 107;F.filename = "ropes.nim";
Result_47093 = (*A_47057).Length;
LA1: ;
framePtr = framePtr->prev;
return Result_47093;
}
static N_INLINE(TY10602*, Usrtocell_11036)(void* Usr_11038) {
TY10602* Result_11039;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "usrToCell";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/system/gc.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_11039 = 0;
F.line = 100;F.filename = "gc.nim";
Result_11039 = ((TY10602*) ((NI64)((NU64)(((NI) (Usr_11038))) - (NU64)(((NI) (((NI)sizeof(TY10602))))))));
framePtr = framePtr->prev;
return Result_11039;
}
static N_INLINE(NI, Atomicinc_3001)(NI* Memloc_3004, NI X_3005) {
NI Result_7408;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "atomicInc";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/system/systhread.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_7408 = 0;
F.line = 29;F.filename = "systhread.nim";
Result_7408 = __sync_add_and_fetch(Memloc_3004, X_3005);
framePtr = framePtr->prev;
return Result_7408;
}
static N_INLINE(NI, Atomicdec_3006)(NI* Memloc_3009, NI X_3010) {
NI Result_7606;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "atomicDec";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/system/systhread.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_7606 = 0;
F.line = 37;F.filename = "systhread.nim";
Result_7606 = __sync_sub_and_fetch(Memloc_3009, X_3010);
framePtr = framePtr->prev;
return Result_7606;
}
static N_INLINE(void, Rtladdzct_11658)(TY10602* C_11660) {
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "rtlAddZCT";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/system/gc.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
F.line = 211;F.filename = "gc.nim";
if (!NIM_TRUE) goto LA2;
F.line = 211;F.filename = "gc.nim";
Dl_8015(&Gch_11010.Zctlock);
LA2: ;
F.line = 212;F.filename = "gc.nim";
Addzct_11025(&Gch_11010.Zct, C_11660);
F.line = 213;F.filename = "gc.nim";
if (!NIM_TRUE) goto LA5;
F.line = 213;F.filename = "gc.nim";
Dl_8019(&Gch_11010.Zctlock);
LA5: ;
framePtr = framePtr->prev;
}
static N_INLINE(void, asgnRefNoCycle)(void** Dest_11818, void* Src_11819) {
TY10602* C_11820;
NI LOC4;
TY10602* C_11822;
NI LOC9;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "asgnRefNoCycle";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/system/gc.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
F.line = 244;F.filename = "gc.nim";
if (!!((Src_11819 == NIM_NIL))) goto LA2;
C_11820 = 0;
F.line = 245;F.filename = "gc.nim";
C_11820 = Usrtocell_11036(Src_11819);
F.line = 246;F.filename = "gc.nim";
LOC4 = Atomicinc_3001(&(*C_11820).Refcount, 8);
LA2: ;
F.line = 247;F.filename = "gc.nim";
if (!!(((*Dest_11818) == NIM_NIL))) goto LA6;
C_11822 = 0;
F.line = 248;F.filename = "gc.nim";
C_11822 = Usrtocell_11036((*Dest_11818));
F.line = 249;F.filename = "gc.nim";
LOC9 = Atomicdec_3006(&(*C_11822).Refcount, 8);
if (!((NU64)(LOC9) < (NU64)(8))) goto LA10;
F.line = 250;F.filename = "gc.nim";
Rtladdzct_11658(C_11822);
LA10: ;
LA6: ;
F.line = 251;F.filename = "gc.nim";
(*Dest_11818) = Src_11819;
framePtr = framePtr->prev;
}
N_NIMCALL(TY47008*, Newrope_47105)(NimStringDesc* Data_47107) {
TY47008* Result_47108;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "newRope";
F.prev = framePtr;
F.filename = "rod/ropes.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_47108 = 0;
F.line = 110;F.filename = "ropes.nim";
Result_47108 = (TY47008*) newObj(NTI47006, sizeof(TY47008));
(*Result_47108).Sup.m_type = NTI47008;
F.line = 111;F.filename = "ropes.nim";
if (!!((Data_47107 == NIM_NIL))) goto LA2;
F.line = 112;F.filename = "ropes.nim";
(*Result_47108).Length = Data_47107->Sup.len;
F.line = 113;F.filename = "ropes.nim";
asgnRefNoCycle((void**) &(*Result_47108).Data, copyString(Data_47107));
LA2: ;
framePtr = framePtr->prev;
return Result_47108;
}
static N_INLINE(NI, addInt)(NI A_5803, NI B_5804) {
NI Result_5805;
NIM_BOOL LOC2;
Result_5805 = 0;
Result_5805 = (NI64)((NU64)(A_5803) + (NU64)(B_5804));
LOC2 = (0 <= (NI64)(Result_5805 ^ A_5803));
if (LOC2) goto LA3;
LOC2 = (0 <= (NI64)(Result_5805 ^ B_5804));
LA3: ;
if (!LOC2) goto LA4;
goto BeforeRet;
LA4: ;
raiseOverflow();
BeforeRet: ;
return Result_5805;
}
static N_INLINE(void, appendString)(NimStringDesc* Dest_17392, NimStringDesc* Src_17393) {
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "appendString";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/system/sysstr.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
F.line = 150;F.filename = "sysstr.nim";
memcpy(((NCSTRING) (&(*Dest_17392).data[((*Dest_17392).Sup.len)-0])), ((NCSTRING) ((*Src_17393).data)), ((NI32) ((NI64)((NI64)((*Src_17393).Sup.len + 1) * 1))));
F.line = 151;F.filename = "sysstr.nim";
(*Dest_17392).Sup.len += (*Src_17393).Sup.len;
framePtr = framePtr->prev;
}
N_NIMCALL(NimStringDesc*, Getcachestats_47081)(void) {
NimStringDesc* Result_47133;
NimStringDesc* LOC4;
NimStringDesc* LOC5;
NimStringDesc* LOC6;
NimStringDesc* LOC7;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "getCacheStats";
F.prev = framePtr;
F.filename = "rod/ropes.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_47133 = 0;
F.line = 121;F.filename = "ropes.nim";
if (!!((addInt(Hits_47129, Misses_47128) == 0))) goto LA2;
F.line = 122;F.filename = "ropes.nim";
LOC4 = 0;
LOC5 = 0;
LOC5 = nimIntToStr(Misses_47128);
LOC6 = 0;
LOC6 = nimIntToStr(addInt(Hits_47129, Misses_47128));
LOC7 = 0;
LOC7 = nimFloatToStr((((double) (Misses_47128)) / ((double) (addInt(Hits_47129, Misses_47128)))));
LOC4 = rawNewString(LOC5->Sup.len + LOC6->Sup.len + LOC7->Sup.len + 23);
appendString(LOC4, ((NimStringDesc*) &TMP47180));
appendString(LOC4, LOC5);
appendString(LOC4, ((NimStringDesc*) &TMP47181));
appendString(LOC4, LOC6);
appendString(LOC4, ((NimStringDesc*) &TMP47182));
appendString(LOC4, LOC7);
Result_47133 = LOC4;
goto LA1;
LA2: ;
F.line = 125;F.filename = "ropes.nim";
Result_47133 = copyString(((NimStringDesc*) &TMP47183));
LA1: ;
framePtr = framePtr->prev;
return Result_47133;
}
static N_INLINE(NI, cmpStrings)(NimStringDesc* A_17211, NimStringDesc* B_17212) {
NI Result_17213;
NI32 LOC10;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "cmpStrings";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/system/sysstr.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_17213 = 0;
F.line = 26;F.filename = "sysstr.nim";
if (!(A_17211 == B_17212)) goto LA2;
F.line = 26;F.filename = "sysstr.nim";
F.line = 26;F.filename = "sysstr.nim";
Result_17213 = 0;
goto BeforeRet;
LA2: ;
F.line = 27;F.filename = "sysstr.nim";
if (!(A_17211 == NIM_NIL)) goto LA5;
F.line = 27;F.filename = "sysstr.nim";
F.line = 27;F.filename = "sysstr.nim";
Result_17213 = -1;
goto BeforeRet;
LA5: ;
F.line = 28;F.filename = "sysstr.nim";
if (!(B_17212 == NIM_NIL)) goto LA8;
F.line = 28;F.filename = "sysstr.nim";
F.line = 28;F.filename = "sysstr.nim";
Result_17213 = 1;
goto BeforeRet;
LA8: ;
F.line = 29;F.filename = "sysstr.nim";
F.line = 29;F.filename = "sysstr.nim";
LOC10 = strcmp(((NCSTRING) ((*A_17211).data)), ((NCSTRING) ((*B_17212).data)));
Result_17213 = ((NI) (LOC10));
goto BeforeRet;
BeforeRet: ;
framePtr = framePtr->prev;
return Result_17213;
}
N_NIMCALL(TY47008*, Splay_47184)(NimStringDesc* S_47186, TY47008* Tree_47187, NI* Cmpres_47189) {
TY47008* Result_47190;
NI C_47191;
TY47008* T_47192;
TY47008* Le_47193;
TY47008* R_47194;
NIM_BOOL LOC6;
TY47008* Y_47208;
NIM_BOOL LOC16;
TY47008* Y_47233;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "splay";
F.prev = framePtr;
F.filename = "rod/ropes.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_47190 = 0;
C_47191 = 0;
T_47192 = 0;
F.line = 129;F.filename = "ropes.nim";
T_47192 = Tree_47187;
F.line = 130;F.filename = "ropes.nim";
asgnRefNoCycle((void**) &(*N_47130).Left, NIM_NIL);
F.line = 131;F.filename = "ropes.nim";
asgnRefNoCycle((void**) &(*N_47130).Right, NIM_NIL);
Le_47193 = 0;
F.line = 132;F.filename = "ropes.nim";
Le_47193 = N_47130;
R_47194 = 0;
F.line = 133;F.filename = "ropes.nim";
R_47194 = N_47130;
F.line = 134;F.filename = "ropes.nim";
while (1) {
F.line = 135;F.filename = "ropes.nim";
C_47191 = Cmp_1321(S_47186, (*T_47192).Data);
F.line = 136;F.filename = "ropes.nim";
if (!(C_47191 < 0)) goto LA3;
F.line = 137;F.filename = "ropes.nim";
LOC6 = !(((*T_47192).Left == NIM_NIL));
if (!(LOC6)) goto LA7;
LOC6 = (cmpStrings(S_47186, (*(*T_47192).Left).Data) < 0);
LA7: ;
if (!LOC6) goto LA8;
Y_47208 = 0;
F.line = 138;F.filename = "ropes.nim";
Y_47208 = (*T_47192).Left;
F.line = 139;F.filename = "ropes.nim";
asgnRefNoCycle((void**) &(*T_47192).Left, (*Y_47208).Right);
F.line = 140;F.filename = "ropes.nim";
asgnRefNoCycle((void**) &(*Y_47208).Right, T_47192);
F.line = 141;F.filename = "ropes.nim";
T_47192 = Y_47208;
LA8: ;
F.line = 142;F.filename = "ropes.nim";
if (!((*T_47192).Left == NIM_NIL)) goto LA11;
F.line = 142;F.filename = "ropes.nim";
goto LA1;
LA11: ;
F.line = 143;F.filename = "ropes.nim";
asgnRefNoCycle((void**) &(*R_47194).Left, T_47192);
F.line = 144;F.filename = "ropes.nim";
R_47194 = T_47192;
F.line = 145;F.filename = "ropes.nim";
T_47192 = (*T_47192).Left;
goto LA2;
LA3: ;
if (!(0 < C_47191)) goto LA13;
F.line = 147;F.filename = "ropes.nim";
LOC16 = !(((*T_47192).Right == NIM_NIL));
if (!(LOC16)) goto LA17;
LOC16 = (cmpStrings((*(*T_47192).Right).Data, S_47186) < 0);
LA17: ;
if (!LOC16) goto LA18;
Y_47233 = 0;
F.line = 148;F.filename = "ropes.nim";
Y_47233 = (*T_47192).Right;
F.line = 149;F.filename = "ropes.nim";
asgnRefNoCycle((void**) &(*T_47192).Right, (*Y_47233).Left);
F.line = 150;F.filename = "ropes.nim";
asgnRefNoCycle((void**) &(*Y_47233).Left, T_47192);
F.line = 151;F.filename = "ropes.nim";
T_47192 = Y_47233;
LA18: ;
F.line = 152;F.filename = "ropes.nim";
if (!((*T_47192).Right == NIM_NIL)) goto LA21;
F.line = 152;F.filename = "ropes.nim";
goto LA1;
LA21: ;
F.line = 153;F.filename = "ropes.nim";
asgnRefNoCycle((void**) &(*Le_47193).Right, T_47192);
F.line = 154;F.filename = "ropes.nim";
Le_47193 = T_47192;
F.line = 155;F.filename = "ropes.nim";
T_47192 = (*T_47192).Right;
goto LA2;
LA13: ;
F.line = 157;F.filename = "ropes.nim";
goto LA1;
LA2: ;
} LA1: ;
F.line = 158;F.filename = "ropes.nim";
(*Cmpres_47189) = C_47191;
F.line = 159;F.filename = "ropes.nim";
asgnRefNoCycle((void**) &(*Le_47193).Right, (*T_47192).Left);
F.line = 160;F.filename = "ropes.nim";
asgnRefNoCycle((void**) &(*R_47194).Left, (*T_47192).Right);
F.line = 161;F.filename = "ropes.nim";
asgnRefNoCycle((void**) &(*T_47192).Left, (*N_47130).Right);
F.line = 162;F.filename = "ropes.nim";
asgnRefNoCycle((void**) &(*T_47192).Right, (*N_47130).Left);
F.line = 163;F.filename = "ropes.nim";
Result_47190 = T_47192;
framePtr = framePtr->prev;
return Result_47190;
}
N_NIMCALL(TY47008*, Insertincache_47246)(NimStringDesc* S_47248, TY47008* Tree_47249) {
TY47008* Result_47250;
TY47008* T_47251;
NI Cmp_47275;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "insertInCache";
F.prev = framePtr;
F.filename = "rod/ropes.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_47250 = 0;
T_47251 = 0;
F.line = 168;F.filename = "ropes.nim";
T_47251 = Tree_47249;
F.line = 169;F.filename = "ropes.nim";
if (!(T_47251 == NIM_NIL)) goto LA2;
F.line = 170;F.filename = "ropes.nim";
Result_47250 = Newrope_47105(S_47248);
F.line = 171;F.filename = "ropes.nim";
if (!NIM_FALSE) goto LA5;
F.line = 171;F.filename = "ropes.nim";
Misses_47128 = addInt(Misses_47128, 1);
LA5: ;
F.line = 172;F.filename = "ropes.nim";
goto BeforeRet;
LA2: ;
Cmp_47275 = 0;
F.line = 174;F.filename = "ropes.nim";
T_47251 = Splay_47184(S_47248, T_47251, &Cmp_47275);
F.line = 175;F.filename = "ropes.nim";
if (!(Cmp_47275 == 0)) goto LA8;
F.line = 178;F.filename = "ropes.nim";
Result_47250 = T_47251;
F.line = 179;F.filename = "ropes.nim";
if (!NIM_FALSE) goto LA11;
F.line = 179;F.filename = "ropes.nim";
Hits_47129 = addInt(Hits_47129, 1);
LA11: ;
goto LA7;
LA8: ;
F.line = 181;F.filename = "ropes.nim";
if (!NIM_FALSE) goto LA14;
F.line = 181;F.filename = "ropes.nim";
Misses_47128 = addInt(Misses_47128, 1);
LA14: ;
F.line = 182;F.filename = "ropes.nim";
Result_47250 = Newrope_47105(S_47248);
F.line = 183;F.filename = "ropes.nim";
if (!(Cmp_47275 < 0)) goto LA17;
F.line = 184;F.filename = "ropes.nim";
asgnRefNoCycle((void**) &(*Result_47250).Left, (*T_47251).Left);
F.line = 185;F.filename = "ropes.nim";
asgnRefNoCycle((void**) &(*Result_47250).Right, T_47251);
F.line = 186;F.filename = "ropes.nim";
asgnRefNoCycle((void**) &(*T_47251).Left, NIM_NIL);
goto LA16;
LA17: ;
F.line = 189;F.filename = "ropes.nim";
asgnRefNoCycle((void**) &(*Result_47250).Right, (*T_47251).Right);
F.line = 190;F.filename = "ropes.nim";
asgnRefNoCycle((void**) &(*Result_47250).Left, T_47251);
F.line = 191;F.filename = "ropes.nim";
asgnRefNoCycle((void**) &(*T_47251).Right, NIM_NIL);
LA16: ;
LA7: ;
BeforeRet: ;
framePtr = framePtr->prev;
return Result_47250;
}
N_NIMCALL(NIM_BOOL, Ropeinvariant_47087)(TY47008* R_47089) {
NIM_BOOL Result_47308;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "RopeInvariant";
F.prev = framePtr;
F.filename = "rod/ropes.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_47308 = 0;
F.line = 194;F.filename = "ropes.nim";
if (!(R_47089 == NIM_NIL)) goto LA2;
F.line = 195;F.filename = "ropes.nim";
Result_47308 = NIM_TRUE;
goto LA1;
LA2: ;
F.line = 197;F.filename = "ropes.nim";
Result_47308 = NIM_TRUE;
LA1: ;
framePtr = framePtr->prev;
return Result_47308;
}
N_NIMCALL(TY47008*, Torope_47046)(NimStringDesc* S_47048) {
TY47008* Result_47323;
NIM_BOOL LOC6;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "toRope";
F.prev = framePtr;
F.filename = "rod/ropes.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_47323 = 0;
F.line = 207;F.filename = "ropes.nim";
if (!((S_47048) && (S_47048)->Sup.len == 0)) goto LA2;
F.line = 208;F.filename = "ropes.nim";
Result_47323 = NIM_NIL;
goto LA1;
LA2: ;
if (!NIM_TRUE) goto LA4;
F.line = 210;F.filename = "ropes.nim";
Result_47323 = Insertincache_47246(S_47048, Cache_47127);
F.line = 211;F.filename = "ropes.nim";
asgnRefNoCycle((void**) &Cache_47127, Result_47323);
goto LA1;
LA4: ;
F.line = 213;F.filename = "ropes.nim";
Result_47323 = Newrope_47105(S_47048);
LA1: ;
F.line = 214;F.filename = "ropes.nim";
LOC6 = Ropeinvariant_47087(Result_47323);
internalAssert("rod/ropes.nim", 214, LOC6);
framePtr = framePtr->prev;
return Result_47323;
}
static N_INLINE(NI, subInt)(NI A_6003, NI B_6004) {
NI Result_6005;
NIM_BOOL LOC2;
Result_6005 = 0;
Result_6005 = (NI64)((NU64)(A_6003) - (NU64)(B_6004));
LOC2 = (0 <= (NI64)(Result_6005 ^ A_6003));
if (LOC2) goto LA3;
LOC2 = (0 <= (NI64)(Result_6005 ^ (NI64)((NU64) ~(B_6004))));
LA3: ;
if (!LOC2) goto LA4;
goto BeforeRet;
LA4: ;
raiseOverflow();
BeforeRet: ;
return Result_6005;
}
N_NIMCALL(void, Ropeseqinsert_47324)(TY47010** Rs_47327, TY47008* R_47328, NI At_47329) {
NI Length_47340;
NI I_47389;
NI HEX3Atmp_47391;
NI Res_47393;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "RopeSeqInsert";
F.prev = framePtr;
F.filename = "rod/ropes.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Length_47340 = 0;
F.line = 217;F.filename = "ropes.nim";
Length_47340 = (*Rs_47327)->Sup.len;
F.line = 218;F.filename = "ropes.nim";
if (!(Length_47340 < ((NI) (At_47329)))) goto LA2;
F.line = 219;F.filename = "ropes.nim";
(*Rs_47327) = (TY47010*) setLengthSeq(&((*Rs_47327))->Sup, sizeof(TY47008*), addInt(((NI) (At_47329)), 1));
goto LA1;
LA2: ;
F.line = 221;F.filename = "ropes.nim";
(*Rs_47327) = (TY47010*) setLengthSeq(&((*Rs_47327))->Sup, sizeof(TY47008*), addInt(Length_47340, 1));
LA1: ;
I_47389 = 0;
HEX3Atmp_47391 = 0;
F.line = 222;F.filename = "ropes.nim";
HEX3Atmp_47391 = addInt(((NI) (At_47329)), 1);
Res_47393 = 0;
F.line = 1012;F.filename = "system.nim";
Res_47393 = Length_47340;
F.line = 1013;F.filename = "system.nim";
while (1) {
if (!(HEX3Atmp_47391 <= Res_47393)) goto LA4;
F.line = 1012;F.filename = "system.nim";
I_47389 = Res_47393;
F.line = 223;F.filename = "ropes.nim";
if ((NU)(I_47389) >= (NU)((*Rs_47327)->Sup.len)) raiseIndexError();
if ((NU)(subInt(I_47389, 1)) >= (NU)((*Rs_47327)->Sup.len)) raiseIndexError();
asgnRefNoCycle((void**) &(*Rs_47327)->data[I_47389], (*Rs_47327)->data[subInt(I_47389, 1)]);
F.line = 1015;F.filename = "system.nim";
Res_47393 = subInt(Res_47393, 1);
} LA4: ;
F.line = 224;F.filename = "ropes.nim";
if ((NU)(At_47329) >= (NU)((*Rs_47327)->Sup.len)) raiseIndexError();
asgnRefNoCycle((void**) &(*Rs_47327)->data[At_47329], R_47328);
framePtr = framePtr->prev;
}
N_NIMCALL(void, Recropetostr_47396)(NimStringDesc** Result_47399, NI* Resultlen_47401, TY47008* P_47402) {
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "recRopeToStr";
F.prev = framePtr;
F.filename = "rod/ropes.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
F.line = 227;F.filename = "ropes.nim";
if (!(P_47402 == NIM_NIL)) goto LA2;
F.line = 228;F.filename = "ropes.nim";
goto BeforeRet;
LA2: ;
F.line = 229;F.filename = "ropes.nim";
if (!((*P_47402).Data == NIM_NIL)) goto LA5;
F.line = 230;F.filename = "ropes.nim";
Recropetostr_47396(Result_47399, Resultlen_47401, (*P_47402).Left);
F.line = 231;F.filename = "ropes.nim";
Recropetostr_47396(Result_47399, Resultlen_47401, (*P_47402).Right);
goto LA4;
LA5: ;
F.line = 233;F.filename = "ropes.nim";
if ((NU)(addInt((*Resultlen_47401), 0)) > (NU)((*Result_47399)->Sup.len)) raiseIndexError();
if ((NU)(0) > (NU)((*P_47402).Data->Sup.len)) raiseIndexError();
memcpy(((void*) (&(*Result_47399)->data[addInt((*Resultlen_47401), 0)])), ((void*) (&(*P_47402).Data->data[0])), (*P_47402).Length);
F.line = 234;F.filename = "ropes.nim";
(*Resultlen_47401) = addInt((*Resultlen_47401), (*P_47402).Length);
F.line = 235;F.filename = "ropes.nim";
internalAssert("rod/ropes.nim", 235, ((*Resultlen_47401) <= (*Result_47399)->Sup.len));
LA4: ;
BeforeRet: ;
framePtr = framePtr->prev;
}
N_NIMCALL(void, Newrecropetostr_47432)(NimStringDesc** Result_47435, NI* Resultlen_47437, TY47008* R_47438) {
TY47010* Stack_47453;
TY47451 LOC1;
TY47008* It_47502;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "newRecRopeToStr";
F.prev = framePtr;
F.filename = "rod/ropes.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Stack_47453 = 0;
F.line = 238;F.filename = "ropes.nim";
Stack_47453 = (TY47010*) newSeq(NTI47010, 1);
memset((void*)&LOC1, 0, sizeof(LOC1));
LOC1[0] = R_47438;
asgnRefNoCycle((void**) &Stack_47453->data[0], LOC1[0]);
F.line = 239;F.filename = "ropes.nim";
while (1) {
if (!(0 < Stack_47453->Sup.len)) goto LA2;
It_47502 = 0;
F.line = 240;F.filename = "ropes.nim";
It_47502 = Pop_47471(&Stack_47453);
F.line = 241;F.filename = "ropes.nim";
while (1) {
if (!((*It_47502).Data == NIM_NIL)) goto LA3;
F.line = 242;F.filename = "ropes.nim";
Stack_47453 = (TY47010*) incrSeq(&(Stack_47453)->Sup, sizeof(TY47008*));
asgnRefNoCycle((void**) &Stack_47453->data[Stack_47453->Sup.len-1], (*It_47502).Right);
F.line = 243;F.filename = "ropes.nim";
It_47502 = (*It_47502).Left;
} LA3: ;
F.line = 244;F.filename = "ropes.nim";
internalAssert("rod/ropes.nim", 244, !(((*It_47502).Data == NIM_NIL)));
F.line = 245;F.filename = "ropes.nim";
if ((NU)((*Resultlen_47437)) > (NU)((*Result_47435)->Sup.len)) raiseIndexError();
if ((NU)(0) > (NU)((*It_47502).Data->Sup.len)) raiseIndexError();
memcpy(((void*) (&(*Result_47435)->data[(*Resultlen_47437)])), ((void*) (&(*It_47502).Data->data[0])), (*It_47502).Length);
F.line = 246;F.filename = "ropes.nim";
(*Resultlen_47437) = addInt((*Resultlen_47437), (*It_47502).Length);
F.line = 247;F.filename = "ropes.nim";
internalAssert("rod/ropes.nim", 247, ((*Resultlen_47437) <= (*Result_47435)->Sup.len));
} LA2: ;
framePtr = framePtr->prev;
}
N_NIMCALL(NimStringDesc*, Ropetostr_47066)(TY47008* P_47068) {
NimStringDesc* Result_47544;
NI Resultlen_47556;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "ropeToStr";
F.prev = framePtr;
F.filename = "rod/ropes.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_47544 = 0;
F.line = 250;F.filename = "ropes.nim";
if (!(P_47068 == NIM_NIL)) goto LA2;
F.line = 251;F.filename = "ropes.nim";
Result_47544 = copyString(((NimStringDesc*) &TMP47183));
goto LA1;
LA2: ;
F.line = 253;F.filename = "ropes.nim";
Result_47544 = mnewString((*P_47068).Length);
Resultlen_47556 = 0;
F.line = 254;F.filename = "ropes.nim";
Resultlen_47556 = 0;
F.line = 255;F.filename = "ropes.nim";
Newrecropetostr_47432(&Result_47544, &Resultlen_47556, P_47068);
LA1: ;
framePtr = framePtr->prev;
return Result_47544;
}
N_NIMCALL(TY47008*, Con_47015)(TY47008* A_47017, TY47008* B_47018) {
TY47008* Result_47563;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "con";
F.prev = framePtr;
F.filename = "rod/ropes.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_47563 = 0;
F.line = 258;F.filename = "ropes.nim";
if (!(A_47017 == NIM_NIL)) goto LA2;
F.line = 258;F.filename = "ropes.nim";
Result_47563 = B_47018;
goto LA1;
LA2: ;
if (!(B_47018 == NIM_NIL)) goto LA4;
F.line = 259;F.filename = "ropes.nim";
Result_47563 = A_47017;
goto LA1;
LA4: ;
F.line = 261;F.filename = "ropes.nim";
Result_47563 = Newrope_47105(NIM_NIL);
F.line = 262;F.filename = "ropes.nim";
(*Result_47563).Length = addInt((*A_47017).Length, (*B_47018).Length);
F.line = 263;F.filename = "ropes.nim";
asgnRefNoCycle((void**) &(*Result_47563).Left, A_47017);
F.line = 264;F.filename = "ropes.nim";
asgnRefNoCycle((void**) &(*Result_47563).Right, B_47018);
LA1: ;
framePtr = framePtr->prev;
return Result_47563;
}
N_NIMCALL(TY47008*, Con_47019)(TY47008* A_47021, NimStringDesc* B_47022) {
TY47008* Result_47590;
TY47008* LOC1;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "con";
F.prev = framePtr;
F.filename = "rod/ropes.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_47590 = 0;
F.line = 266;F.filename = "ropes.nim";
LOC1 = 0;
LOC1 = Torope_47046(B_47022);
Result_47590 = Con_47015(A_47021, LOC1);
framePtr = framePtr->prev;
return Result_47590;
}
N_NIMCALL(TY47008*, Con_47023)(NimStringDesc* A_47025, TY47008* B_47026) {
TY47008* Result_47595;
TY47008* LOC1;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "con";
F.prev = framePtr;
F.filename = "rod/ropes.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_47595 = 0;
F.line = 267;F.filename = "ropes.nim";
LOC1 = 0;
LOC1 = Torope_47046(A_47025);
Result_47595 = Con_47015(LOC1, B_47026);
framePtr = framePtr->prev;
return Result_47595;
}
N_NIMCALL(TY47008*, Con_47027)(TY47008** A_47030, NI A_47030Len0) {
TY47008* Result_47600;
NI I_47623;
NI HEX3Atmp_47625;
NI Res_47627;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "con";
F.prev = framePtr;
F.filename = "rod/ropes.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_47600 = 0;
I_47623 = 0;
HEX3Atmp_47625 = 0;
F.line = 270;F.filename = "ropes.nim";
HEX3Atmp_47625 = (A_47030Len0-1);
Res_47627 = 0;
F.line = 1021;F.filename = "system.nim";
Res_47627 = 0;
F.line = 1022;F.filename = "system.nim";
while (1) {
if (!(Res_47627 <= HEX3Atmp_47625)) goto LA1;
F.line = 1021;F.filename = "system.nim";
I_47623 = Res_47627;
F.line = 270;F.filename = "ropes.nim";
if ((NU)(I_47623) >= (NU)(A_47030Len0)) raiseIndexError();
Result_47600 = Con_47015(Result_47600, A_47030[I_47623]);
F.line = 1024;F.filename = "system.nim";
Res_47627 = addInt(Res_47627, 1);
} LA1: ;
framePtr = framePtr->prev;
return Result_47600;
}
N_NIMCALL(TY47008*, Torope_47052)(NI64 I_47054) {
TY47008* Result_47633;
NimStringDesc* LOC1;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "toRope";
F.prev = framePtr;
F.filename = "rod/ropes.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_47633 = 0;
F.line = 272;F.filename = "ropes.nim";
LOC1 = 0;
LOC1 = nimInt64ToStr(I_47054);
Result_47633 = Torope_47046(LOC1);
framePtr = framePtr->prev;
return Result_47633;
}
N_NIMCALL(TY47008*, Toropef_47049)(NF64 R_47051) {
TY47008* Result_47639;
NimStringDesc* LOC1;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "toRopeF";
F.prev = framePtr;
F.filename = "rod/ropes.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_47639 = 0;
F.line = 273;F.filename = "ropes.nim";
LOC1 = 0;
LOC1 = nimFloatToStr(((NF) (R_47051)));
Result_47639 = Torope_47046(LOC1);
framePtr = framePtr->prev;
return Result_47639;
}
N_NIMCALL(void, App_47031)(TY47008** A_47034, TY47008* B_47035) {
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "app";
F.prev = framePtr;
F.filename = "rod/ropes.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
F.line = 274;F.filename = "ropes.nim";
unsureAsgnRef((void**) &(*A_47034), Con_47015((*A_47034), B_47035));
framePtr = framePtr->prev;
}
N_NIMCALL(void, App_47036)(TY47008** A_47039, NimStringDesc* B_47040) {
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "app";
F.prev = framePtr;
F.filename = "rod/ropes.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
F.line = 275;F.filename = "ropes.nim";
unsureAsgnRef((void**) &(*A_47039), Con_47019((*A_47039), B_47040));
framePtr = framePtr->prev;
}
N_NIMCALL(void, Prepend_47041)(TY47008** A_47044, TY47008* B_47045) {
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "prepend";
F.prev = framePtr;
F.filename = "rod/ropes.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
F.line = 276;F.filename = "ropes.nim";
unsureAsgnRef((void**) &(*A_47044), Con_47015(B_47045, (*A_47044)));
framePtr = framePtr->prev;
}
N_NIMCALL(void, Writeroperec_47655)(FILE** F_47658, TY47008* C_47659) {
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "WriteRopeRec";
F.prev = framePtr;
F.filename = "rod/ropes.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
F.line = 279;F.filename = "ropes.nim";
if (!(C_47659 == NIM_NIL)) goto LA2;
F.line = 279;F.filename = "ropes.nim";
goto BeforeRet;
LA2: ;
F.line = 280;F.filename = "ropes.nim";
if (!!(((*C_47659).Data == NIM_NIL))) goto LA5;
F.line = 281;F.filename = "ropes.nim";
Write_3658((*F_47658), (*C_47659).Data);
goto LA4;
LA5: ;
F.line = 283;F.filename = "ropes.nim";
Writeroperec_47655(F_47658, (*C_47659).Left);
F.line = 284;F.filename = "ropes.nim";
Writeroperec_47655(F_47658, (*C_47659).Right);
LA4: ;
BeforeRet: ;
framePtr = framePtr->prev;
}
N_NIMCALL(void, Newwriteroperec_47671)(FILE** F_47674, TY47008* C_47675) {
TY47010* Stack_47690;
TY47451 LOC1;
TY47008* It_47715;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "newWriteRopeRec";
F.prev = framePtr;
F.filename = "rod/ropes.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Stack_47690 = 0;
F.line = 287;F.filename = "ropes.nim";
Stack_47690 = (TY47010*) newSeq(NTI47010, 1);
memset((void*)&LOC1, 0, sizeof(LOC1));
LOC1[0] = C_47675;
asgnRefNoCycle((void**) &Stack_47690->data[0], LOC1[0]);
F.line = 288;F.filename = "ropes.nim";
while (1) {
if (!(0 < Stack_47690->Sup.len)) goto LA2;
It_47715 = 0;
F.line = 289;F.filename = "ropes.nim";
It_47715 = Pop_47471(&Stack_47690);
F.line = 290;F.filename = "ropes.nim";
while (1) {
if (!((*It_47715).Data == NIM_NIL)) goto LA3;
F.line = 291;F.filename = "ropes.nim";
Stack_47690 = (TY47010*) incrSeq(&(Stack_47690)->Sup, sizeof(TY47008*));
asgnRefNoCycle((void**) &Stack_47690->data[Stack_47690->Sup.len-1], (*It_47715).Right);
F.line = 292;F.filename = "ropes.nim";
It_47715 = (*It_47715).Left;
F.line = 293;F.filename = "ropes.nim";
internalAssert("rod/ropes.nim", 293, !((It_47715 == NIM_NIL)));
} LA3: ;
F.line = 294;F.filename = "ropes.nim";
internalAssert("rod/ropes.nim", 294, !(((*It_47715).Data == NIM_NIL)));
F.line = 295;F.filename = "ropes.nim";
Write_3658((*F_47674), (*It_47715).Data);
} LA2: ;
framePtr = framePtr->prev;
}
N_NIMCALL(void, Writerope_47058)(TY47008* Head_47060, NimStringDesc* Filename_47061) {
FILE* F_47751;
NIM_BOOL LOC2;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "WriteRope";
F.prev = framePtr;
F.filename = "rod/ropes.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
F_47751 = 0;
F.line = 299;F.filename = "ropes.nim";
LOC2 = Open_3617(&F_47751, Filename_47061, ((NU8) 1), -1);
if (!LOC2) goto LA3;
F.line = 300;F.filename = "ropes.nim";
if (!!((Head_47060 == NIM_NIL))) goto LA6;
F.line = 300;F.filename = "ropes.nim";
Newwriteroperec_47671(&F_47751, Head_47060);
LA6: ;
F.line = 301;F.filename = "ropes.nim";
fclose(F_47751);
goto LA1;
LA3: ;
F.line = 303;F.filename = "ropes.nim";
Rawmessage_42553(((NU8) 2), Filename_47061);
LA1: ;
framePtr = framePtr->prev;
}
static N_INLINE(void, appendChar)(NimStringDesc* Dest_17409, NIM_CHAR C_17410) {
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "appendChar";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/system/sysstr.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
F.line = 154;F.filename = "sysstr.nim";
(*Dest_17409).data[((*Dest_17409).Sup.len)-0] = C_17410;
F.line = 155;F.filename = "sysstr.nim";
(*Dest_17409).data[((NI64)((*Dest_17409).Sup.len + 1))-0] = 0;
F.line = 156;F.filename = "sysstr.nim";
(*Dest_17409).Sup.len += 1;
framePtr = framePtr->prev;
}
N_NIMCALL(TY47008*, Ropef_47069)(NimStringDesc* Frmt_47071, TY47008** Args_47073, NI Args_47073Len0) {
TY47008* Result_47770;
NI I_47771;
NI J_47772;
NI Length_47773;
NI Start_47774;
NI Num_47775;
NIM_BOOL LOC7;
NimStringDesc* LOC14;
NimStringDesc* LOC15;
NimStringDesc* LOC16;
NimStringDesc* LOC24;
NIM_BOOL LOC25;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "ropef";
F.prev = framePtr;
F.filename = "rod/ropes.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_47770 = 0;
I_47771 = 0;
J_47772 = 0;
Length_47773 = 0;
Start_47774 = 0;
Num_47775 = 0;
F.line = 307;F.filename = "ropes.nim";
I_47771 = 0;
F.line = 308;F.filename = "ropes.nim";
Length_47773 = Frmt_47071->Sup.len;
F.line = 309;F.filename = "ropes.nim";
Result_47770 = NIM_NIL;
F.line = 310;F.filename = "ropes.nim";
Num_47775 = 0;
F.line = 311;F.filename = "ropes.nim";
while (1) {
if (!(I_47771 <= subInt(Length_47773, 1))) goto LA1;
F.line = 312;F.filename = "ropes.nim";
if ((NU)(I_47771) > (NU)(Frmt_47071->Sup.len)) raiseIndexError();
if (!((NU8)(Frmt_47071->data[I_47771]) == (NU8)(36))) goto LA3;
F.line = 313;F.filename = "ropes.nim";
I_47771 = addInt(I_47771, 1);
F.line = 314;F.filename = "ropes.nim";
if ((NU)(I_47771) > (NU)(Frmt_47071->Sup.len)) raiseIndexError();
switch (((NU8)(Frmt_47071->data[I_47771]))) {
case 36:
F.line = 316;F.filename = "ropes.nim";
App_47036(&Result_47770, ((NimStringDesc*) &TMP47920));
F.line = 317;F.filename = "ropes.nim";
I_47771 = addInt(I_47771, 1);
break;
case 35:
F.line = 319;F.filename = "ropes.nim";
I_47771 = addInt(I_47771, 1);
F.line = 320;F.filename = "ropes.nim";
if ((NU)(Num_47775) >= (NU)(Args_47073Len0)) raiseIndexError();
App_47031(&Result_47770, Args_47073[Num_47775]);
F.line = 321;F.filename = "ropes.nim";
Num_47775 = addInt(Num_47775, 1);
break;
case 48 ... 57:
F.line = 323;F.filename = "ropes.nim";
J_47772 = 0;
F.line = 324;F.filename = "ropes.nim";
while (1) {
F.line = 325;F.filename = "ropes.nim";
if ((NU)(I_47771) > (NU)(Frmt_47071->Sup.len)) raiseIndexError();
J_47772 = subInt(addInt(mulInt(J_47772, 10), ((NU8)(Frmt_47071->data[I_47771]))), 48);
F.line = 326;F.filename = "ropes.nim";
I_47771 = addInt(I_47771, 1);
F.line = 327;F.filename = "ropes.nim";
LOC7 = (subInt(addInt(Length_47773, 0), 1) < I_47771);
if (LOC7) goto LA8;
if ((NU)(I_47771) > (NU)(Frmt_47071->Sup.len)) raiseIndexError();
LOC7 = !((((NU8)(Frmt_47071->data[I_47771])) >= ((NU8)(48)) && ((NU8)(Frmt_47071->data[I_47771])) <= ((NU8)(57))));
LA8: ;
if (!LOC7) goto LA9;
F.line = 327;F.filename = "ropes.nim";
goto LA5;
LA9: ;
} LA5: ;
F.line = 328;F.filename = "ropes.nim";
Num_47775 = J_47772;
F.line = 329;F.filename = "ropes.nim";
if (!(addInt((Args_47073Len0-1), 1) < J_47772)) goto LA12;
F.line = 330;F.filename = "ropes.nim";
LOC14 = 0;
LOC15 = 0;
LOC15 = nimIntToStr(J_47772);
LOC14 = rawNewString(LOC15->Sup.len + 30);
appendString(LOC14, ((NimStringDesc*) &TMP47921));
appendString(LOC14, LOC15);
Internalerror_42571(LOC14);
LA12: ;
F.line = 331;F.filename = "ropes.nim";
if ((NU)(subInt(J_47772, 1)) >= (NU)(Args_47073Len0)) raiseIndexError();
App_47031(&Result_47770, Args_47073[subInt(J_47772, 1)]);
break;
case 78:
case 110:
F.line = 333;F.filename = "ropes.nim";
App_47036(&Result_47770, Tnl_46573);
F.line = 334;F.filename = "ropes.nim";
I_47771 = addInt(I_47771, 1);
break;
default:
F.line = 335;F.filename = "ropes.nim";
LOC16 = 0;
if ((NU)(I_47771) > (NU)(Frmt_47071->Sup.len)) raiseIndexError();
LOC16 = rawNewString(31);
appendString(LOC16, ((NimStringDesc*) &TMP47921));
appendChar(LOC16, Frmt_47071->data[I_47771]);
Internalerror_42571(LOC16);
break;
}
LA3: ;
F.line = 336;F.filename = "ropes.nim";
Start_47774 = I_47771;
F.line = 337;F.filename = "ropes.nim";
while (1) {
if (!(I_47771 <= subInt(Length_47773, 1))) goto LA17;
F.line = 338;F.filename = "ropes.nim";
if ((NU)(I_47771) > (NU)(Frmt_47071->Sup.len)) raiseIndexError();
if (!!(((NU8)(Frmt_47071->data[I_47771]) == (NU8)(36)))) goto LA19;
F.line = 338;F.filename = "ropes.nim";
I_47771 = addInt(I_47771, 1);
goto LA18;
LA19: ;
F.line = 339;F.filename = "ropes.nim";
goto LA17;
LA18: ;
} LA17: ;
F.line = 340;F.filename = "ropes.nim";
if (!(Start_47774 <= subInt(I_47771, 1))) goto LA22;
F.line = 341;F.filename = "ropes.nim";
LOC24 = 0;
LOC24 = copyStrLast(Frmt_47071, Start_47774, subInt(I_47771, 1));
App_47036(&Result_47770, LOC24);
LA22: ;
} LA1: ;
F.line = 342;F.filename = "ropes.nim";
LOC25 = Ropeinvariant_47087(Result_47770);
internalAssert("rod/ropes.nim", 342, LOC25);
framePtr = framePtr->prev;
return Result_47770;
}
N_NIMCALL(void, Appf_47074)(TY47008** C_47077, NimStringDesc* Frmt_47078, TY47008** Args_47080, NI Args_47080Len0) {
TY47008* LOC1;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "appf";
F.prev = framePtr;
F.filename = "rod/ropes.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
F.line = 345;F.filename = "ropes.nim";
LOC1 = 0;
LOC1 = Ropef_47069(Frmt_47078, Args_47080, Args_47080Len0);
App_47031(C_47077, LOC1);
framePtr = framePtr->prev;
}
N_NIMCALL(NIM_BOOL, Auxropeequalsfile_47930)(TY47008* R_47932, FILE** Bin_47934, void* Buf_47935) {
NIM_BOOL Result_47936;
NI Readbytes_47939;
NIM_BOOL LOC7;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "auxRopeEqualsFile";
F.prev = framePtr;
F.filename = "rod/ropes.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_47936 = 0;
F.line = 351;F.filename = "ropes.nim";
if (!!(((*R_47932).Data == NIM_NIL))) goto LA2;
F.line = 352;F.filename = "ropes.nim";
if (!(1024 < (*R_47932).Length)) goto LA5;
F.line = 353;F.filename = "ropes.nim";
Internalerror_42571(((NimStringDesc*) &TMP47943));
LA5: ;
Readbytes_47939 = 0;
F.line = 354;F.filename = "ropes.nim";
Readbytes_47939 = Readbuffer_3714((*Bin_47934), Buf_47935, (*R_47932).Length);
F.line = 355;F.filename = "ropes.nim";
LOC7 = (Readbytes_47939 == (*R_47932).Length);
if (!(LOC7)) goto LA8;
if ((NU)(0) > (NU)((*R_47932).Data->Sup.len)) raiseIndexError();
LOC7 = equalMem(Buf_47935, ((void*) (&(*R_47932).Data->data[0])), (*R_47932).Length);
LA8: ;
Result_47936 = LOC7;
goto LA1;
LA2: ;
F.line = 358;F.filename = "ropes.nim";
Result_47936 = Auxropeequalsfile_47930((*R_47932).Left, Bin_47934, Buf_47935);
F.line = 359;F.filename = "ropes.nim";
if (!Result_47936) goto LA10;
F.line = 359;F.filename = "ropes.nim";
Result_47936 = Auxropeequalsfile_47930((*R_47932).Right, Bin_47934, Buf_47935);
LA10: ;
LA1: ;
framePtr = framePtr->prev;
return Result_47936;
}
N_NIMCALL(NIM_BOOL, Ropeequalsfile_47083)(TY47008* R_47085, NimStringDesc* F_47086) {
NIM_BOOL Result_47948;
FILE* Bin_47949;
void* Buf_47951;
NI LOC7;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "RopeEqualsFile";
F.prev = framePtr;
F.filename = "rod/ropes.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_47948 = 0;
Bin_47949 = 0;
F.line = 363;F.filename = "ropes.nim";
Result_47948 = Open_3617(&Bin_47949, F_47086, ((NU8) 0), -1);
F.line = 364;F.filename = "ropes.nim";
if (!!(Result_47948)) goto LA2;
F.line = 365;F.filename = "ropes.nim";
goto BeforeRet;
LA2: ;
Buf_47951 = 0;
F.line = 366;F.filename = "ropes.nim";
Buf_47951 = Alloc_1950(1024);
F.line = 367;F.filename = "ropes.nim";
Result_47948 = Auxropeequalsfile_47930(R_47085, &Bin_47949, Buf_47951);
F.line = 368;F.filename = "ropes.nim";
if (!Result_47948) goto LA5;
F.line = 369;F.filename = "ropes.nim";
LOC7 = Readbuffer_3714(Bin_47949, Buf_47951, 1024);
Result_47948 = (LOC7 == 0);
LA5: ;
F.line = 370;F.filename = "ropes.nim";
Dealloc_1960(Buf_47951);
F.line = 371;F.filename = "ropes.nim";
fclose(Bin_47949);
BeforeRet: ;
framePtr = framePtr->prev;
return Result_47948;
}
static N_INLINE(NI, chckRange)(NI I_4610, NI A_4611, NI B_4612) {
NI Result_5516;
NIM_BOOL LOC2;
Result_5516 = 0;
LOC2 = (A_4611 <= I_4610);
if (!(LOC2)) goto LA3;
LOC2 = (I_4610 <= B_4612);
LA3: ;
if (!LOC2) goto LA4;
Result_5516 = I_4610;
goto BeforeRet;
goto LA1;
LA4: ;
raiseRangeError(((NI64) (I_4610)));
LA1: ;
BeforeRet: ;
return Result_5516;
}
static N_INLINE(NI32, Updatecrc32_45014)(NI8 Val_45016, NI32 Crc_45017) {
NI32 Result_45048;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "updateCrc32";
F.prev = framePtr;
F.filename = "rod/crc.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_45048 = 0;
F.line = 78;F.filename = "crc.nim";
if ((NU)((NI64)((NI64)(((NI) (Crc_45017)) ^ (NI64)(((NI) (Val_45016)) & 255)) & 255)) > (NU)(255)) raiseIndexError();
Result_45048 = (NI32)(((NI32)chckRange(Crc32table_45039[((NI64)((NI64)(((NI) (Crc_45017)) ^ (NI64)(((NI) (Val_45016)) & 255)) & 255))-0], ((NI32) (-2147483647 -1)), ((NI32) 2147483647))) ^ (NI32)((NU32)(Crc_45017) >> (NU32)(((NI32) 8))));
framePtr = framePtr->prev;
return Result_45048;
}
static N_INLINE(NI32, Updatecrc32_45018)(NIM_CHAR Val_45020, NI32 Crc_45021) {
NI32 Result_45053;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "updateCrc32";
F.prev = framePtr;
F.filename = "rod/crc.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_45053 = 0;
F.line = 82;F.filename = "crc.nim";
Result_45053 = Updatecrc32_45014(((NI8)chckRange(((NU8)(Val_45020)), ((NI8) -128), ((NI8) 127))), Crc_45021);
framePtr = framePtr->prev;
return Result_45053;
}
N_NIMCALL(NI32, Crcfromropeaux_47955)(TY47008* R_47957, NI32 Startval_47958) {
NI32 Result_47959;
NI I_47969;
NI HEX3Atmp_47971;
NI Res_47973;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "crcFromRopeAux";
F.prev = framePtr;
F.filename = "rod/ropes.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_47959 = 0;
F.line = 374;F.filename = "ropes.nim";
if (!!(((*R_47957).Data == NIM_NIL))) goto LA2;
F.line = 375;F.filename = "ropes.nim";
Result_47959 = Startval_47958;
I_47969 = 0;
HEX3Atmp_47971 = 0;
F.line = 376;F.filename = "ropes.nim";
HEX3Atmp_47971 = subInt((*R_47957).Data->Sup.len, 1);
Res_47973 = 0;
F.line = 1021;F.filename = "system.nim";
Res_47973 = 0;
F.line = 1022;F.filename = "system.nim";
while (1) {
if (!(Res_47973 <= HEX3Atmp_47971)) goto LA4;
F.line = 1021;F.filename = "system.nim";
I_47969 = Res_47973;
F.line = 377;F.filename = "ropes.nim";
if ((NU)(I_47969) > (NU)((*R_47957).Data->Sup.len)) raiseIndexError();
Result_47959 = Updatecrc32_45018((*R_47957).Data->data[I_47969], Result_47959);
F.line = 1024;F.filename = "system.nim";
Res_47973 = addInt(Res_47973, 1);
} LA4: ;
goto LA1;
LA2: ;
F.line = 379;F.filename = "ropes.nim";
Result_47959 = Crcfromropeaux_47955((*R_47957).Left, Startval_47958);
F.line = 380;F.filename = "ropes.nim";
Result_47959 = Crcfromropeaux_47955((*R_47957).Right, Result_47959);
LA1: ;
framePtr = framePtr->prev;
return Result_47959;
}
N_NIMCALL(NI32, Newcrcfromropeaux_47976)(TY47008* R_47978, NI32 Startval_47979) {
NI32 Result_47980;
TY47010* Stack_47995;
TY47451 LOC1;
TY47008* It_48020;
NI I_48039;
NI L_48042;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "newCrcFromRopeAux";
F.prev = framePtr;
F.filename = "rod/ropes.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_47980 = 0;
Stack_47995 = 0;
F.line = 383;F.filename = "ropes.nim";
Stack_47995 = (TY47010*) newSeq(NTI47010, 1);
memset((void*)&LOC1, 0, sizeof(LOC1));
LOC1[0] = R_47978;
asgnRefNoCycle((void**) &Stack_47995->data[0], LOC1[0]);
F.line = 384;F.filename = "ropes.nim";
Result_47980 = Startval_47979;
F.line = 385;F.filename = "ropes.nim";
while (1) {
if (!(0 < Stack_47995->Sup.len)) goto LA2;
It_48020 = 0;
F.line = 386;F.filename = "ropes.nim";
It_48020 = Pop_47471(&Stack_47995);
F.line = 387;F.filename = "ropes.nim";
while (1) {
if (!((*It_48020).Data == NIM_NIL)) goto LA3;
F.line = 388;F.filename = "ropes.nim";
Stack_47995 = (TY47010*) incrSeq(&(Stack_47995)->Sup, sizeof(TY47008*));
asgnRefNoCycle((void**) &Stack_47995->data[Stack_47995->Sup.len-1], (*It_48020).Right);
F.line = 389;F.filename = "ropes.nim";
It_48020 = (*It_48020).Left;
} LA3: ;
F.line = 390;F.filename = "ropes.nim";
internalAssert("rod/ropes.nim", 390, !(((*It_48020).Data == NIM_NIL)));
I_48039 = 0;
F.line = 391;F.filename = "ropes.nim";
I_48039 = 0;
L_48042 = 0;
F.line = 392;F.filename = "ropes.nim";
L_48042 = (*It_48020).Data->Sup.len;
F.line = 393;F.filename = "ropes.nim";
while (1) {
if (!(I_48039 < L_48042)) goto LA4;
F.line = 394;F.filename = "ropes.nim";
if ((NU)(I_48039) > (NU)((*It_48020).Data->Sup.len)) raiseIndexError();
Result_47980 = Updatecrc32_45018((*It_48020).Data->data[I_48039], Result_47980);
F.line = 395;F.filename = "ropes.nim";
I_48039 = addInt(I_48039, 1);
} LA4: ;
} LA2: ;
framePtr = framePtr->prev;
return Result_47980;
}
N_NIMCALL(NI32, Crcfromrope_48060)(TY47008* R_48062) {
NI32 Result_48063;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "crcFromRope";
F.prev = framePtr;
F.filename = "rod/ropes.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_48063 = 0;
F.line = 398;F.filename = "ropes.nim";
Result_48063 = Newcrcfromropeaux_47976(R_48062, ((NI32) -1));
framePtr = framePtr->prev;
return Result_48063;
}
N_NIMCALL(NIM_BOOL, Writeropeifnotequal_47062)(TY47008* R_47064, NimStringDesc* Filename_47065) {
NIM_BOOL Result_48068;
NI32 C_48069;
NI32 LOC2;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "writeRopeIfNotEqual";
F.prev = framePtr;
F.filename = "rod/ropes.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_48068 = 0;
C_48069 = 0;
F.line = 403;F.filename = "ropes.nim";
C_48069 = Crcfromfile_45029(Filename_47065);
F.line = 404;F.filename = "ropes.nim";
LOC2 = Crcfromrope_48060(R_47064);
if (!!((C_48069 == LOC2))) goto LA3;
F.line = 405;F.filename = "ropes.nim";
Writerope_47058(R_47064, Filename_47065);
F.line = 406;F.filename = "ropes.nim";
Result_48068 = NIM_TRUE;
goto LA1;
LA3: ;
F.line = 408;F.filename = "ropes.nim";
Result_48068 = NIM_FALSE;
LA1: ;
framePtr = framePtr->prev;
return Result_48068;
}
N_NIMCALL(TY47008*, Pop_47471)(TY47010** S_47476) {
TY47008* Result_47477;
NI L_47488;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "pop";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/system.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_47477 = 0;
L_47488 = 0;
F.line = 1166;F.filename = "system.nim";
L_47488 = subInt((*S_47476)->Sup.len, 1);
F.line = 1167;F.filename = "system.nim";
if ((NU)(L_47488) >= (NU)((*S_47476)->Sup.len)) raiseIndexError();
Result_47477 = (*S_47476)->data[L_47488];
F.line = 1168;F.filename = "system.nim";
(*S_47476) = (TY47010*) setLengthSeq(&((*S_47476))->Sup, sizeof(TY47008*), L_47488);
framePtr = framePtr->prev;
return Result_47477;
}
N_NOINLINE(void, ropesInit)(void) {
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "ropes";
F.prev = framePtr;
F.filename = "rod/ropes.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
F.line = 410;F.filename = "ropes.nim";
asgnRefNoCycle((void**) &N_47130, (TY47008*) newObj(NTI47006, sizeof(TY47008)));
(*N_47130).Sup.m_type = NTI47008;
framePtr = framePtr->prev;
}

