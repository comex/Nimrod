/* Generated by Nimrod Compiler v0.8.9 */
/*   (c) 2010 Andreas Rumpf */

typedef long long int NI;
typedef unsigned long long int NU;
#include "nimbase.h"

typedef struct TY64008 TY64008;
typedef struct NimStringDesc NimStringDesc;
typedef struct TGenericSeq TGenericSeq;
typedef struct TY10202 TY10202;
typedef struct TNimType TNimType;
typedef struct TY10218 TY10218;
typedef struct TY10590 TY10590;
typedef struct TY10214 TY10214;
typedef struct TY10210 TY10210;
typedef struct TY10588 TY10588;
typedef struct TY37019 TY37019;
typedef struct TNimNode TNimNode;
typedef struct TY37013 TY37013;
typedef struct TY32515 TY32515;
typedef struct TY45036 TY45036;
typedef struct TY46008 TY46008;
typedef struct TY37015 TY37015;
typedef struct TNimObject TNimObject;
typedef struct TY33221 TY33221;
struct TGenericSeq {
NI len;
NI space;
};
typedef NIM_CHAR TY239[100000001];
struct NimStringDesc {
  TGenericSeq Sup;
TY239 data;
};
struct TY64008 {
NimStringDesc* Name;
NimStringDesc* Objext;
NimStringDesc* Optspeed;
NimStringDesc* Optsize;
NimStringDesc* Compilerexe;
NimStringDesc* Compiletmpl;
NimStringDesc* Buildgui;
NimStringDesc* Builddll;
NimStringDesc* Linkerexe;
NimStringDesc* Linktmpl;
NimStringDesc* Includecmd;
NimStringDesc* Debug;
NimStringDesc* Pic;
NimStringDesc* Asmstmtfrmt;
NU8 Props;
};
typedef TY64008 TY64042[12];
struct TY10202 {
NI Refcount;
TNimType* Typ;
};
struct TY10218 {
NI Len;
NI Cap;
TY10202** D;
};
struct TY10214 {
NI Counter;
NI Max;
TY10210* Head;
TY10210** Data;
};
struct TY10588 {
NI Stackscans;
NI Cyclecollections;
NI Maxthreshold;
NI Maxstacksize;
NI Maxstackcells;
NI Cycletablesize;
};
struct TY10590 {
TY10218 Zct;
TY10218 Decstack;
TY10214 Cycleroots;
TY10218 Tempstack;
TY10588 Stat;
};
struct TNimType {
NI size;
NU8 kind;
NU8 flags;
TNimType* base;
TNimNode* node;
void* finalizer;
};
struct TY37019 {
TNimType* m_type;
TY37013* Head;
TY37013* Tail;
NI Counter;
};
struct TNimNode {
NU8 kind;
NI offset;
TNimType* typ;
NCSTRING name;
NI len;
TNimNode** sons;
};
struct TY32515 {
NimStringDesc* Dir;
NimStringDesc* Name;
NimStringDesc* Ext;
};
struct TY45036 {
NimStringDesc* Name;
NimStringDesc* Pardir;
NimStringDesc* Dllfrmt;
NimStringDesc* Altdirsep;
NimStringDesc* Objext;
NimStringDesc* Newline;
NimStringDesc* Pathsep;
NimStringDesc* Dirsep;
NimStringDesc* Scriptext;
NimStringDesc* Curdir;
NimStringDesc* Exeext;
NimStringDesc* Extsep;
NU8 Props;
};
typedef TY45036 TY45054[21];
typedef NimStringDesc* TY64880[12];
typedef TY46008* TY46446[1];
struct TNimObject {
TNimType* m_type;
};
struct TY37013 {
  TNimObject Sup;
TY37013* Prev;
TY37013* Next;
};
struct TY37015 {
  TY37013 Sup;
NimStringDesc* Data;
};
typedef NimStringDesc* TY40349[1];
typedef NimStringDesc* TY41865[1];
typedef NimStringDesc* TY65187[14];
typedef NI TY8214[8];
struct TY10210 {
TY10210* Next;
NI Key;
TY8214 Bits;
};
struct TY46008 {
  TNimObject Sup;
TY46008* Left;
TY46008* Right;
NI Length;
NimStringDesc* Data;
};
struct TY33221 {
  TGenericSeq Sup;
  NimStringDesc* data[SEQ_DECL_SIZE];
};
static N_INLINE(void, asgnRefNoCycle)(void** Dest_11416, void* Src_11417);
static N_INLINE(TY10202*, Usrtocell_10622)(void* Usr_10624);
static N_INLINE(void, Rtladdzct_11256)(TY10202* C_11258);
N_NOINLINE(void, Addzct_10611)(TY10218* S_10614, TY10202* C_10615);
N_NIMCALL(NimStringDesc*, copyString)(NimStringDesc* Src_16908);
N_NIMCALL(NIM_BOOL, Externalfilechanged_64604)(NimStringDesc* Filename_64606);
N_NIMCALL(NimStringDesc*, Togeneratedfile_40103)(NimStringDesc* Path_40105, NimStringDesc* Ext_40106);
N_NIMCALL(NI32, Crcfromfile_44029)(NimStringDesc* Filename_44031);
N_NIMCALL(NIM_BOOL, Open_3617)(FILE** F_3620, NimStringDesc* Filename_3621, NU8 Mode_3622, NI Bufsize_3623);
N_NIMCALL(NimStringDesc*, Readline_3679)(FILE* F_3681);
N_NIMCALL(NI, nsuParseInt)(NimStringDesc* S_23504);
N_NIMCALL(NimStringDesc*, nimIntToStr)(NI X_17603);
N_NIMCALL(void, Appendstr_37061)(TY37019* List_37064, NimStringDesc* Data_37065);
N_NIMCALL(NimStringDesc*, nosChangeFileExt)(NimStringDesc* Filename_32820, NimStringDesc* Ext_32821);
N_NIMCALL(void, Prependstr_37071)(TY37019* List_37074, NimStringDesc* Data_37075);
N_NIMCALL(NimStringDesc*, Completegeneratedfilepath_40099)(NimStringDesc* F_40101, NIM_BOOL Createsubdir_40102);
N_NIMCALL(NI, nsuFindStr)(NimStringDesc* S_24219, NimStringDesc* Sub_24220, NI Start_24221);
N_NIMCALL(void, Addopt_64571)(NimStringDesc** Dest_64574, NimStringDesc* Src_64575);
static N_INLINE(void, appendString)(NimStringDesc* Dest_16992, NimStringDesc* Src_16993);
N_NIMCALL(NimStringDesc*, resizeString)(NimStringDesc* Dest_16982, NI Addlen_16983);
N_NIMCALL(NU8, Nametocc_64376)(NimStringDesc* Name_64378);
N_NIMCALL(NI, nsuCmpIgnoreStyle)(NimStringDesc* A_22638, NimStringDesc* B_22639);
N_NIMCALL(void, Rawmessage_41553)(NU8 Msg_41555, NimStringDesc* Arg_41556);
N_NIMCALL(NimStringDesc*, Getconfigvar_40133)(NimStringDesc* Key_40135);
N_NIMCALL(NimStringDesc*, rawNewString)(NI Space_16887);
N_NIMCALL(void, Undefsymbol_57056)(NimStringDesc* Symbol_57058);
N_NIMCALL(void, Definesymbol_57053)(NimStringDesc* Symbol_57055);
N_NIMCALL(void, Addcompileoption_64361)(NimStringDesc* Option_64363);
N_NIMCALL(void, Addlinkoption_64364)(NimStringDesc* Option_64366);
N_NIMCALL(void, nossplitFile)(NimStringDesc* Path_32514, TY32515* Result);
N_NIMCALL(NIM_BOOL, Existsconfigvar_40130)(NimStringDesc* Key_40132);
N_NIMCALL(NimStringDesc*, Getdebug_64695)(NU8 C_64697);
N_NIMCALL(NimStringDesc*, Getoptspeed_64683)(NU8 C_64685);
N_NIMCALL(NimStringDesc*, Getoptsize_64707)(NU8 C_64709);
N_NIMCALL(NimStringDesc*, nosaddFileExt)(NimStringDesc* Filename_32844, NimStringDesc* Ext_32845);
static N_INLINE(void, appendChar)(NimStringDesc* Dest_17009, NIM_CHAR C_17010);
N_NIMCALL(NimStringDesc*, Quoteifcontainswhite_24283)(NimStringDesc* S_24285);
N_NIMCALL(NimStringDesc*, nosJoinPath)(NimStringDesc* Head_32203, NimStringDesc* Tail_32204);
N_NIMCALL(NimStringDesc*, nosextractFilename)(NimStringDesc* Path_32585);
N_NIMCALL(NimStringDesc*, Toobjfile_64367)(NimStringDesc* Filenamewithoutext_64369);
N_NIMCALL(NimStringDesc*, Completecfilepath_64344)(NimStringDesc* Cfile_64346, NIM_BOOL Createsubdir_64347);
N_NIMCALL(NimStringDesc*, nsuFormatOpenArray)(NimStringDesc* Formatstr_22965, NimStringDesc** A_22967, NI A_22967Len0);
N_NIMCALL(NimStringDesc*, Getprefixdir_40107)(void);
N_NIMCALL(NimStringDesc*, addChar)(NimStringDesc* S_1603, NIM_CHAR C_1604);
N_NIMCALL(void, nsuAddf)(NimStringDesc** S_22741, NimStringDesc* Formatstr_22742, NimStringDesc** A_22744, NI A_22744Len0);
N_NIMCALL(TY46008*, Torope_46046)(NimStringDesc* S_46048);
N_NIMCALL(void, App_46031)(TY46008** A_46034, TY46008* B_46035);
N_NIMCALL(TY46008*, Genmappingfiles_65225)(TY37019* List_65227);
N_NIMCALL(void, Appf_46074)(TY46008** C_46077, NimStringDesc* Frmt_46078, TY46008** Args_46080, NI Args_46080Len0);
N_NIMCALL(void, Writerope_46058)(TY46008* Head_46060, NimStringDesc* Filename_46061);
N_NIMCALL(void*, newSeq)(TNimType* Typ_12403, NI Len_12404);
N_NIMCALL(void, Compilecfile_64887)(TY37019* List_64889, TY46008** Script_64891, TY33221** Cmds_64893, NIM_BOOL Isexternal_64894);
N_NIMCALL(NimStringDesc*, Getcompilecfilecmd_64348)(NimStringDesc* Cfilename_64350, NIM_BOOL Isexternal_64351);
N_NIMCALL(TGenericSeq*, incrSeq)(TGenericSeq* Seq_17035, NI Elemsize_17036);
N_NIMCALL(void, App_46036)(TY46008** A_46039, NimStringDesc* B_46040);
N_NIMCALL(NI, nospcountProcessors)(void);
N_NIMCALL(NI, nospexecCmd)(NimStringDesc* Command_61232);
N_NIMCALL(NI, nospexecProcesses)(NimStringDesc** Cmds_61688, NI Cmds_61688Len0, NU8 Options_61690, NI N_61691);
N_NIMCALL(void, Rawmessage_41557)(NU8 Msg_41559, NimStringDesc** Args_41561, NI Args_41561Len0);
N_NIMCALL(void, Execexternalprogram_64373)(NimStringDesc* Cmd_64375);
N_NIMCALL(void, Messageout_41550)(NimStringDesc* S_41552);
N_NIMCALL(void, Generatescript_64668)(NimStringDesc* Projectfile_64670, TY46008* Script_64671);
N_NIMCALL(NimStringDesc*, HEX2F_32318)(NimStringDesc* Head_32320, NimStringDesc* Tail_32321);
N_NIMCALL(void, Writeln_64626)(FILE* F_64629, NimStringDesc* X_64630);
N_NIMCALL(void, Write_3658)(FILE* F_3660, NimStringDesc* S_3661);
STRING_LITERAL(TMP64262, "gcc", 3);
STRING_LITERAL(TMP64263, "o", 1);
STRING_LITERAL(TMP64264, " -O3 -ffast-math ", 17);
STRING_LITERAL(TMP64265, " -Os -ffast-math ", 17);
STRING_LITERAL(TMP64266, "-c $options $include -o $objfile $file", 38);
STRING_LITERAL(TMP64267, " -mwindows", 10);
STRING_LITERAL(TMP64268, " -shared", 8);
STRING_LITERAL(TMP64269, "$options $buildgui $builddll -o $exefile $objfiles", 50);
STRING_LITERAL(TMP64270, " -I", 3);
STRING_LITERAL(TMP64271, "", 0);
STRING_LITERAL(TMP64272, "-fPIC", 5);
STRING_LITERAL(TMP64273, "asm($1);$n", 10);
STRING_LITERAL(TMP64274, "llvm_gcc", 8);
STRING_LITERAL(TMP64275, "llvm-gcc", 8);
STRING_LITERAL(TMP64276, "lcc", 3);
STRING_LITERAL(TMP64277, "obj", 3);
STRING_LITERAL(TMP64278, " -O -p6 ", 8);
STRING_LITERAL(TMP64279, "$options $include -Fo$objfile $file", 35);
STRING_LITERAL(TMP64280, " -subsystem windows", 19);
STRING_LITERAL(TMP64281, " -dll", 5);
STRING_LITERAL(TMP64282, "lcclnk", 6);
STRING_LITERAL(TMP64283, "$options $buildgui $builddll -O $exefile $objfiles", 50);
STRING_LITERAL(TMP64284, " -g5 ", 5);
STRING_LITERAL(TMP64285, "_asm{$n$1$n}$n", 14);
STRING_LITERAL(TMP64286, "bcc", 3);
STRING_LITERAL(TMP64287, " -O2 -6 ", 8);
STRING_LITERAL(TMP64288, " -O1 -6 ", 8);
STRING_LITERAL(TMP64289, "bcc32", 5);
STRING_LITERAL(TMP64290, "-c $options $include -o$objfile $file", 37);
STRING_LITERAL(TMP64291, " -tW", 4);
STRING_LITERAL(TMP64292, " -tWD", 5);
STRING_LITERAL(TMP64293, "$options $buildgui $builddll -e$exefile $objfiles", 49);
STRING_LITERAL(TMP64294, "__asm{$n$1$n}$n", 15);
STRING_LITERAL(TMP64295, "dmc", 3);
STRING_LITERAL(TMP64296, " -ff -o -6 ", 11);
STRING_LITERAL(TMP64297, " -L/exet:nt/su:windows", 22);
STRING_LITERAL(TMP64298, " -WD", 4);
STRING_LITERAL(TMP64299, "$options $buildgui $builddll -o$exefile $objfiles", 49);
STRING_LITERAL(TMP64300, " -g ", 4);
STRING_LITERAL(TMP64301, "wcc", 3);
STRING_LITERAL(TMP64302, " -ox -on -6 -d0 -fp6 -zW ", 25);
STRING_LITERAL(TMP64303, "wcl386", 6);
STRING_LITERAL(TMP64304, "-c $options $include -fo=$objfile $file", 39);
STRING_LITERAL(TMP64305, " -bw", 4);
STRING_LITERAL(TMP64306, " -bd", 4);
STRING_LITERAL(TMP64307, "$options $buildgui $builddll -fe=$exefile $objfiles ", 52);
STRING_LITERAL(TMP64308, " -i=", 4);
STRING_LITERAL(TMP64309, " -d2 ", 5);
STRING_LITERAL(TMP64310, "vcc", 3);
STRING_LITERAL(TMP64311, " /Ogityb2 /G7 /arch:SSE2 ", 25);
STRING_LITERAL(TMP64312, " /O1 /G7 ", 9);
STRING_LITERAL(TMP64313, "cl", 2);
STRING_LITERAL(TMP64314, "/c $options $include /Fo$objfile $file", 38);
STRING_LITERAL(TMP64315, " /link /SUBSYSTEM:WINDOWS ", 26);
STRING_LITERAL(TMP64316, " /LD", 4);
STRING_LITERAL(TMP64317, "$options $builddll /Fe$exefile $objfiles $buildgui", 50);
STRING_LITERAL(TMP64318, " /I", 3);
STRING_LITERAL(TMP64319, " /GZ /Zi ", 9);
STRING_LITERAL(TMP64320, "tcc", 3);
STRING_LITERAL(TMP64321, "UNAVAILABLE!", 12);
STRING_LITERAL(TMP64322, "-o $exefile $options $buildgui $builddll $objfiles", 50);
STRING_LITERAL(TMP64323, "pcc", 3);
STRING_LITERAL(TMP64324, " -Ox ", 5);
STRING_LITERAL(TMP64325, " -Os ", 5);
STRING_LITERAL(TMP64326, "cc", 2);
STRING_LITERAL(TMP64327, "-c $options $include -Fo$objfile $file", 38);
STRING_LITERAL(TMP64328, " -SUBSYSTEM:WINDOWS", 19);
STRING_LITERAL(TMP64329, " -DLL", 5);
STRING_LITERAL(TMP64330, "$options $buildgui $builddll -OUT:$exefile $objfiles", 52);
STRING_LITERAL(TMP64331, " -Zi ", 5);
STRING_LITERAL(TMP64332, "ucc", 3);
STRING_LITERAL(TMP64333, " -O3 ", 5);
STRING_LITERAL(TMP64334, " -O1 ", 5);
STRING_LITERAL(TMP64335, " -shared ", 9);
STRING_LITERAL(TMP64336, "icc", 3);
STRING_LITERAL(TMP64337, " -mdll", 6);
STRING_LITERAL(TMP64338, "gpp", 3);
STRING_LITERAL(TMP64339, "g++", 3);
NIM_CONST TY64042 Cc_64041 = {{((NimStringDesc*) &TMP64262),
((NimStringDesc*) &TMP64263),
((NimStringDesc*) &TMP64264),
((NimStringDesc*) &TMP64265),
((NimStringDesc*) &TMP64262),
((NimStringDesc*) &TMP64266),
((NimStringDesc*) &TMP64267),
((NimStringDesc*) &TMP64268),
((NimStringDesc*) &TMP64262),
((NimStringDesc*) &TMP64269),
((NimStringDesc*) &TMP64270),
((NimStringDesc*) &TMP64271),
((NimStringDesc*) &TMP64272),
((NimStringDesc*) &TMP64273),
7}
,
{((NimStringDesc*) &TMP64274),
((NimStringDesc*) &TMP64263),
((NimStringDesc*) &TMP64264),
((NimStringDesc*) &TMP64265),
((NimStringDesc*) &TMP64275),
((NimStringDesc*) &TMP64266),
((NimStringDesc*) &TMP64267),
((NimStringDesc*) &TMP64268),
((NimStringDesc*) &TMP64275),
((NimStringDesc*) &TMP64269),
((NimStringDesc*) &TMP64270),
((NimStringDesc*) &TMP64271),
((NimStringDesc*) &TMP64272),
((NimStringDesc*) &TMP64273),
7}
,
{((NimStringDesc*) &TMP64276),
((NimStringDesc*) &TMP64277),
((NimStringDesc*) &TMP64278),
((NimStringDesc*) &TMP64278),
((NimStringDesc*) &TMP64276),
((NimStringDesc*) &TMP64279),
((NimStringDesc*) &TMP64280),
((NimStringDesc*) &TMP64281),
((NimStringDesc*) &TMP64282),
((NimStringDesc*) &TMP64283),
((NimStringDesc*) &TMP64270),
((NimStringDesc*) &TMP64284),
((NimStringDesc*) &TMP64271),
((NimStringDesc*) &TMP64285),
0}
,
{((NimStringDesc*) &TMP64286),
((NimStringDesc*) &TMP64277),
((NimStringDesc*) &TMP64287),
((NimStringDesc*) &TMP64288),
((NimStringDesc*) &TMP64289),
((NimStringDesc*) &TMP64290),
((NimStringDesc*) &TMP64291),
((NimStringDesc*) &TMP64292),
((NimStringDesc*) &TMP64289),
((NimStringDesc*) &TMP64293),
((NimStringDesc*) &TMP64270),
((NimStringDesc*) &TMP64271),
((NimStringDesc*) &TMP64271),
((NimStringDesc*) &TMP64294),
4}
,
{((NimStringDesc*) &TMP64295),
((NimStringDesc*) &TMP64277),
((NimStringDesc*) &TMP64296),
((NimStringDesc*) &TMP64296),
((NimStringDesc*) &TMP64295),
((NimStringDesc*) &TMP64290),
((NimStringDesc*) &TMP64297),
((NimStringDesc*) &TMP64298),
((NimStringDesc*) &TMP64295),
((NimStringDesc*) &TMP64299),
((NimStringDesc*) &TMP64270),
((NimStringDesc*) &TMP64300),
((NimStringDesc*) &TMP64271),
((NimStringDesc*) &TMP64294),
4}
,
{((NimStringDesc*) &TMP64301),
((NimStringDesc*) &TMP64277),
((NimStringDesc*) &TMP64302),
((NimStringDesc*) &TMP64271),
((NimStringDesc*) &TMP64303),
((NimStringDesc*) &TMP64304),
((NimStringDesc*) &TMP64305),
((NimStringDesc*) &TMP64306),
((NimStringDesc*) &TMP64303),
((NimStringDesc*) &TMP64307),
((NimStringDesc*) &TMP64308),
((NimStringDesc*) &TMP64309),
((NimStringDesc*) &TMP64271),
((NimStringDesc*) &TMP64294),
4}
,
{((NimStringDesc*) &TMP64310),
((NimStringDesc*) &TMP64277),
((NimStringDesc*) &TMP64311),
((NimStringDesc*) &TMP64312),
((NimStringDesc*) &TMP64313),
((NimStringDesc*) &TMP64314),
((NimStringDesc*) &TMP64315),
((NimStringDesc*) &TMP64316),
((NimStringDesc*) &TMP64313),
((NimStringDesc*) &TMP64317),
((NimStringDesc*) &TMP64318),
((NimStringDesc*) &TMP64319),
((NimStringDesc*) &TMP64271),
((NimStringDesc*) &TMP64294),
12}
,
{((NimStringDesc*) &TMP64320),
((NimStringDesc*) &TMP64263),
((NimStringDesc*) &TMP64271),
((NimStringDesc*) &TMP64271),
((NimStringDesc*) &TMP64320),
((NimStringDesc*) &TMP64266),
((NimStringDesc*) &TMP64321),
((NimStringDesc*) &TMP64268),
((NimStringDesc*) &TMP64320),
((NimStringDesc*) &TMP64322),
((NimStringDesc*) &TMP64270),
((NimStringDesc*) &TMP64300),
((NimStringDesc*) &TMP64271),
((NimStringDesc*) &TMP64294),
3}
,
{((NimStringDesc*) &TMP64323),
((NimStringDesc*) &TMP64277),
((NimStringDesc*) &TMP64324),
((NimStringDesc*) &TMP64325),
((NimStringDesc*) &TMP64326),
((NimStringDesc*) &TMP64327),
((NimStringDesc*) &TMP64328),
((NimStringDesc*) &TMP64329),
((NimStringDesc*) &TMP64326),
((NimStringDesc*) &TMP64330),
((NimStringDesc*) &TMP64270),
((NimStringDesc*) &TMP64331),
((NimStringDesc*) &TMP64271),
((NimStringDesc*) &TMP64294),
0}
,
{((NimStringDesc*) &TMP64332),
((NimStringDesc*) &TMP64263),
((NimStringDesc*) &TMP64333),
((NimStringDesc*) &TMP64334),
((NimStringDesc*) &TMP64326),
((NimStringDesc*) &TMP64266),
((NimStringDesc*) &TMP64271),
((NimStringDesc*) &TMP64335),
((NimStringDesc*) &TMP64326),
((NimStringDesc*) &TMP64322),
((NimStringDesc*) &TMP64270),
((NimStringDesc*) &TMP64271),
((NimStringDesc*) &TMP64271),
((NimStringDesc*) &TMP64294),
0}
,
{((NimStringDesc*) &TMP64336),
((NimStringDesc*) &TMP64263),
((NimStringDesc*) &TMP64333),
((NimStringDesc*) &TMP64325),
((NimStringDesc*) &TMP64336),
((NimStringDesc*) &TMP64266),
((NimStringDesc*) &TMP64267),
((NimStringDesc*) &TMP64337),
((NimStringDesc*) &TMP64336),
((NimStringDesc*) &TMP64269),
((NimStringDesc*) &TMP64270),
((NimStringDesc*) &TMP64271),
((NimStringDesc*) &TMP64272),
((NimStringDesc*) &TMP64273),
7}
,
{((NimStringDesc*) &TMP64338),
((NimStringDesc*) &TMP64263),
((NimStringDesc*) &TMP64264),
((NimStringDesc*) &TMP64265),
((NimStringDesc*) &TMP64339),
((NimStringDesc*) &TMP64266),
((NimStringDesc*) &TMP64267),
((NimStringDesc*) &TMP64337),
((NimStringDesc*) &TMP64339),
((NimStringDesc*) &TMP64269),
((NimStringDesc*) &TMP64270),
((NimStringDesc*) &TMP64300),
((NimStringDesc*) &TMP64272),
((NimStringDesc*) &TMP64273),
7}
}
;
STRING_LITERAL(TMP64343, "c", 1);
STRING_LITERAL(TMP190660, "crc", 3);
STRING_LITERAL(TMP190661, "0", 1);
STRING_LITERAL(TMP190674, " ", 1);
STRING_LITERAL(TMP190680, ".options.always", 15);
STRING_LITERAL(TMP190681, ".options.linker", 15);
STRING_LITERAL(TMP190682, ".path", 5);
STRING_LITERAL(TMP190730, ".cpp", 4);
STRING_LITERAL(TMP191791, ".debug", 6);
STRING_LITERAL(TMP191792, ".options.debug", 14);
STRING_LITERAL(TMP191793, ".speed", 6);
STRING_LITERAL(TMP191794, ".options.speed", 14);
STRING_LITERAL(TMP191795, ".size", 5);
STRING_LITERAL(TMP191796, ".options.size", 13);
STRING_LITERAL(TMP191797, ".always", 7);
STRING_LITERAL(TMP191798, ".exe", 4);
STRING_LITERAL(TMP191799, "exe", 3);
extern NIM_CONST TY45054 Os_45053;
STRING_LITERAL(TMP191800, "file", 4);
STRING_LITERAL(TMP191801, "objfile", 7);
STRING_LITERAL(TMP191802, "options", 7);
STRING_LITERAL(TMP191803, "include", 7);
STRING_LITERAL(TMP191804, "nimrod", 6);
STRING_LITERAL(TMP191805, "lib", 3);
STRING_LITERAL(TMP191815, "[C_Files]\015\012", 11);
STRING_LITERAL(TMP191816, "--file:r\"$1\"$n", 14);
STRING_LITERAL(TMP191817, "[Symbols]$n$1", 13);
STRING_LITERAL(TMP191818, "mapping.txt", 11);
STRING_LITERAL(TMP191875, ".linkerexe", 10);
STRING_LITERAL(TMP191876, "builddll", 8);
STRING_LITERAL(TMP191877, "buildgui", 8);
STRING_LITERAL(TMP191878, "objfiles", 8);
STRING_LITERAL(TMP191879, "exefile", 7);
STRING_LITERAL(TMP191880, "compile_", 8);
STRING_LITERAL(TMP192496, "\015\012", 2);
NU8 Ccompiler_64340;
NimStringDesc* Cext_64342;
extern TY10590 Gch_10608;
TY37019 Tolink_64387;
extern TNimType* NTI37019; /* TLinkedList */
TY37019 Tocompile_64388;
TY37019 Externaltocompile_64389;
NimStringDesc* Linkoptions_64390;
NimStringDesc* Compileoptions_64391;
NimStringDesc* Ccompilerpath_64392;
NI Filecounter_64721;
extern NU32 Gglobaloptions_40077;
extern NU8 Gcmd_40082;
extern NU32 Goptions_40075;
extern NU8 Targetos_45562;
extern NU8 Hostos_45563;
extern NimStringDesc* Libpath_40110;
extern NimStringDesc* Projectpath_40111;
extern TNimType* NTI33221; /* seq[string] */
extern NimStringDesc* Tnl_45573;
extern NI Gnumberofprocessors_40084;
extern NI Gverbosity_40083;
static N_INLINE(TY10202*, Usrtocell_10622)(void* Usr_10624) {
TY10202* Result_10625;
Result_10625 = 0;
Result_10625 = ((TY10202*) ((NI64)((NU64)(((NI) (Usr_10624))) - (NU64)(((NI) (((NI)sizeof(TY10202))))))));
return Result_10625;
}
static N_INLINE(void, Rtladdzct_11256)(TY10202* C_11258) {
Addzct_10611(&Gch_10608.Zct, C_11258);
}
static N_INLINE(void, asgnRefNoCycle)(void** Dest_11416, void* Src_11417) {
TY10202* C_11418;
TY10202* C_11419;
if (!!((Src_11417 == NIM_NIL))) goto LA2;
C_11418 = 0;
C_11418 = Usrtocell_10622(Src_11417);
(*C_11418).Refcount = (NI64)((NU64)((*C_11418).Refcount) + (NU64)(8));
LA2: ;
if (!!(((*Dest_11416) == NIM_NIL))) goto LA5;
C_11419 = 0;
C_11419 = Usrtocell_10622((*Dest_11416));
(*C_11419).Refcount = (NI64)((NU64)((*C_11419).Refcount) - (NU64)(8));
if (!((NU64)((*C_11419).Refcount) < (NU64)(8))) goto LA8;
Rtladdzct_11256(C_11419);
LA8: ;
LA5: ;
(*Dest_11416) = Src_11417;
}
N_NIMCALL(NIM_BOOL, Externalfilechanged_64604)(NimStringDesc* Filename_64606) {
NIM_BOOL Result_64607;
NimStringDesc* Crcfile_64608;
NI Currentcrc_64609;
NI32 LOC1;
FILE* F_64610;
NIM_BOOL LOC3;
NimStringDesc* Line_64612;
NIM_BOOL LOC7;
NI Oldcrc_64617;
NIM_BOOL LOC15;
NimStringDesc* LOC18;
Result_64607 = 0;
Crcfile_64608 = 0;
Crcfile_64608 = Togeneratedfile_40103(Filename_64606, ((NimStringDesc*) &TMP190660));
Currentcrc_64609 = 0;
LOC1 = Crcfromfile_44029(Filename_64606);
Currentcrc_64609 = ((NI) (LOC1));
F_64610 = 0;
LOC3 = Open_3617(&F_64610, Crcfile_64608, ((NU8) 0), -1);
if (!LOC3) goto LA4;
Line_64612 = 0;
Line_64612 = Readline_3679(F_64610);
LOC7 = Line_64612 == 0;
if (LOC7) goto LA8;
LOC7 = (Line_64612->Sup.len == 0);
LA8: ;
if (!LOC7) goto LA9;
Line_64612 = copyString(((NimStringDesc*) &TMP190661));
LA9: ;
fclose(F_64610);
Oldcrc_64617 = 0;
Oldcrc_64617 = nsuParseInt(Line_64612);
Result_64607 = !((Oldcrc_64617 == Currentcrc_64609));
goto LA2;
LA4: ;
Result_64607 = NIM_TRUE;
LA2: ;
if (!Result_64607) goto LA12;
LOC15 = Open_3617(&F_64610, Crcfile_64608, ((NU8) 1), -1);
if (!LOC15) goto LA16;
LOC18 = nimIntToStr(Currentcrc_64609);
Writeln_64626(F_64610, LOC18);
fclose(F_64610);
LA16: ;
LA12: ;
return Result_64607;
}
N_NIMCALL(void, Addexternalfiletocompile_64355)(NimStringDesc* Filename_64357) {
NIM_BOOL LOC2;
NimStringDesc* LOC6;
LOC2 = ((Gglobaloptions_40077 &(1<<((((NU8) 1))&31)))!=0);
if (LOC2) goto LA3;
LOC2 = Externalfilechanged_64604(Filename_64357);
LA3: ;
if (!LOC2) goto LA4;
LOC6 = nosChangeFileExt(Filename_64357, ((NimStringDesc*) &TMP64271));
Appendstr_37061(&Externaltocompile_64389, LOC6);
LA4: ;
}
N_NIMCALL(void, Addfiletolink_64358)(NimStringDesc* Filename_64360) {
Prependstr_37071(&Tolink_64387, Filename_64360);
}
N_NIMCALL(NimStringDesc*, Completecfilepath_64344)(NimStringDesc* Cfile_64346, NIM_BOOL Createsubdir_64347) {
NimStringDesc* Result_64520;
Result_64520 = 0;
Result_64520 = Completegeneratedfilepath_40099(Cfile_64346, Createsubdir_64347);
return Result_64520;
}
static N_INLINE(void, appendString)(NimStringDesc* Dest_16992, NimStringDesc* Src_16993) {
memcpy(((NCSTRING) (&(*Dest_16992).data[((*Dest_16992).Sup.len)-0])), ((NCSTRING) ((*Src_16993).data)), ((NI32) ((NI64)((NI64)((*Src_16993).Sup.len + 1) * 1))));
(*Dest_16992).Sup.len += (*Src_16993).Sup.len;
}
N_NIMCALL(void, Addopt_64571)(NimStringDesc** Dest_64574, NimStringDesc* Src_64575) {
NIM_BOOL LOC2;
LOC2 = ((*Dest_64574)->Sup.len == 0);
if (LOC2) goto LA3;
LOC2 = !(((NU8)((*Dest_64574)->data[(NI64)((NI64)((*Dest_64574)->Sup.len - 1) + 0)]) == (NU8)(32)));
LA3: ;
if (!LOC2) goto LA4;
(*Dest_64574) = resizeString((*Dest_64574), 1);
appendString((*Dest_64574), ((NimStringDesc*) &TMP190674));
LA4: ;
(*Dest_64574) = resizeString((*Dest_64574), Src_64575->Sup.len + 0);
appendString((*Dest_64574), Src_64575);
}
N_NIMCALL(void, Addcompileoption_64361)(NimStringDesc* Option_64363) {
NI LOC2;
LOC2 = nsuFindStr(Compileoptions_64391, Option_64363, 0);
if (!(LOC2 < 0)) goto LA3;
Addopt_64571(&Compileoptions_64391, Option_64363);
LA3: ;
}
N_NIMCALL(void, Addlinkoption_64364)(NimStringDesc* Option_64366) {
NI LOC2;
LOC2 = nsuFindStr(Linkoptions_64390, Option_64366, 0);
if (!(LOC2 < 0)) goto LA3;
Addopt_64571(&Linkoptions_64390, Option_64366);
LA3: ;
}
N_NIMCALL(NU8, Nametocc_64376)(NimStringDesc* Name_64378) {
NU8 Result_64524;
NU8 I_64563;
NU8 Res_64568;
NI LOC3;
Result_64524 = 0;
I_64563 = 0;
Res_64568 = 0;
Res_64568 = ((NU8) 1);
while (1) {
if (!(Res_64568 <= ((NU8) 12))) goto LA1;
I_64563 = Res_64568;
LOC3 = nsuCmpIgnoreStyle(Name_64378, Cc_64041[(I_64563)-1].Name);
if (!(LOC3 == 0)) goto LA4;
Result_64524 = I_64563;
goto BeforeRet;
LA4: ;
Res_64568 += 1;
} LA1: ;
Result_64524 = ((NU8) 0);
BeforeRet: ;
return Result_64524;
}
N_NIMCALL(void, Setcc_64381)(NimStringDesc* Ccname_64383) {
NimStringDesc* LOC4;
NimStringDesc* LOC5;
NimStringDesc* LOC6;
NU8 I_64458;
NU8 Res_64461;
Ccompiler_64340 = Nametocc_64376(Ccname_64383);
if (!(Ccompiler_64340 == ((NU8) 0))) goto LA2;
Rawmessage_41553(((NU8) 46), Ccname_64383);
LA2: ;
LOC4 = rawNewString(Cc_64041[(Ccompiler_64340)-1].Name->Sup.len + 15);
appendString(LOC4, Cc_64041[(Ccompiler_64340)-1].Name);
appendString(LOC4, ((NimStringDesc*) &TMP190680));
asgnRefNoCycle((void**) &Compileoptions_64391, Getconfigvar_40133(LOC4));
LOC5 = rawNewString(Cc_64041[(Ccompiler_64340)-1].Name->Sup.len + 15);
appendString(LOC5, Cc_64041[(Ccompiler_64340)-1].Name);
appendString(LOC5, ((NimStringDesc*) &TMP190681));
asgnRefNoCycle((void**) &Linkoptions_64390, Getconfigvar_40133(LOC5));
LOC6 = rawNewString(Cc_64041[(Ccompiler_64340)-1].Name->Sup.len + 5);
appendString(LOC6, Cc_64041[(Ccompiler_64340)-1].Name);
appendString(LOC6, ((NimStringDesc*) &TMP190682));
asgnRefNoCycle((void**) &Ccompilerpath_64392, Getconfigvar_40133(LOC6));
I_64458 = 0;
Res_64461 = 0;
Res_64461 = ((NU8) 1);
while (1) {
if (!(Res_64461 <= ((NU8) 12))) goto LA7;
I_64458 = Res_64461;
Undefsymbol_57056(Cc_64041[(I_64458)-1].Name);
Res_64461 += 1;
} LA7: ;
Definesymbol_57053(Cc_64041[(Ccompiler_64340)-1].Name);
}
N_NIMCALL(void, Initvars_64379)(void) {
NU8 I_64473;
NU8 Res_64513;
NimStringDesc* LOC5;
NimStringDesc* LOC6;
NimStringDesc* LOC7;
NimStringDesc* LOC8;
NimStringDesc* LOC12;
I_64473 = 0;
Res_64513 = 0;
Res_64513 = ((NU8) 1);
while (1) {
if (!(Res_64513 <= ((NU8) 12))) goto LA1;
I_64473 = Res_64513;
Undefsymbol_57056(Cc_64041[(I_64473)-1].Name);
Res_64513 += 1;
} LA1: ;
Definesymbol_57053(Cc_64041[(Ccompiler_64340)-1].Name);
if (!(Gcmd_40082 == ((NU8) 2))) goto LA3;
asgnRefNoCycle((void**) &Cext_64342, copyString(((NimStringDesc*) &TMP190730)));
LA3: ;
LOC5 = rawNewString(Cc_64041[(Ccompiler_64340)-1].Name->Sup.len + 15);
appendString(LOC5, Cc_64041[(Ccompiler_64340)-1].Name);
appendString(LOC5, ((NimStringDesc*) &TMP190680));
LOC6 = Getconfigvar_40133(LOC5);
Addcompileoption_64361(LOC6);
LOC7 = rawNewString(Cc_64041[(Ccompiler_64340)-1].Name->Sup.len + 15);
appendString(LOC7, Cc_64041[(Ccompiler_64340)-1].Name);
appendString(LOC7, ((NimStringDesc*) &TMP190681));
LOC8 = Getconfigvar_40133(LOC7);
Addlinkoption_64364(LOC8);
if (!(Ccompilerpath_64392->Sup.len == 0)) goto LA10;
LOC12 = rawNewString(Cc_64041[(Ccompiler_64340)-1].Name->Sup.len + 5);
appendString(LOC12, Cc_64041[(Ccompiler_64340)-1].Name);
appendString(LOC12, ((NimStringDesc*) &TMP190682));
asgnRefNoCycle((void**) &Ccompilerpath_64392, Getconfigvar_40133(LOC12));
LA10: ;
}
N_NIMCALL(NimStringDesc*, Toobjfile_64367)(NimStringDesc* Filenamewithoutext_64369) {
NimStringDesc* Result_64599;
Result_64599 = 0;
Result_64599 = nosChangeFileExt(Filenamewithoutext_64369, Cc_64041[(Ccompiler_64340)-1].Objext);
return Result_64599;
}
N_NIMCALL(NimStringDesc*, Getdebug_64695)(NU8 C_64697) {
NimStringDesc* Result_64698;
NimStringDesc* LOC1;
Result_64698 = 0;
LOC1 = rawNewString(Cc_64041[(C_64697)-1].Name->Sup.len + 14);
appendString(LOC1, Cc_64041[(C_64697)-1].Name);
appendString(LOC1, ((NimStringDesc*) &TMP191792));
Result_64698 = Getconfigvar_40133(LOC1);
if (!((Result_64698) && (Result_64698)->Sup.len == 0)) goto LA3;
Result_64698 = copyString(Cc_64041[(C_64697)-1].Debug);
LA3: ;
return Result_64698;
}
N_NIMCALL(NimStringDesc*, Getoptspeed_64683)(NU8 C_64685) {
NimStringDesc* Result_64686;
NimStringDesc* LOC1;
Result_64686 = 0;
LOC1 = rawNewString(Cc_64041[(C_64685)-1].Name->Sup.len + 14);
appendString(LOC1, Cc_64041[(C_64685)-1].Name);
appendString(LOC1, ((NimStringDesc*) &TMP191794));
Result_64686 = Getconfigvar_40133(LOC1);
if (!((Result_64686) && (Result_64686)->Sup.len == 0)) goto LA3;
Result_64686 = copyString(Cc_64041[(C_64685)-1].Optspeed);
LA3: ;
return Result_64686;
}
N_NIMCALL(NimStringDesc*, Getoptsize_64707)(NU8 C_64709) {
NimStringDesc* Result_64710;
NimStringDesc* LOC1;
Result_64710 = 0;
LOC1 = rawNewString(Cc_64041[(C_64709)-1].Name->Sup.len + 13);
appendString(LOC1, Cc_64041[(C_64709)-1].Name);
appendString(LOC1, ((NimStringDesc*) &TMP191796));
Result_64710 = Getconfigvar_40133(LOC1);
if (!((Result_64710) && (Result_64710)->Sup.len == 0)) goto LA3;
Result_64710 = copyString(Cc_64041[(C_64709)-1].Optsize);
LA3: ;
return Result_64710;
}
static N_INLINE(void, appendChar)(NimStringDesc* Dest_17009, NIM_CHAR C_17010) {
(*Dest_17009).data[((*Dest_17009).Sup.len)-0] = C_17010;
(*Dest_17009).data[((NI64)((*Dest_17009).Sup.len + 1))-0] = 0;
(*Dest_17009).Sup.len += 1;
}
N_NIMCALL(NimStringDesc*, Getcompilecfilecmd_64348)(NimStringDesc* Cfilename_64350, NIM_BOOL Isexternal_64351) {
NimStringDesc* Result_64726;
NimStringDesc* Cfile_64727;
NimStringDesc* Objfile_64728;
NimStringDesc* Options_64729;
NimStringDesc* Includecmd_64730;
NimStringDesc* Compilepattern_64731;
NimStringDesc* Key_64732;
NimStringDesc* Trunk_64733;
NimStringDesc* Exe_64734;
NU8 C_64735;
TY32515 LOC1;
NimStringDesc* LOC5;
NIM_BOOL LOC7;
NimStringDesc* LOC10;
NimStringDesc* LOC11;
NimStringDesc* LOC15;
NIM_BOOL LOC17;
NimStringDesc* LOC20;
NimStringDesc* LOC21;
NimStringDesc* LOC24;
NIM_BOOL LOC26;
NimStringDesc* LOC29;
NimStringDesc* LOC30;
NimStringDesc* LOC31;
NIM_BOOL LOC33;
NimStringDesc* LOC36;
NimStringDesc* LOC37;
NIM_BOOL LOC39;
NIM_BOOL LOC46;
NimStringDesc* LOC50;
NimStringDesc* LOC54;
NIM_BOOL LOC59;
NimStringDesc* LOC63;
NimStringDesc* LOC64;
TY64880 LOC65;
NimStringDesc* LOC66;
TY64880 LOC67;
NimStringDesc* LOC68;
Result_64726 = 0;
Cfile_64727 = 0;
Objfile_64728 = 0;
Options_64729 = 0;
Includecmd_64730 = 0;
Compilepattern_64731 = 0;
Key_64732 = 0;
Trunk_64733 = 0;
Exe_64734 = 0;
C_64735 = 0;
C_64735 = Ccompiler_64340;
Options_64729 = copyString(Compileoptions_64391);
nossplitFile(Cfilename_64350, &LOC1);
Trunk_64733 = copyString(LOC1.Name);
if (!((Gglobaloptions_40077 &(1<<((((NU8) 9))&31)))!=0)) goto LA3;
LOC5 = rawNewString(Trunk_64733->Sup.len + 6);
appendString(LOC5, Trunk_64733);
appendString(LOC5, ((NimStringDesc*) &TMP191791));
Key_64732 = LOC5;
LOC7 = Existsconfigvar_40130(Key_64732);
if (!LOC7) goto LA8;
LOC10 = Getconfigvar_40133(Key_64732);
Addopt_64571(&Options_64729, LOC10);
goto LA6;
LA8: ;
LOC11 = Getdebug_64695(C_64735);
Addopt_64571(&Options_64729, LOC11);
LA6: ;
LA3: ;
if (!((Goptions_40075 &(1<<((((NU8) 13))&31)))!=0)) goto LA13;
LOC15 = rawNewString(Trunk_64733->Sup.len + 6);
appendString(LOC15, Trunk_64733);
appendString(LOC15, ((NimStringDesc*) &TMP191793));
Key_64732 = LOC15;
LOC17 = Existsconfigvar_40130(Key_64732);
if (!LOC17) goto LA18;
LOC20 = Getconfigvar_40133(Key_64732);
Addopt_64571(&Options_64729, LOC20);
goto LA16;
LA18: ;
LOC21 = Getoptspeed_64683(C_64735);
Addopt_64571(&Options_64729, LOC21);
LA16: ;
goto LA12;
LA13: ;
if (!((Goptions_40075 &(1<<((((NU8) 14))&31)))!=0)) goto LA22;
LOC24 = rawNewString(Trunk_64733->Sup.len + 5);
appendString(LOC24, Trunk_64733);
appendString(LOC24, ((NimStringDesc*) &TMP191795));
Key_64732 = LOC24;
LOC26 = Existsconfigvar_40130(Key_64732);
if (!LOC26) goto LA27;
LOC29 = Getconfigvar_40133(Key_64732);
Addopt_64571(&Options_64729, LOC29);
goto LA25;
LA27: ;
LOC30 = Getoptsize_64707(C_64735);
Addopt_64571(&Options_64729, LOC30);
LA25: ;
goto LA12;
LA22: ;
LA12: ;
LOC31 = rawNewString(Trunk_64733->Sup.len + 7);
appendString(LOC31, Trunk_64733);
appendString(LOC31, ((NimStringDesc*) &TMP191797));
Key_64732 = LOC31;
LOC33 = Existsconfigvar_40130(Key_64732);
if (!LOC33) goto LA34;
LOC36 = Getconfigvar_40133(Key_64732);
Addopt_64571(&Options_64729, LOC36);
LA34: ;
Exe_64734 = copyString(Cc_64041[(C_64735)-1].Compilerexe);
LOC37 = rawNewString(Cc_64041[(C_64735)-1].Name->Sup.len + 4);
appendString(LOC37, Cc_64041[(C_64735)-1].Name);
appendString(LOC37, ((NimStringDesc*) &TMP191798));
Key_64732 = LOC37;
LOC39 = Existsconfigvar_40130(Key_64732);
if (!LOC39) goto LA40;
Exe_64734 = Getconfigvar_40133(Key_64732);
LA40: ;
if (!(Targetos_45562 == ((NU8) 2))) goto LA43;
Exe_64734 = nosaddFileExt(Exe_64734, ((NimStringDesc*) &TMP191799));
LA43: ;
LOC46 = ((Gglobaloptions_40077 &(1<<((((NU8) 10))&31)))!=0);
if (!(LOC46)) goto LA47;
LOC46 = ((Os_45053[(Targetos_45562)-1].Props &(1<<((((NU8) 0))&7)))!=0);
LA47: ;
if (!LOC46) goto LA48;
LOC50 = rawNewString(Cc_64041[(C_64735)-1].Pic->Sup.len + 1);
appendChar(LOC50, 32);
appendString(LOC50, Cc_64041[(C_64735)-1].Pic);
Options_64729 = resizeString(Options_64729, LOC50->Sup.len + 0);
appendString(Options_64729, LOC50);
LA48: ;
if (!(Targetos_45562 == Hostos_45563)) goto LA52;
Includecmd_64730 = copyString(Cc_64041[(C_64735)-1].Includecmd);
LOC54 = Quoteifcontainswhite_24283(Libpath_40110);
Includecmd_64730 = resizeString(Includecmd_64730, LOC54->Sup.len + 0);
appendString(Includecmd_64730, LOC54);
Compilepattern_64731 = nosJoinPath(Ccompilerpath_64392, Exe_64734);
goto LA51;
LA52: ;
Includecmd_64730 = copyString(((NimStringDesc*) &TMP64271));
Compilepattern_64731 = copyString(Cc_64041[(C_64735)-1].Compilerexe);
LA51: ;
if (!(Targetos_45562 == Hostos_45563)) goto LA56;
Cfile_64727 = copyString(Cfilename_64350);
goto LA55;
LA56: ;
Cfile_64727 = nosextractFilename(Cfilename_64350);
LA55: ;
LOC59 = !(Isexternal_64351);
if (LOC59) goto LA60;
LOC59 = !((Targetos_45562 == Hostos_45563));
LA60: ;
if (!LOC59) goto LA61;
Objfile_64728 = Toobjfile_64367(Cfile_64727);
goto LA58;
LA61: ;
LOC63 = Toobjfile_64367(Cfile_64727);
Objfile_64728 = Completecfilepath_64344(LOC63, NIM_TRUE);
LA58: ;
LOC64 = nosaddFileExt(Cfile_64727, Cext_64342);
Cfile_64727 = Quoteifcontainswhite_24283(LOC64);
Objfile_64728 = Quoteifcontainswhite_24283(Objfile_64728);
LOC65[0] = copyString(((NimStringDesc*) &TMP191800));
LOC65[1] = copyString(Cfile_64727);
LOC65[2] = copyString(((NimStringDesc*) &TMP191801));
LOC65[3] = copyString(Objfile_64728);
LOC65[4] = copyString(((NimStringDesc*) &TMP191802));
LOC65[5] = copyString(Options_64729);
LOC65[6] = copyString(((NimStringDesc*) &TMP191803));
LOC65[7] = copyString(Includecmd_64730);
LOC65[8] = copyString(((NimStringDesc*) &TMP191804));
LOC65[9] = Getprefixdir_40107();
LOC65[10] = copyString(((NimStringDesc*) &TMP191805));
LOC65[11] = copyString(Libpath_40110);
LOC66 = nsuFormatOpenArray(Compilepattern_64731, LOC65, 12);
Result_64726 = Quoteifcontainswhite_24283(LOC66);
Result_64726 = addChar(Result_64726, 32);
LOC67[0] = copyString(((NimStringDesc*) &TMP191800));
LOC67[1] = copyString(Cfile_64727);
LOC67[2] = copyString(((NimStringDesc*) &TMP191801));
LOC67[3] = copyString(Objfile_64728);
LOC67[4] = copyString(((NimStringDesc*) &TMP191802));
LOC67[5] = copyString(Options_64729);
LOC67[6] = copyString(((NimStringDesc*) &TMP191803));
LOC67[7] = copyString(Includecmd_64730);
LOC67[8] = copyString(((NimStringDesc*) &TMP191804));
LOC68 = Getprefixdir_40107();
LOC67[9] = Quoteifcontainswhite_24283(LOC68);
LOC67[10] = copyString(((NimStringDesc*) &TMP191805));
LOC67[11] = Quoteifcontainswhite_24283(Libpath_40110);
nsuAddf(&Result_64726, Cc_64041[(C_64735)-1].Compiletmpl, LOC67, 12);
return Result_64726;
}
N_NIMCALL(void, Addfiletocompile_64352)(NimStringDesc* Filename_64354) {
Appendstr_37061(&Tocompile_64388, Filename_64354);
}
N_NIMCALL(TY46008*, Genmappingfiles_65225)(TY37019* List_65227) {
TY46008* Result_65228;
TY37015* It_65229;
TY46446 LOC2;
NimStringDesc* LOC3;
Result_65228 = 0;
It_65229 = 0;
It_65229 = ((TY37015*) ((*List_65227).Head));
while (1) {
if (!!((It_65229 == NIM_NIL))) goto LA1;
LOC3 = nosaddFileExt((*It_65229).Data, Cext_64342);
LOC2[0] = Torope_46046(LOC3);
Appf_46074(&Result_65228, ((NimStringDesc*) &TMP191816), LOC2, 1);
It_65229 = ((TY37015*) ((*It_65229).Sup.Next));
} LA1: ;
return Result_65228;
}
N_NIMCALL(void, Writemapping_64384)(TY46008* Gsymbolmapping_64386) {
TY46008* Code_65261;
TY46008* LOC4;
TY46008* LOC5;
TY46446 LOC6;
NimStringDesc* LOC7;
if (!!(((Gglobaloptions_40077 &(1<<((((NU8) 13))&31)))!=0))) goto LA2;
goto BeforeRet;
LA2: ;
Code_65261 = 0;
Code_65261 = Torope_46046(((NimStringDesc*) &TMP191815));
LOC4 = Genmappingfiles_65225(&Tocompile_64388);
App_46031(&Code_65261, LOC4);
LOC5 = Genmappingfiles_65225(&Externaltocompile_64389);
App_46031(&Code_65261, LOC5);
LOC6[0] = Gsymbolmapping_64386;
Appf_46074(&Code_65261, ((NimStringDesc*) &TMP191817), LOC6, 1);
LOC7 = nosJoinPath(Projectpath_40111, ((NimStringDesc*) &TMP191818));
Writerope_46058(Code_65261, LOC7);
BeforeRet: ;
}
N_NIMCALL(void, Compilecfile_64887)(TY37019* List_64889, TY46008** Script_64891, TY33221** Cmds_64893, NIM_BOOL Isexternal_64894) {
TY37015* It_64895;
NimStringDesc* Compilecmd_64919;
It_64895 = 0;
It_64895 = ((TY37015*) ((*List_64889).Head));
while (1) {
if (!!((It_64895 == NIM_NIL))) goto LA1;
Filecounter_64721 += 1;
Compilecmd_64919 = 0;
Compilecmd_64919 = Getcompilecfilecmd_64348((*It_64895).Data, Isexternal_64894);
if (!!(((Gglobaloptions_40077 &(1<<((((NU8) 6))&31)))!=0))) goto LA3;
(*Cmds_64893) = (TY33221*) incrSeq(&((*Cmds_64893))->Sup, sizeof(NimStringDesc*));
asgnRefNoCycle((void**) &(*Cmds_64893)->data[(*Cmds_64893)->Sup.len-1], copyString(Compilecmd_64919));
LA3: ;
if (!((Gglobaloptions_40077 &(1<<((((NU8) 12))&31)))!=0)) goto LA6;
App_46036(Script_64891, Compilecmd_64919);
App_46036(Script_64891, Tnl_45573);
LA6: ;
It_64895 = ((TY37015*) ((*It_64895).Sup.Next));
} LA1: ;
}
N_NIMCALL(void, Execexternalprogram_64373)(NimStringDesc* Cmd_64375) {
NIM_BOOL LOC2;
NI LOC7;
LOC2 = ((Gglobaloptions_40077 &(1<<((((NU8) 5))&31)))!=0);
if (LOC2) goto LA3;
LOC2 = (0 < Gverbosity_40083);
LA3: ;
if (!LOC2) goto LA4;
Messageout_41550(Cmd_64375);
LA4: ;
LOC7 = nospexecCmd(Cmd_64375);
if (!!((LOC7 == 0))) goto LA8;
Rawmessage_41553(((NU8) 62), ((NimStringDesc*) &TMP64271));
LA8: ;
}
N_NIMCALL(void, Generatescript_64668)(NimStringDesc* Projectfile_64670, TY46008* Script_64671) {
TY32515 LOC1;
NimStringDesc* Dir_64672;
NimStringDesc* Name_64673;
NimStringDesc* Ext_64674;
NimStringDesc* LOC2;
NimStringDesc* LOC3;
NimStringDesc* LOC4;
nossplitFile(Projectfile_64670, &LOC1);
Dir_64672 = 0;
Dir_64672 = copyString(LOC1.Dir);
Name_64673 = 0;
Name_64673 = copyString(LOC1.Name);
Ext_64674 = 0;
Ext_64674 = copyString(LOC1.Ext);
LOC2 = rawNewString(Name_64673->Sup.len + 8);
appendString(LOC2, ((NimStringDesc*) &TMP191880));
appendString(LOC2, Name_64673);
LOC3 = nosaddFileExt(LOC2, Os_45053[(Targetos_45562)-1].Scriptext);
LOC4 = HEX2F_32318(Dir_64672, LOC3);
Writerope_46058(Script_64671, LOC4);
}
N_NIMCALL(void, Callccompiler_64370)(NimStringDesc* Projectfile_64372) {
NimStringDesc* Linkcmd_64964;
NimStringDesc* Buildgui_64965;
NimStringDesc* Builddll_64966;
NU8 C_64988;
TY46008* Script_64989;
TY33221* Cmds_65006;
NI Res_65024;
NI I_65049;
NI HEX3Atmp_65219;
NI Res_65221;
NI LOC14;
NIM_BOOL LOC15;
TY40349 LOC22;
NimStringDesc* Linkerexe_65096;
NimStringDesc* LOC26;
NimStringDesc* LOC36;
NimStringDesc* Exefile_65130;
TY41865 LOC43;
TY32515 LOC44;
NimStringDesc* LOC45;
TY32515 LOC46;
TY32515 LOC50;
TY37015* It_65163;
NimStringDesc* Objfiles_65164;
NimStringDesc* LOC55;
NimStringDesc* LOC56;
NimStringDesc* LOC57;
NimStringDesc* LOC58;
NimStringDesc* LOC59;
TY65187 LOC60;
NimStringDesc* LOC61;
TY65187 LOC62;
NimStringDesc* LOC63;
Linkcmd_64964 = 0;
Buildgui_64965 = 0;
Builddll_64966 = 0;
if (!((Gglobaloptions_40077 & 4160) == 64)) goto LA2;
goto BeforeRet;
LA2: ;
Filecounter_64721 = 0;
C_64988 = 0;
C_64988 = Ccompiler_64340;
Script_64989 = 0;
Script_64989 = NIM_NIL;
Cmds_65006 = 0;
Cmds_65006 = (TY33221*) newSeq(NTI33221, 0);
Compilecfile_64887(&Tocompile_64388, &Script_64989, &Cmds_65006, NIM_FALSE);
Compilecfile_64887(&Externaltocompile_64389, &Script_64989, &Cmds_65006, NIM_TRUE);
if (!!(((Gglobaloptions_40077 &(1<<((((NU8) 6))&31)))!=0))) goto LA5;
if (!(Gnumberofprocessors_40084 == 0)) goto LA8;
Gnumberofprocessors_40084 = nospcountProcessors();
LA8: ;
Res_65024 = 0;
Res_65024 = 0;
if (!(Gnumberofprocessors_40084 <= 1)) goto LA11;
I_65049 = 0;
HEX3Atmp_65219 = 0;
HEX3Atmp_65219 = (Cmds_65006->Sup.len-1);
Res_65221 = 0;
Res_65221 = 0;
while (1) {
if (!(Res_65221 <= HEX3Atmp_65219)) goto LA13;
I_65049 = Res_65221;
LOC14 = nospexecCmd(Cmds_65006->data[I_65049]);
Res_65024 = ((LOC14 >= Res_65024) ? LOC14 : Res_65024);
Res_65221 += 1;
} LA13: ;
goto LA10;
LA11: ;
LOC15 = ((Gglobaloptions_40077 &(1<<((((NU8) 5))&31)))!=0);
if (LOC15) goto LA16;
LOC15 = (0 < Gverbosity_40083);
LA16: ;
if (!LOC15) goto LA17;
Res_65024 = nospexecProcesses(Cmds_65006->data, Cmds_65006->Sup.len, 11, Gnumberofprocessors_40084);
goto LA10;
LA17: ;
Res_65024 = nospexecProcesses(Cmds_65006->data, Cmds_65006->Sup.len, 10, Gnumberofprocessors_40084);
LA10: ;
if (!!((Res_65024 == 0))) goto LA20;
Rawmessage_41557(((NU8) 62), LOC22, 0);
LA20: ;
LA5: ;
if (!!(((Gglobaloptions_40077 &(1<<((((NU8) 7))&31)))!=0))) goto LA24;
Linkerexe_65096 = 0;
LOC26 = rawNewString(Cc_64041[(C_64988)-1].Name->Sup.len + 10);
appendString(LOC26, Cc_64041[(C_64988)-1].Name);
appendString(LOC26, ((NimStringDesc*) &TMP191875));
Linkerexe_65096 = Getconfigvar_40133(LOC26);
if (!(Linkerexe_65096->Sup.len == 0)) goto LA28;
Linkerexe_65096 = copyString(Cc_64041[(C_64988)-1].Linkerexe);
LA28: ;
if (!(Targetos_45562 == ((NU8) 2))) goto LA31;
Linkerexe_65096 = nosaddFileExt(Linkerexe_65096, ((NimStringDesc*) &TMP191799));
LA31: ;
if (!!((Hostos_45563 == Targetos_45562))) goto LA34;
Linkcmd_64964 = Quoteifcontainswhite_24283(Linkerexe_65096);
goto LA33;
LA34: ;
LOC36 = nosJoinPath(Ccompilerpath_64392, Linkerexe_65096);
Linkcmd_64964 = Quoteifcontainswhite_24283(LOC36);
LA33: ;
if (!((Gglobaloptions_40077 &(1<<((((NU8) 11))&31)))!=0)) goto LA38;
Buildgui_64965 = copyString(Cc_64041[(C_64988)-1].Buildgui);
goto LA37;
LA38: ;
Buildgui_64965 = copyString(((NimStringDesc*) &TMP64271));
LA37: ;
Exefile_65130 = 0;
if (!((Gglobaloptions_40077 &(1<<((((NU8) 10))&31)))!=0)) goto LA41;
nossplitFile(Projectfile_64372, &LOC44);
LOC43[0] = copyString(LOC44.Name);
Exefile_65130 = nsuFormatOpenArray(Os_45053[(Targetos_45562)-1].Dllfrmt, LOC43, 1);
Builddll_64966 = copyString(Cc_64041[(C_64988)-1].Builddll);
goto LA40;
LA41: ;
nossplitFile(Projectfile_64372, &LOC46);
LOC45 = rawNewString(LOC46.Name->Sup.len + Os_45053[(Targetos_45562)-1].Exeext->Sup.len + 0);
appendString(LOC45, LOC46.Name);
appendString(LOC45, Os_45053[(Targetos_45562)-1].Exeext);
Exefile_65130 = LOC45;
Builddll_64966 = copyString(((NimStringDesc*) &TMP64271));
LA40: ;
if (!(Targetos_45562 == Hostos_45563)) goto LA48;
nossplitFile(Projectfile_64372, &LOC50);
Exefile_65130 = nosJoinPath(LOC50.Dir, Exefile_65130);
LA48: ;
Exefile_65130 = Quoteifcontainswhite_24283(Exefile_65130);
It_65163 = 0;
It_65163 = ((TY37015*) (Tolink_64387.Head));
Objfiles_65164 = 0;
Objfiles_65164 = copyString(((NimStringDesc*) &TMP64271));
while (1) {
if (!!((It_65163 == NIM_NIL))) goto LA51;
Objfiles_65164 = addChar(Objfiles_65164, 32);
if (!(Targetos_45562 == Hostos_45563)) goto LA53;
LOC55 = Toobjfile_64367((*It_65163).Data);
LOC56 = Quoteifcontainswhite_24283(LOC55);
Objfiles_65164 = resizeString(Objfiles_65164, LOC56->Sup.len + 0);
appendString(Objfiles_65164, LOC56);
goto LA52;
LA53: ;
LOC57 = nosextractFilename((*It_65163).Data);
LOC58 = Toobjfile_64367(LOC57);
LOC59 = Quoteifcontainswhite_24283(LOC58);
Objfiles_65164 = resizeString(Objfiles_65164, LOC59->Sup.len + 0);
appendString(Objfiles_65164, LOC59);
LA52: ;
It_65163 = ((TY37015*) ((*It_65163).Sup.Next));
} LA51: ;
LOC60[0] = copyString(((NimStringDesc*) &TMP191876));
LOC60[1] = copyString(Builddll_64966);
LOC60[2] = copyString(((NimStringDesc*) &TMP191877));
LOC60[3] = copyString(Buildgui_64965);
LOC60[4] = copyString(((NimStringDesc*) &TMP191802));
LOC60[5] = copyString(Linkoptions_64390);
LOC60[6] = copyString(((NimStringDesc*) &TMP191878));
LOC60[7] = copyString(Objfiles_65164);
LOC60[8] = copyString(((NimStringDesc*) &TMP191879));
LOC60[9] = copyString(Exefile_65130);
LOC60[10] = copyString(((NimStringDesc*) &TMP191804));
LOC60[11] = Getprefixdir_40107();
LOC60[12] = copyString(((NimStringDesc*) &TMP191805));
LOC60[13] = copyString(Libpath_40110);
LOC61 = nsuFormatOpenArray(Linkcmd_64964, LOC60, 14);
Linkcmd_64964 = Quoteifcontainswhite_24283(LOC61);
Linkcmd_64964 = addChar(Linkcmd_64964, 32);
LOC62[0] = copyString(((NimStringDesc*) &TMP191876));
LOC62[1] = copyString(Builddll_64966);
LOC62[2] = copyString(((NimStringDesc*) &TMP191877));
LOC62[3] = copyString(Buildgui_64965);
LOC62[4] = copyString(((NimStringDesc*) &TMP191802));
LOC62[5] = copyString(Linkoptions_64390);
LOC62[6] = copyString(((NimStringDesc*) &TMP191878));
LOC62[7] = copyString(Objfiles_65164);
LOC62[8] = copyString(((NimStringDesc*) &TMP191879));
LOC62[9] = copyString(Exefile_65130);
LOC62[10] = copyString(((NimStringDesc*) &TMP191804));
LOC63 = Getprefixdir_40107();
LOC62[11] = Quoteifcontainswhite_24283(LOC63);
LOC62[12] = copyString(((NimStringDesc*) &TMP191805));
LOC62[13] = Quoteifcontainswhite_24283(Libpath_40110);
nsuAddf(&Linkcmd_64964, Cc_64041[(C_64988)-1].Linktmpl, LOC62, 14);
if (!!(((Gglobaloptions_40077 &(1<<((((NU8) 6))&31)))!=0))) goto LA65;
Execexternalprogram_64373(Linkcmd_64964);
LA65: ;
goto LA23;
LA24: ;
Linkcmd_64964 = copyString(((NimStringDesc*) &TMP64271));
LA23: ;
if (!((Gglobaloptions_40077 &(1<<((((NU8) 12))&31)))!=0)) goto LA68;
App_46036(&Script_64989, Linkcmd_64964);
App_46036(&Script_64989, Tnl_45573);
Generatescript_64668(Projectfile_64372, Script_64989);
LA68: ;
BeforeRet: ;
}
N_NIMCALL(void, Writeln_64626)(FILE* F_64629, NimStringDesc* X_64630) {
Write_3658(F_64629, X_64630);
Write_3658(F_64629, ((NimStringDesc*) &TMP192496));
}
N_NOINLINE(void, extccompInit)(void) {
Ccompiler_64340 = ((NU8) 1);
asgnRefNoCycle((void**) &Cext_64342, copyString(((NimStringDesc*) &TMP64343)));
Tolink_64387.m_type = NTI37019;
Tocompile_64388.m_type = NTI37019;
Externaltocompile_64389.m_type = NTI37019;
asgnRefNoCycle((void**) &Linkoptions_64390, copyString(((NimStringDesc*) &TMP64271)));
asgnRefNoCycle((void**) &Compileoptions_64391, copyString(((NimStringDesc*) &TMP64271)));
asgnRefNoCycle((void**) &Ccompilerpath_64392, copyString(((NimStringDesc*) &TMP64271)));
}

