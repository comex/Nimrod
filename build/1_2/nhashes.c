/* Generated by Nimrod Compiler v0.8.9 */
/*   (c) 2010 Andreas Rumpf */

typedef long long int NI;
typedef unsigned long long int NU;
#include "nimbase.h"

typedef struct NimStringDesc NimStringDesc;
typedef struct TGenericSeq TGenericSeq;
struct TGenericSeq {
NI len;
NI space;
};
typedef NIM_CHAR TY239[100000001];
struct NimStringDesc {
  TGenericSeq Sup;
TY239 data;
};
N_NIMCALL(NI, Conchash_39040)(NI H_39042, NI Val_39043);
N_NIMCALL(NI, Finishhash_39044)(NI H_39046);
N_NIMCALL(NI, Getdatahash_39024)(void* Data_39026, NI Size_39027);
static N_INLINE(NI, addInt)(NI A_5803, NI B_5804);
N_NOINLINE(void, raiseOverflow)(void);
static N_INLINE(NI, subInt)(NI A_6003, NI B_6004);
N_NIMCALL(NI, Hashptr_39028)(void* P_39030);
N_NIMCALL(NI, Gethash_39018)(NCSTRING Str_39020);
N_NIMCALL(NI, Gethashstr_39031)(NimStringDesc* S_39033);
N_NOINLINE(void, raiseIndexError)(void);
N_NIMCALL(NI, Getnormalizedhash_39037)(NimStringDesc* S_39039);
N_NIMCALL(NI, Gethashstrci_39034)(NimStringDesc* S_39036);
N_NIMCALL(NI, Gethashci_39021)(NCSTRING Str_39023);
N_NIMCALL(NI, Conchash_39040)(NI H_39042, NI Val_39043) {
NI Result_39051;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "concHash";
F.prev = framePtr;
F.filename = "rod/nhashes.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_39051 = 0;
F.line = 36;F.filename = "nhashes.nim";
Result_39051 = (NI64)((NU64)(H_39042) + (NU64)(Val_39043));
F.line = 37;F.filename = "nhashes.nim";
Result_39051 = (NI64)((NU64)(Result_39051) + (NU64)((NI64)((NU64)(Result_39051) << (NU64)(10))));
F.line = 38;F.filename = "nhashes.nim";
Result_39051 = (NI64)(Result_39051 ^ (NI64)((NU64)(Result_39051) >> (NU64)(6)));
framePtr = framePtr->prev;
return Result_39051;
}
N_NIMCALL(NI, Finishhash_39044)(NI H_39046) {
NI Result_39055;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "finishHash";
F.prev = framePtr;
F.filename = "rod/nhashes.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_39055 = 0;
F.line = 41;F.filename = "nhashes.nim";
Result_39055 = (NI64)((NU64)(H_39046) + (NU64)((NI64)((NU64)(H_39046) << (NU64)(3))));
F.line = 42;F.filename = "nhashes.nim";
Result_39055 = (NI64)(Result_39055 ^ (NI64)((NU64)(Result_39055) >> (NU64)(11)));
F.line = 43;F.filename = "nhashes.nim";
Result_39055 = (NI64)((NU64)(Result_39055) + (NU64)((NI64)((NU64)(Result_39055) << (NU64)(15))));
framePtr = framePtr->prev;
return Result_39055;
}
static N_INLINE(NI, addInt)(NI A_5803, NI B_5804) {
NI Result_5805;
NIM_BOOL LOC2;
Result_5805 = 0;
Result_5805 = (NI64)((NU64)(A_5803) + (NU64)(B_5804));
LOC2 = (0 <= (NI64)(Result_5805 ^ A_5803));
if (LOC2) goto LA3;
LOC2 = (0 <= (NI64)(Result_5805 ^ B_5804));
LA3: ;
if (!LOC2) goto LA4;
goto BeforeRet;
LA4: ;
raiseOverflow();
BeforeRet: ;
return Result_5805;
}
static N_INLINE(NI, subInt)(NI A_6003, NI B_6004) {
NI Result_6005;
NIM_BOOL LOC2;
Result_6005 = 0;
Result_6005 = (NI64)((NU64)(A_6003) - (NU64)(B_6004));
LOC2 = (0 <= (NI64)(Result_6005 ^ A_6003));
if (LOC2) goto LA3;
LOC2 = (0 <= (NI64)(Result_6005 ^ (NI64)((NU64) ~(B_6004))));
LA3: ;
if (!LOC2) goto LA4;
goto BeforeRet;
LA4: ;
raiseOverflow();
BeforeRet: ;
return Result_6005;
}
N_NIMCALL(NI, Getdatahash_39024)(void* Data_39026, NI Size_39027) {
NI Result_39060;
NI H_39061;
NCSTRING P_39062;
NI I_39063;
NI S_39064;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "GetDataHash";
F.prev = framePtr;
F.filename = "rod/nhashes.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_39060 = 0;
H_39061 = 0;
P_39062 = 0;
I_39063 = 0;
S_39064 = 0;
F.line = 50;F.filename = "nhashes.nim";
H_39061 = 0;
F.line = 51;F.filename = "nhashes.nim";
P_39062 = ((NCSTRING) (Data_39026));
F.line = 52;F.filename = "nhashes.nim";
I_39063 = 0;
F.line = 53;F.filename = "nhashes.nim";
S_39064 = Size_39027;
F.line = 54;F.filename = "nhashes.nim";
while (1) {
if (!(0 < S_39064)) goto LA1;
F.line = 55;F.filename = "nhashes.nim";
H_39061 = (NI64)((NU64)(H_39061) + (NU64)(((NU8)(P_39062[I_39063]))));
F.line = 56;F.filename = "nhashes.nim";
H_39061 = (NI64)((NU64)(H_39061) + (NU64)((NI64)((NU64)(H_39061) << (NU64)(10))));
F.line = 57;F.filename = "nhashes.nim";
H_39061 = (NI64)(H_39061 ^ (NI64)((NU64)(H_39061) >> (NU64)(6)));
F.line = 58;F.filename = "nhashes.nim";
I_39063 = addInt(I_39063, 1);
F.line = 59;F.filename = "nhashes.nim";
S_39064 = subInt(S_39064, 1);
} LA1: ;
F.line = 60;F.filename = "nhashes.nim";
H_39061 = (NI64)((NU64)(H_39061) + (NU64)((NI64)((NU64)(H_39061) << (NU64)(3))));
F.line = 61;F.filename = "nhashes.nim";
H_39061 = (NI64)(H_39061 ^ (NI64)((NU64)(H_39061) >> (NU64)(11)));
F.line = 62;F.filename = "nhashes.nim";
H_39061 = (NI64)((NU64)(H_39061) + (NU64)((NI64)((NU64)(H_39061) << (NU64)(15))));
F.line = 63;F.filename = "nhashes.nim";
Result_39060 = ((NI) (H_39061));
framePtr = framePtr->prev;
return Result_39060;
}
N_NIMCALL(NI, Hashptr_39028)(void* P_39030) {
NI Result_39100;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "hashPtr";
F.prev = framePtr;
F.filename = "rod/nhashes.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_39100 = 0;
F.line = 66;F.filename = "nhashes.nim";
Result_39100 = (NI64)((NU64)(((NI) (P_39030))) >> (NU64)(3));
framePtr = framePtr->prev;
return Result_39100;
}
N_NIMCALL(NI, Gethash_39018)(NCSTRING Str_39020) {
NI Result_39104;
NI H_39105;
NI I_39106;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "GetHash";
F.prev = framePtr;
F.filename = "rod/nhashes.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_39104 = 0;
H_39105 = 0;
I_39106 = 0;
F.line = 72;F.filename = "nhashes.nim";
H_39105 = 0;
F.line = 73;F.filename = "nhashes.nim";
I_39106 = 0;
F.line = 74;F.filename = "nhashes.nim";
while (1) {
if (!!(((NU8)(Str_39020[I_39106]) == (NU8)(0)))) goto LA1;
F.line = 75;F.filename = "nhashes.nim";
H_39105 = (NI64)((NU64)(H_39105) + (NU64)(((NU8)(Str_39020[I_39106]))));
F.line = 76;F.filename = "nhashes.nim";
H_39105 = (NI64)((NU64)(H_39105) + (NU64)((NI64)((NU64)(H_39105) << (NU64)(10))));
F.line = 77;F.filename = "nhashes.nim";
H_39105 = (NI64)(H_39105 ^ (NI64)((NU64)(H_39105) >> (NU64)(6)));
F.line = 78;F.filename = "nhashes.nim";
I_39106 = addInt(I_39106, 1);
} LA1: ;
F.line = 79;F.filename = "nhashes.nim";
H_39105 = (NI64)((NU64)(H_39105) + (NU64)((NI64)((NU64)(H_39105) << (NU64)(3))));
F.line = 80;F.filename = "nhashes.nim";
H_39105 = (NI64)(H_39105 ^ (NI64)((NU64)(H_39105) >> (NU64)(11)));
F.line = 81;F.filename = "nhashes.nim";
H_39105 = (NI64)((NU64)(H_39105) + (NU64)((NI64)((NU64)(H_39105) << (NU64)(15))));
F.line = 82;F.filename = "nhashes.nim";
Result_39104 = ((NI) (H_39105));
framePtr = framePtr->prev;
return Result_39104;
}
N_NIMCALL(NI, Gethashstr_39031)(NimStringDesc* S_39033) {
NI Result_39130;
NI H_39131;
NI I_39156;
NI HEX3Atmp_39163;
NI Res_39165;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "GetHashStr";
F.prev = framePtr;
F.filename = "rod/nhashes.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_39130 = 0;
H_39131 = 0;
F.line = 86;F.filename = "nhashes.nim";
H_39131 = 0;
I_39156 = 0;
HEX3Atmp_39163 = 0;
F.line = 87;F.filename = "nhashes.nim";
HEX3Atmp_39163 = S_39033->Sup.len;
Res_39165 = 0;
F.line = 1021;F.filename = "system.nim";
Res_39165 = 1;
F.line = 1022;F.filename = "system.nim";
while (1) {
if (!(Res_39165 <= HEX3Atmp_39163)) goto LA1;
F.line = 1021;F.filename = "system.nim";
I_39156 = Res_39165;
F.line = 88;F.filename = "nhashes.nim";
if ((NU)(I_39156) > (NU)(S_39033->Sup.len)) raiseIndexError();
H_39131 = (NI64)((NU64)(H_39131) + (NU64)(((NU8)(S_39033->data[I_39156]))));
F.line = 89;F.filename = "nhashes.nim";
H_39131 = (NI64)((NU64)(H_39131) + (NU64)((NI64)((NU64)(H_39131) << (NU64)(10))));
F.line = 90;F.filename = "nhashes.nim";
H_39131 = (NI64)(H_39131 ^ (NI64)((NU64)(H_39131) >> (NU64)(6)));
F.line = 1024;F.filename = "system.nim";
Res_39165 = addInt(Res_39165, 1);
} LA1: ;
F.line = 91;F.filename = "nhashes.nim";
H_39131 = (NI64)((NU64)(H_39131) + (NU64)((NI64)((NU64)(H_39131) << (NU64)(3))));
F.line = 92;F.filename = "nhashes.nim";
H_39131 = (NI64)(H_39131 ^ (NI64)((NU64)(H_39131) >> (NU64)(11)));
F.line = 93;F.filename = "nhashes.nim";
H_39131 = (NI64)((NU64)(H_39131) + (NU64)((NI64)((NU64)(H_39131) << (NU64)(15))));
F.line = 94;F.filename = "nhashes.nim";
Result_39130 = ((NI) (H_39131));
framePtr = framePtr->prev;
return Result_39130;
}
N_NIMCALL(NI, Getnormalizedhash_39037)(NimStringDesc* S_39039) {
NI Result_39171;
NI H_39172;
NIM_CHAR C_39173;
NI I_39183;
NI HEX3Atmp_39219;
NI Res_39221;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "getNormalizedHash";
F.prev = framePtr;
F.filename = "rod/nhashes.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_39171 = 0;
H_39172 = 0;
C_39173 = 0;
F.line = 100;F.filename = "nhashes.nim";
H_39172 = 0;
I_39183 = 0;
HEX3Atmp_39219 = 0;
F.line = 101;F.filename = "nhashes.nim";
HEX3Atmp_39219 = subInt(addInt(S_39039->Sup.len, 0), 1);
Res_39221 = 0;
F.line = 1021;F.filename = "system.nim";
Res_39221 = 0;
F.line = 1022;F.filename = "system.nim";
while (1) {
if (!(Res_39221 <= HEX3Atmp_39219)) goto LA1;
F.line = 1021;F.filename = "system.nim";
I_39183 = Res_39221;
F.line = 102;F.filename = "nhashes.nim";
if ((NU)(I_39183) > (NU)(S_39039->Sup.len)) raiseIndexError();
C_39173 = S_39039->data[I_39183];
F.line = 103;F.filename = "nhashes.nim";
if (!((NU8)(C_39173) == (NU8)(95))) goto LA4;
F.line = 104;F.filename = "nhashes.nim";
goto LA2;
LA4: ;
F.line = 105;F.filename = "nhashes.nim";
if (!(((NU8)(C_39173)) >= ((NU8)(65)) && ((NU8)(C_39173)) <= ((NU8)(90)))) goto LA7;
F.line = 106;F.filename = "nhashes.nim";
C_39173 = ((NIM_CHAR) (((NI) (addInt(((NU8)(C_39173)), 32)))));
LA7: ;
F.line = 107;F.filename = "nhashes.nim";
H_39172 = (NI64)((NU64)(H_39172) + (NU64)(((NU8)(C_39173))));
F.line = 108;F.filename = "nhashes.nim";
H_39172 = (NI64)((NU64)(H_39172) + (NU64)((NI64)((NU64)(H_39172) << (NU64)(10))));
F.line = 109;F.filename = "nhashes.nim";
H_39172 = (NI64)(H_39172 ^ (NI64)((NU64)(H_39172) >> (NU64)(6)));
LA2: ;
F.line = 1024;F.filename = "system.nim";
Res_39221 = addInt(Res_39221, 1);
} LA1: ;
F.line = 110;F.filename = "nhashes.nim";
H_39172 = (NI64)((NU64)(H_39172) + (NU64)((NI64)((NU64)(H_39172) << (NU64)(3))));
F.line = 111;F.filename = "nhashes.nim";
H_39172 = (NI64)(H_39172 ^ (NI64)((NU64)(H_39172) >> (NU64)(11)));
F.line = 112;F.filename = "nhashes.nim";
H_39172 = (NI64)((NU64)(H_39172) + (NU64)((NI64)((NU64)(H_39172) << (NU64)(15))));
F.line = 113;F.filename = "nhashes.nim";
Result_39171 = ((NI) (H_39172));
framePtr = framePtr->prev;
return Result_39171;
}
N_NIMCALL(NI, Gethashstrci_39034)(NimStringDesc* S_39036) {
NI Result_39227;
NI H_39228;
NIM_CHAR C_39229;
NI I_39239;
NI HEX3Atmp_39273;
NI Res_39275;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "GetHashStrCI";
F.prev = framePtr;
F.filename = "rod/nhashes.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_39227 = 0;
H_39228 = 0;
C_39229 = 0;
F.line = 119;F.filename = "nhashes.nim";
H_39228 = 0;
I_39239 = 0;
HEX3Atmp_39273 = 0;
F.line = 120;F.filename = "nhashes.nim";
HEX3Atmp_39273 = subInt(addInt(S_39036->Sup.len, 0), 1);
Res_39275 = 0;
F.line = 1021;F.filename = "system.nim";
Res_39275 = 0;
F.line = 1022;F.filename = "system.nim";
while (1) {
if (!(Res_39275 <= HEX3Atmp_39273)) goto LA1;
F.line = 1021;F.filename = "system.nim";
I_39239 = Res_39275;
F.line = 121;F.filename = "nhashes.nim";
if ((NU)(I_39239) > (NU)(S_39036->Sup.len)) raiseIndexError();
C_39229 = S_39036->data[I_39239];
F.line = 122;F.filename = "nhashes.nim";
if (!(((NU8)(C_39229)) >= ((NU8)(65)) && ((NU8)(C_39229)) <= ((NU8)(90)))) goto LA3;
F.line = 123;F.filename = "nhashes.nim";
C_39229 = ((NIM_CHAR) (((NI) (addInt(((NU8)(C_39229)), 32)))));
LA3: ;
F.line = 124;F.filename = "nhashes.nim";
H_39228 = (NI64)((NU64)(H_39228) + (NU64)(((NU8)(C_39229))));
F.line = 125;F.filename = "nhashes.nim";
H_39228 = (NI64)((NU64)(H_39228) + (NU64)((NI64)((NU64)(H_39228) << (NU64)(10))));
F.line = 126;F.filename = "nhashes.nim";
H_39228 = (NI64)(H_39228 ^ (NI64)((NU64)(H_39228) >> (NU64)(6)));
F.line = 1024;F.filename = "system.nim";
Res_39275 = addInt(Res_39275, 1);
} LA1: ;
F.line = 127;F.filename = "nhashes.nim";
H_39228 = (NI64)((NU64)(H_39228) + (NU64)((NI64)((NU64)(H_39228) << (NU64)(3))));
F.line = 128;F.filename = "nhashes.nim";
H_39228 = (NI64)(H_39228 ^ (NI64)((NU64)(H_39228) >> (NU64)(11)));
F.line = 129;F.filename = "nhashes.nim";
H_39228 = (NI64)((NU64)(H_39228) + (NU64)((NI64)((NU64)(H_39228) << (NU64)(15))));
F.line = 130;F.filename = "nhashes.nim";
Result_39227 = ((NI) (H_39228));
framePtr = framePtr->prev;
return Result_39227;
}
N_NIMCALL(NI, Gethashci_39021)(NCSTRING Str_39023) {
NI Result_39281;
NI H_39282;
NIM_CHAR C_39283;
NI I_39284;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "GetHashCI";
F.prev = framePtr;
F.filename = "rod/nhashes.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_39281 = 0;
H_39282 = 0;
C_39283 = 0;
I_39284 = 0;
F.line = 137;F.filename = "nhashes.nim";
H_39282 = 0;
F.line = 138;F.filename = "nhashes.nim";
I_39284 = 0;
F.line = 139;F.filename = "nhashes.nim";
while (1) {
if (!!(((NU8)(Str_39023[I_39284]) == (NU8)(0)))) goto LA1;
F.line = 140;F.filename = "nhashes.nim";
C_39283 = Str_39023[I_39284];
F.line = 141;F.filename = "nhashes.nim";
if (!(((NU8)(C_39283)) >= ((NU8)(65)) && ((NU8)(C_39283)) <= ((NU8)(90)))) goto LA3;
F.line = 142;F.filename = "nhashes.nim";
C_39283 = ((NIM_CHAR) (((NI) (addInt(((NU8)(C_39283)), 32)))));
LA3: ;
F.line = 143;F.filename = "nhashes.nim";
H_39282 = (NI64)((NU64)(H_39282) + (NU64)(((NU8)(C_39283))));
F.line = 144;F.filename = "nhashes.nim";
H_39282 = (NI64)((NU64)(H_39282) + (NU64)((NI64)((NU64)(H_39282) << (NU64)(10))));
F.line = 145;F.filename = "nhashes.nim";
H_39282 = (NI64)(H_39282 ^ (NI64)((NU64)(H_39282) >> (NU64)(6)));
F.line = 146;F.filename = "nhashes.nim";
I_39284 = addInt(I_39284, 1);
} LA1: ;
F.line = 147;F.filename = "nhashes.nim";
H_39282 = (NI64)((NU64)(H_39282) + (NU64)((NI64)((NU64)(H_39282) << (NU64)(3))));
F.line = 148;F.filename = "nhashes.nim";
H_39282 = (NI64)(H_39282 ^ (NI64)((NU64)(H_39282) >> (NU64)(11)));
F.line = 149;F.filename = "nhashes.nim";
H_39282 = (NI64)((NU64)(H_39282) + (NU64)((NI64)((NU64)(H_39282) << (NU64)(15))));
F.line = 150;F.filename = "nhashes.nim";
Result_39281 = ((NI) (H_39282));
framePtr = framePtr->prev;
return Result_39281;
}
N_NOINLINE(void, nhashesInit)(void) {
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "nhashes";
F.prev = framePtr;
F.filename = "rod/nhashes.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
framePtr = framePtr->prev;
}

